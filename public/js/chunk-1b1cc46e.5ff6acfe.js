(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b1cc46e","chunk-71ba1b66"],{"02e5":function(t,e,o){"use strict";o.r(e);var i,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("base-header",{staticClass:"pb-6"},[o("div",{staticClass:"row align-items-center py-4"},[o("div",{staticClass:"col-lg-6 col-7"},[o("h6",{staticClass:"h2 text-white d-inline-block mb-0"},[t._v("Studio Profile")]),o("nav",{staticClass:"d-none d-md-inline-block ml-md-4",attrs:{"aria-label":"breadcrumb"}},[o("route-breadcrumb")],1)]),o("div",{staticClass:"col-lg-6 col-5 text-right"},[t.loading?t._e():o("button-with-loading",{staticStyle:{margin:"0",display:"inline-block"},attrs:{type:"white",size:"40",color:"white",fontSize:"10",padding:"5px 8px",text:"Save",complete:t.isButtonLoadingComplete},on:{start:t.saveStudioInfo}})],1)])]),o("div",{staticClass:"container-fluid mt--6"},[o("div",{staticClass:"row card-wrapper"},[o("div",{staticClass:"col-lg-4"},[o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body",staticStyle:{"min-height":"300px"}},[t.loading?o("card-loading"):o("form",[o("div",[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("Studio Name")]),o("div",{staticClass:"has-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.studioName,expression:"studioName"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.studioName},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.studioName=e.target.value)}}})])])])]),o("div",[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("Email")]),o("div",{staticClass:"has-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",class:{"is-invalid":t.isInvalid},attrs:{type:"email"},domProps:{value:t.email},on:{blur:function(e){return e.preventDefault(),t.validationEmail(e)},keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v(" The email is not correct. ")])])])]),o("div",[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("Phone")]),o("div",{staticClass:"has-label"},[o("div",{staticClass:"input-group"},[o("div",{staticClass:"input-group-prepend tk-px-width-px90"},[o("span",{staticClass:"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center",staticStyle:{padding:"0"}},[o("el-select",{staticClass:"tk-select-border-none tk-border-bottom tk-select-bg-mute",model:{value:t.countryCodeSelected,callback:function(e){t.countryCodeSelected=e},expression:"countryCodeSelected"}},t._l(t.countrySelects.options,(function(t,e){return o("el-option",{key:e,attrs:{label:t.label+"  "+t.areaCode,value:t.value}})})),1)],1)]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",domProps:{value:t.phone},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])])])])])],1)]),o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body",staticStyle:{"min-height":"300px"}},[t.loading?o("card-loading"):o("form",[o("div",[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("Street")]),o("div",{staticClass:"has-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.street},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.street=e.target.value)}}})])])])]),o("div",[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("City")]),o("div",{staticClass:"has-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})])])])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-4"},[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("State")]),o("div",{staticClass:"has-label"},[o("div",{staticClass:"input-group"},[o("div",{staticClass:"input-group-prepend tk-px-width-px90"},[o("span",{staticClass:"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center",staticStyle:{padding:"0"}},[o("el-select",{staticClass:"tk-select-border-none tk-border-bottom tk-select-bg-mute",model:{value:t.stateSelected,callback:function(e){t.stateSelected=e},expression:"stateSelected"}},t._l(t.stateSelects.options,(function(t,e){return o("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)])])])])])]),o("div",{staticClass:"col-md-8"},[o("span",[o("div",{staticClass:"form-group"},[o("label",{staticClass:"form-control-label"},[t._v("Zip Code")]),o("div",{staticClass:"has-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.zipCode,expression:"zipCode"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.zipCode},on:{input:function(e){e.target.composing||(t.zipCode=e.target.value)}}})])])])])])])],1)])]),o("div",{staticClass:"col-lg-4"},[o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body",staticStyle:{"min-height":"600px"},attrs:{id:"logoContainer"}},[t.loading?o("card-loading"):[o("span",[o("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[o("label",{staticClass:"form-control-label"},[t._v("Branding")]),o("div",{staticClass:"has-label"},[o("div",{staticClass:"form-control tk-px-height-px200 tk-cursor-pointer",staticStyle:{"text-align":"center","line-height":"170px"},attrs:{id:"previewLogo"}},[""==t.crop?o("img",{staticClass:"tk-layout-inline-block tk-px-height-px160",attrs:{src:t.logo}}):o("img",{staticClass:"tk-layout-inline-block tk-px-height-px160",attrs:{src:t.crop}})])])])]),o("span",[o("div",{staticClass:"form-group",attrs:{id:"imgCutterModal"}},[o("label",{staticClass:"form-control-label"}),o("div",{staticClass:"has-label",staticStyle:{"margin-top":"8px"}},[t.boxSize>0?o("ImgCutter",{ref:"imgCutterModal",attrs:{label:"Select pictures",fileType:"jpeg",crossOrigin:!1,crossOriginHeader:"*",rate:"1:1",tool:!1,toolBgc:"none",isModal:!1,showChooseBtn:!0,lockScroll:!1,boxWidth:t.boxSize,boxHeight:t.boxSize,cutWidth:parseInt(t.boxSize/5*3),cutHeight:parseInt(t.boxSize/5*3),sizeChange:!0,moveAble:!0,originalGraph:!1,WatermarkText:" ",smallToUpload:!0,saveCutPosition:!1,scaleAble:!0,previewMode:!0},on:{cutDown:t.onCutDown,error:t.onCutError,onChooseImg:t.onChooseImg,onPrintImg:t.onPrintImg,onClearAll:t.onClearAll}},[o("div",{staticClass:"btn btn-secondary tk-border-none tk-bg-color-white tk-font-color-main",staticStyle:{display:"block"},attrs:{slot:"choose"},on:{click:t.openCutter},slot:"choose"},[t._v(" Select pictures ")])]):t._e()],1)])]),o("div",{staticClass:"form-group",attrs:{id:"storefrontColor"}},[o("label",{staticClass:"form-control-label d-block mb-3"},[t._v("Storefront Color")]),o("div",{staticClass:"btn-group btn-group-toggle btn-group-colors event-tag"},t._l(t.eventColors,(function(e){return o("label",{key:e,staticClass:"btn",class:[e,{"active focused":t.model.className===e}]},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.className,expression:"model.className"}],attrs:{type:"radio",name:"event-tag",autocomplete:"off"},domProps:{value:e,checked:t._q(t.model.className,e)},on:{change:function(o){return t.$set(t.model,"className",e)}}})])})),0)])]],2)])]),o("div",{staticClass:"col-lg-4"},[o("div",{staticClass:"card mb-4",class:t.model.className},[o("div",{staticClass:"card-body tk-border-color-white tk-px-radius-px8",staticStyle:{"min-height":"600px"}},[t.loading?o("card-loading"):o("form",[o("span",[o("div",{staticClass:"form-group"},[o("div",{staticClass:"form-control-flush"},[o("div",{staticClass:"tk-layout-inline-block tk-layout-inline-block-top tk-font-color-white text-xxl lh-140",staticStyle:{width:"75%"}},[t._v(" Hi student, Welcome to"),o("br"),t._v(t._s(t.studioName)+"! ")]),o("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-layout-inline-block-top tk-bg-color-transparent",staticStyle:{width:"25%"}},[o("avatar",{attrs:{studioId:t.studioInfo.id,name:t.studioInfo.name}})],1)])])]),o("div",[o("div",{staticClass:"tk-font-color-white tk-font-weight-light",staticStyle:{opacity:"0.8","margin-bottom":"0.5rem"}},[t._v(" Your lesson: ")]),o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"tk-lesson-type-instrument tk-layout-inline-block"},[o("div",{staticClass:"avatar rounded-circle tk-bg-color-white"},[o("img",{attrs:{src:t.lessonTypeInstrumentIcon}})]),o("div",{staticClass:"tk-lesson-type-check"},[o("i",{staticClass:"fas fa-check-circle"})])]),o("div",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 80px)","margin-left":"16px"}},[o("div",{staticClass:"tk-font-weight-bold tk-font-letter-spacing-1 tk-font-color-black2 text-lg"},[t._v(" Trial lesson ")]),o("div",[o("div",{staticClass:"tk-px-width-px24 tk-px-height-px24 tk-layout-inline-block",staticStyle:{"border-radius":"40px",overflow:"hidden"}},[o("avatar",{staticStyle:{"vertical-align":"top"},attrs:{studioId:t.studioInfo.id,name:t.studioInfo.name,sizeClass:"avatar-xs",textClass:"text-xs"}})],1),o("div",{staticClass:"tk-layout-inline-block tk-font-color-gray tk-font-weight-light text-sm",staticStyle:{width:"calc(100% - 32px)","margin-left":"8px"}},[t._v(" "+t._s(t.name)+" ")])]),o("div",{staticClass:"tk-font-weight-light tk-font-color-gray text-sm",staticStyle:{"margin-top":"4px"}},[t._v(" Private, 60 minutes, $0 ")])])])])]),o("div",[o("div",{staticClass:"tk-font-color-white tk-font-weight-light",staticStyle:{opacity:"0.8","margin-bottom":"0.5rem"}},[t._v(" Info: ")]),""!==t.phone?o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px)"}},[o("div",{staticClass:"tk-font-weight-bold tk-font-letter-spacing-1 tk-font-color-black2 text-lg"},[t._v(" "+t._s(t.getPhonePrefix())+" "+t._s(t.phone)+" ")]),o("div",{staticClass:"tk-font-weight-light tk-font-color-gray text-sm",staticStyle:{"margin-top":"2px"}},[t._v(" Phone ")])]),o("div",{staticClass:"tk-layout-inline-block tk-px-width-px40 tk-bg-color-green tk-font-color-white tk-text-center",staticStyle:{"margint-left":"8px","border-radius":"40px","line-height":"40px"}},[o("i",{staticClass:"fas fa-phone"})])])]):t._e(),""!==t.email?o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px)"}},[o("div",{staticClass:"tk-font-weight-bold tk-font-letter-spacing-1 tk-font-color-black2 text-lg"},[t._v(" "+t._s(t.email)+" ")]),o("div",{staticClass:"tk-font-weight-light tk-font-color-gray text-sm",staticStyle:{"margin-top":"2px"}},[t._v(" Email ")])]),o("div",{staticClass:"tk-layout-inline-block tk-px-width-px40 tk-bg-color-orange tk-font-color-white tk-text-center",staticStyle:{"margint-left":"8px","border-radius":"40px","line-height":"40px"}},[o("i",{staticClass:"fas fa-location-arrow"})])])]):t._e(),""!==t.street||""!==t.city?o("div",{staticClass:"card mb-4"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px)"}},[o("div",{staticClass:"tk-font-weight-bold tk-font-letter-spacing-1 tk-font-color-black2 text-lg"},[t._v(" "+t._s(t.street)+" "+t._s(t.city)+" ")]),o("div",{staticClass:"tk-font-weight-light tk-font-color-gray text-sm",staticStyle:{"margin-top":"2px"}},[t._v(" Address ")])]),o("div",{staticClass:"tk-layout-inline-block tk-px-width-px40 tk-bg-color-card6 tk-font-color-white tk-text-center",staticStyle:{"margint-left":"8px","border-radius":"40px","line-height":"40px"}},[o("i",{staticClass:"fas fa-map-marker-alt"})])])]):t._e()])])],1)])])])])],1)},r=[],a=(o("82a8"),o("2a39"),o("cfa8"),o("6a61"),o("9ad1")),s=o("2cb5"),l=(o("9102"),o("2984"),o("3aa8")),c=o.n(l),d=(o("086f"),o("ce6c")),u=o.n(d),h=o("fef9"),f=(o("2b84"),o("5e3a")),g=o("fdc1"),p=o("a125"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[!0===t.showChooseBtn&&!0===t.isModal?o("div",{on:{click:t.handleOpen}},[t._t("openImgCutter"),t._t("open")],2):t._e(),t.$slots.openImgCutter||t.$slots.open||!0!==t.isModal?t._e():o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleOpen}},[t._v(t._s(t.label)+" ")]),o("transition",{attrs:{name:"fade"}},[t.visible?o("div",{ref:"mask",class:!0===t.isModal?"mask vue-img-cutter":""},[t.visible?o("div",{class:!0===t.isModal?"dialogBoxModal":"dialogBox"},[o("transition",{attrs:{name:"fade","enter-class":"fade-in-enter","enter-active-class":"fade-in-active","leave-class":"fade-out-enter","leave-active-class":"fade-out-active"}},[o("div",{ref:"dialogMainModalRef",class:!0===t.isModal?"dialogMainModal":"dialogMain",style:"width:"+(!0===t.isModal?t.boxWidth+32:t.boxWidth)+"px"},[o("div",{staticClass:"toolMain"},[!0===t.isModal?o("div",{staticClass:"tool-title"},[o("span",{staticClass:"closeIcon",on:{click:t.handleClose}},[t._v("×")])]):t._e(),o("div",{ref:"toolBox",staticClass:"toolBox",style:"height:"+t.boxHeight+"px;width:"+t.boxWidth+"px",on:{mousemove:t.controlBtnMouseMove,mouseup:t.controlBtnMouseUp,mouseleave:t.controlBtnMouseUp}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.drawImg.img&&!0===t.showChooseBtn,expression:"!drawImg.img && showChooseBtn===true"}],staticClass:"tips"},[o("div",{staticClass:"btn btn-primary btn-xs",on:{click:t.chooseImg}},[t._v(t._s(t.label))])]),1==t.tool?o("div",{directives:[{name:"show",rawName:"v-show",value:this.drawImg.img&&!0!==t.dropImg.active&&1==t.controlBox.disable&&1==t.toolBox.disable,expression:"this.drawImg.img && dropImg.active!==true && controlBox.disable==true && toolBox.disable==true"}],staticClass:"dockMain",style:"background:"+this.toolBgc,on:{mouseenter:t.dropImgOff}},[t.rate?o("div",{staticClass:"dockBtn"},[t._t("ratio",[t._v(" Ratio: ")]),t._v(" "+t._s(t.rate)+" ")],2):t._e(),o("div",{staticClass:"dockBtn",on:{click:t.scaleReset}},[t._t("scaleReset",[t._v(" Scale: ")]),t._v(" "+t._s(t.drawImg.swidth>0?(t.drawImg.width/t.drawImg.swidth).toFixed(2):"-")+" ")],2),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnImg(-90)}}},[t._t("turnLeft",[t._v(" ↳ ")])],2):t._e(),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnImg(90)}}},[t._t("turnRight",[t._v(" ↲ ")])],2):t._e(),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnReset()}}},[t._t("reset",[t._v(" ↻ ")])],2):t._e(),!1===t.originalGraph?o("div",{staticClass:"dockBtnScrollBar"},[o("div",{ref:"dockBtnScrollControl",staticClass:"scrollBarControl",style:"left:"+t.rotateControl.position+"px",on:{mousemove:t.scrollBarControlMove,mousedown:t.scrollBarControlOn,mouseleave:t.scrollBarControlOff,mouseup:t.scrollBarControlOff}}),1==t.rotateControl.active?o("div",{staticClass:"scrollBarText",style:"left:"+t.rotateControl.position+"px"},[t._v(" "+t._s(t.rotateImg.angle.toFixed(0)+"°")+" ")]):t._e()]):t._e(),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:t.flipHorizontal}},[t._t("flipHorizontal",[t._v(" ⇆ ")])],2):t._e(),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:t.flipVertically}},[t._t("turnRight",[t._v(" ⇅ ")])],2):t._e()]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.drawImg.img,expression:"drawImg.img!=null"}],ref:"toolBoxControl",staticClass:"toolBoxControl",on:{mousedown:t.toolBoxMouseDown,mouseup:t.toolBoxMouseUp,mousemove:t.toolBoxMouseMove,mouseleave:t.toolBoxMouseLeave}},[o("div",{staticClass:"toolBoxControlBox"},[o("div",{staticClass:"controlBox"},[o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineTop"}),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineBottom"}),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineLeft"}),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineRight"}),!1===t.originalGraph?o("div",{staticClass:"selectArea"},[t._v(" (x:"+t._s(t.toolBoxPosition.x)+",y:"+t._s(t.toolBoxPosition.y)+") ")]):t._e(),!0===t.originalGraph?o("div",{staticClass:"selectArea"},[t._v(" 宽:"+t._s((t.toolBox.width/(t.drawImg.width/t.drawImg.swidth)).toFixed(0))+" 高:"+t._s((t.toolBox.height/(t.drawImg.width/t.drawImg.swidth)).toFixed(0))+" (x:"+t._s(t.toolBoxPosition.x)+",y:"+t._s(t.toolBoxPosition.y)+") ")]):t._e(),!0===t.sizeChange?o("div",{staticClass:"leftUp controlBtn",attrs:{"data-name":"leftUp"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftUp")}}}):t._e(),!0===t.sizeChange?o("div",{staticClass:"leftDown controlBtn",attrs:{"data-name":"leftDown"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftDown")}}}):t._e(),!0===t.sizeChange?o("div",{staticClass:"rightUp controlBtn",attrs:{"data-name":"rightUp"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightUp")}}}):t._e(),!0===t.sizeChange?o("div",{staticClass:"rightDown controlBtn",attrs:{"data-name":"rightDown"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightDown")}}}):t._e(),!0===t.sizeChange&&!t.rate&&this.toolBox.width>20?o("div",{staticClass:"topCenter controlBtn",attrs:{"data-name":"topCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"topCenter")}}}):t._e(),!0===t.sizeChange&&!t.rate&&this.toolBox.width>20?o("div",{staticClass:"downCenter controlBtn",attrs:{"data-name":"downCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"downCenter")}}}):t._e(),!0===t.sizeChange&&!t.rate&&this.toolBox.height>20?o("div",{staticClass:"leftCenter controlBtn",attrs:{"data-name":"leftCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftCenter")}}}):t._e(),!0===t.sizeChange&&!t.rate&&this.toolBox.height>20?o("div",{staticClass:"rightCenter controlBtn",attrs:{"data-name":"rightCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightCenter")}}}):t._e()]),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-1"}),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-2"}),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-3"}),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-4"})])]),o("canvas",{ref:"canvasSelectBox",staticClass:"canvasSelectBox",attrs:{width:t.boxWidth,height:t.boxHeight},on:{mousedown:t.dropImgOn,mouseup:t.dropImgOff,mousemove:t.dropImgMove}}),o("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:t.boxWidth,height:t.boxHeight}})])]),o("div",{staticClass:"i-dialog-footer"},[o("input",{ref:"inputFile",staticStyle:{width:"1px",height:"1px",border:"none",opacity:"0"},attrs:{type:"file",accept:"image/gif, image/jpeg ,image/png"},on:{change:t.putImgToCanv}}),t.drawImg.img?o("div",{staticClass:"btn-group fr"},[o("span",{on:{click:t.handleClose}},[t._t("cancel",[o("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Cancel")])])],2),o("span",{on:{click:function(e){return t.cropPicture(!1)}}},[t._t("confirm",[o("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"15px"},attrs:{type:"button",disabled:!t.drawImg.img}},[t._v("Confirm")])])],2)]):t._e()])])]),o("div",{staticStyle:{clear:"both"}})],1):t._e()]):t._e()])],1)},v=[],y=(o("ef34"),o("b34d"),o("a5bc"),o("f24f"),o("31d6"),o("324c"),o("d7d0"),o("0a93"),o("4132"),o("408f"),o("92a3"),o("e519"),o("b129"),o("791f"),o("9ff4"),o("2d52"),o("e560"),o("edb8"),o("293e"),o("6dcb"),o("8d50"),o("542e"),o("7cf4"),o("abc4"),o("1fea"),o("e6a4"),o("1b59"),o("99eb"),o("bbf7"),o("8532")),x=o("f923"),b=o("aa1f"),w={name:"ImgCutter",props:{crossOrigin:{type:Boolean,default:!1,required:!1},crossOriginHeader:{type:String,default:"*",required:!1},label:{type:String,default:"选择图片",required:!1},isModal:{type:Boolean,default:!0,required:!1},lockScroll:{type:Boolean,default:!0,required:!1},showChooseBtn:{type:Boolean,default:!0,required:!1},boxWidth:{type:Number,default:800,required:!1},boxHeight:{type:Number,default:400,required:!1},cutWidth:{type:Number,default:200,required:!1},cutHeight:{type:Number,default:200,required:!1},rate:{type:String,default:null,required:!1},tool:{type:Boolean,default:!0,required:!1},toolBgc:{type:String,default:"#fff",required:!1},sizeChange:{type:Boolean,default:!0,required:!1},originalGraph:{type:Boolean,default:!1,required:!1},moveAble:{type:Boolean,default:!0,required:!1},previewMode:{type:Boolean,default:!0,required:!1},CuttingOriginal:{type:Boolean,default:!1,required:!1},WatermarkText:{type:String,default:"",required:!1},WatermarkTextFont:{type:String,default:"12px Sans-serif",required:!1},WatermarkTextColor:{type:String,default:"#fff",required:!1},WatermarkTextX:{type:Number,default:.95,required:!1},WatermarkTextY:{type:Number,default:.95,required:!1},smallToUpload:{type:Boolean,default:!1,required:!1},saveCutPosition:{type:Boolean,default:!1,required:!1},scaleAble:{type:Boolean,default:!0,required:!1},index:{default:null,required:!1},fileType:{default:"png",required:!1,type:String},DoNotDisplayCopyright:{type:Boolean,default:!1,required:!1}},model:["label","boxWidth","boxHeight","rate","tool","DoNotDisplayCopyright"],data:function(){var t,e;return t=this.boxWidth/2,e=this.boxHeight/2,{version:"",visible:!1,fileName:"",cutImageObj:null,onPrintImgTimmer:null,toolBoxPosition:{x:0,y:0},drawImg:{img:null,sx:0,sy:0,swidth:0,sheight:0,x:0,y:0,width:0,height:0},toolBox:{disable:!0,width:t,height:e,x:0,y:0,boxMove:{start:{x:0,y:0},moveTo:{x:0,y:0}}},dropImg:{active:!1,pageX:0,pageY:0,params:{}},rotateImg:{angle:0},rotateControl:{active:!1,start:{x:0,y:0},position:100},scaleImg:{rate:0,params:{}},controlBox:{disable:!0,btnName:"",start:{x:0,y:0,width:0,height:0}},selectBox:!1,selectBoxColor:"rgba(0,0,0,0.6)",isFlipHorizontal:!1,isFlipVertically:!1}},mounted:function(){var t=this;this.version=b.version,!1===this.isModal&&(this.visible=!0,this.$nextTick((function(){t.$refs["toolBox"].onmousewheel=t.scaleImgWheel,t.$refs["toolBox"].addEventListener("DOMMouseScroll",t.scaleImgWheel)})))},methods:{handleOpen:function(t){var e=this,o=this,i=function(t){if(o.$refs["toolBox"].onmousewheel=e.scaleImgWheel,o.$refs["toolBox"].addEventListener("DOMMouseScroll",e.scaleImgWheel),!0===o.isModal){!0===o.lockScroll&&(document.body.style.overflowY="hidden");var i=o.$refs["dialogMainModalRef"].offsetHeight+200,n=window.innerHeight,r=o.$refs["mask"];r.style.overflowY=i>n?"scroll":"hidden"}t&&"function"===typeof t&&t()};if(t&&"object"==Object(x["a"])(t)&&t.src){if(!t.name)throw new Error("传入参数必须包含：src,name");var n=new Image;!0===this.crossOrigin&&(n.crossOrigin=this.crossOriginHeader),n.name=t.name,n.style.position="fixed",n.style.top=-5e3,n.style.opacity=0,n.onerror=function(t){console.error("图片加载失败"),o.$emit("error",{index:o.index,event:t,msg:"图片加载失败"}),o.clearCutImageObj()},n.onload=function(){if(!0!==n.complete)throw new Error("图片加载失败");o.visible=!0,o.$nextTick((function(){i((function(){o.importImgToCanv(n)}))}))},n.src=t.src,this.cutImageObj=n,document.body.appendChild(n),this.$emit("onChooseImg",t,this.index)}else o.visible=!0,o.$nextTick((function(){i()}))},handleClose:function(){var t=this;this.clearAll(),!0===this.isModal&&(!0===this.lockScroll&&(document.body.style.overflowY="scroll"),this.$nextTick((function(){t.visible=!1})))},chooseImg:function(){this.$refs["inputFile"].click()},importImgToCanv:function(t){var e=this;e.fileName=t.name;var o,i=t.height,n=t.width,r=e.boxWidth,a=e.boxHeight,s=Object(y["a"])({},e.drawImg);s.img=t,e.scaleImg.rate=n/i,i<a&&n<r?(o=1,s.x=(r-n)/2,s.y=(a-i)/2):n/i<=r/a?(o=a/i,s.x=(r-n*o)/2):(o=r/n,s.y=(a-i*o)/2),s.swidth=n,s.sheight=i,s.width=n*o,s.height=i*o,s.x=(r-s.width)/2,s.y=(a-s.height)/2,e.$set(e,"drawImg",s),e.printImg(),e.putToolBox()},putImgToCanv:function(t){var e,o=this;if(!t.target.files)return console.error("IE9及以下需要自己传入image对象"),!1;if(e=t.target.files[0]||null,e){this.fileName=e.name;var i=new FileReader;new Image,i.readAsDataURL(e),i.onload=function(t){var n=t.target.result,r=document.createElement("img");r.src=n;var a=setInterval((function(){if(2==i.readyState){if(clearInterval(a),!o.sizeChange&&o.smallToUpload&&r.width<=o.cutWidth&&r.height<=o.cutHeight)return o.handleClose(),e.name=o.changeFileName(e.name,o.fileType),void o.$emit("cutDown",{filename:o.changeFileName(e.name,o.fileType),file:e,index:o.index});var t,n=r.height,s=r.width,l=o.boxWidth,c=o.boxHeight,d=Object(y["a"])({},o.drawImg);d.img=r,o.scaleImg.rate=s/n,n<c&&s<l?(t=1,d.x=(l-s)/2,d.y=(c-n)/2):s/n<=l/c?(t=c/n,d.x=(l-s*t)/2):(t=l/s,d.y=(c-n*t)/2),d.swidth=s,d.sheight=n,d.width=s*t,d.height=n*t,d.x=(l-d.width)/2,d.y=(c-d.height)/2,o.$set(o,"drawImg",d),o.printImg(),o.putToolBox()}}),200)},this.$emit("onChooseImg",e,this.index)}},putToolBox:function(){this.toolBox.width!==this.boxWidth/2&&this.toolBox.height!==this.boxHeight/2&&!1!==this.saveCutPosition||(this.toolBox.width=this.cutWidth>this.boxWidth?this.boxWidth:this.cutWidth,this.toolBox.height=this.cutHeight>this.boxHeight?this.boxHeight:this.cutHeight),(0===this.toolBox.x&&0===this.toolBox.y||!1===this.saveCutPosition)&&(this.toolBox.x=this.boxWidth/2-this.toolBox.width/2,this.toolBox.y=this.boxHeight/2-this.toolBox.height/2),this.drawControlBox(this.toolBox.width,this.toolBox.height,this.toolBox.x,this.toolBox.y)},isSupportFileApi:function(){return!!(window.File&&window.FileList&&window.FileReader&&window.Blob&&-1===navigator.userAgent.indexOf("Edge")&&-1===navigator.userAgent.indexOf("MSIE")&&-1===navigator.userAgent.indexOf("Trident"))},dataURLtoFile:function(t,e){var o=t.split(","),i=o[0].match(/:(.*?);/)[1],n=atob(o[1]),r=n.length,a=new Uint8Array(r);while(r--)a[r]=n.charCodeAt(r);if(this.isSupportFileApi()){var s=new File([a],e,{type:i});return s}return"不支持File对象"},clearAll:function(){var t=this,e=t.$refs["canvas"],o=e.getContext("2d");o.clearRect(0,0,e.width,e.height);var i=t.$refs["canvasSelectBox"],n=i.getContext("2d");n.clearRect(0,0,i.width,i.height);var r=t.drawImg.sx,a=t.drawImg.sy;this.drawImg={img:null,sx:r,sy:a,swidth:0,sheight:0,x:0,y:0,width:0,height:0},this.isFlipHorizontal=!1,this.isFlipVertically=!1,this.$refs["inputFile"].value="",this.rotateImg.angle=0,this.drawImg.img=null,this.turnReset(),this.clearCutImageObj(),this.$emit("onClearAll",this.index)},clearCutImageObj:function(){null!==this.cutImageObj&&void 0!==this.cutImageObj&&("function"===typeof this.cutImageObj.remove?this.cutImageObj.remove():this.cutImageObj.removeNode()),this.cutImageObj=null},drawControlBox:function(t,e,o,i){var n=this;t>this.boxWidth&&(t=this.boxWidth),e>this.boxHeight&&(e=this.boxHeight),o<0&&(o=0),i<0&&(i=0);var r,a,s=this.$refs["toolBoxControl"],l=this.$refs["canvasSelectBox"],c=l.getContext("2d");if(c.fillStyle=this.selectBoxColor,c.clearRect(0,0,l.width,l.height),c.fillRect(0,0,l.width,l.height),this.rate&&""!==this.rate){var d=this.rate.split(":")[0]/this.rate.split(":")[1];d>=1?(r=t,a=t/d):(r=e*d,a=e)}else r=t,a=e;this.toolBox.width=r,this.toolBox.height=a,s.style.width=Math.abs(r)+"px",s.style.height=Math.abs(a)+"px",this.toolBox.boxMove.moveTo.x=o,this.toolBox.boxMove.moveTo.y=i,r<0&&(o+=r),a<0&&(i+=a),o+this.toolBox.width>this.boxWidth&&(o=this.boxWidth-this.toolBox.width),o<0&&(o=0),i+this.toolBox.height>this.boxHeight&&(i=this.boxHeight-this.toolBox.height),i<0&&(i=0),this.toolBoxPosition.x=o,this.toolBoxPosition.y=i,s.style.left=o+"px",s.style.top=i+"px",c.clearRect(o,i,Math.abs(r),Math.abs(a)),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout((function(){n.cropPicture(!0)}),100)},resetToolBox:function(){this.toolBox.width<0&&(this.toolBox.boxMove.moveTo.x=this.toolBox.x-this.toolBox.width),this.toolBox.height<0&&(this.toolBox.boxMove.moveTo.y=this.toolBox.y-this.toolBox.height),this.toolBox.width=Math.abs(this.toolBox.width),this.toolBox.height=Math.abs(this.toolBox.height)},toolBoxMouseDown:function(t){var e=this.$refs["toolBoxControl"];this.toolBox.x=parseInt(e.style.left.split("px")[0]),this.toolBox.y=parseInt(e.style.top.split("px")[0]),this.toolBox.disable=!1,this.dropImg.active=!1,this.toolBox.boxMove.start={x:t.pageX,y:t.pageY}},toolBoxMouseMove:function(t){if(this.dropImg.active&&this.dropImgMove(t),!1===this.toolBox.disable&&!0===this.moveAble){var e=t.pageX-this.toolBox.boxMove.start.x,o=t.pageY-this.toolBox.boxMove.start.y,i=this.toolBox.x+e,n=this.toolBox.y+o;this.drawControlBox(this.toolBox.width,this.toolBox.height,i,n)}},toolBoxMouseLeave:function(){var t=this;this.toolBox.disable=!0,this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout((function(){t.cropPicture(!0)}),100),this.resetToolBox()},toolBoxMouseUp:function(t){this.toolBox.x=parseInt(this.toolBoxPosition.x),this.toolBox.y=parseInt(this.toolBoxPosition.y),this.toolBox.disable=!0,this.dropImg.active=!1,this.resetToolBox()},printImg:function(){var t=this;if(this.drawImg.img){var e=this.$refs["canvas"],o=e.getContext("2d");o.font="18px bold 黑体",o.fillStyle="#ff0",o.textAlign="center",o.textBaseline="middle",o.save(),o.clearRect(0,0,e.width,e.height),o.translate(this.drawImg.x+this.drawImg.width/2,this.drawImg.y+this.drawImg.height/2),o.rotate(this.rotateImg.angle*Math.PI/180),o.translate(-(this.drawImg.x+this.drawImg.width/2),-(this.drawImg.y+this.drawImg.height/2)),o.translate(this.drawImg.x,this.drawImg.y),o.scale(this.isFlipHorizontal?-1:1,this.isFlipVertically?-1:1),o.drawImage(this.drawImg.img,this.drawImg.sx,this.drawImg.sy,this.drawImg.swidth,this.drawImg.sheight,this.isFlipHorizontal?-this.drawImg.width:0,this.isFlipVertically?-this.drawImg.height:0,this.drawImg.width,this.drawImg.height),o.translate(-this.drawImg.x,this.drawImg.y),o.restore(),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout((function(){t.cropPicture(!0)}),100)}},dropImgOn:function(t){this.dropImg.active=!0,this.dropImg.params=Object(y["a"])({},this.drawImg),this.dropImg.pageX=t.pageX,this.dropImg.pageY=t.pageY},dropImgOff:function(){var t=this;this.dropImg.active=!1,this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout((function(){t.cropPicture(!0)}),100)},dropImgMove:function(t){var e=this;if(this.dropImg.active&&this.drawImg.img){var o=Object(y["a"])({},e.drawImg);o.x=e.dropImg.params.x-(e.dropImg.pageX-t.pageX),o.y=e.dropImg.params.y-(e.dropImg.pageY-t.pageY),e.$set(e,"drawImg",o),e.printImg(),t.stopPropagation()}},scaleReset:function(){this.drawImg.width=this.drawImg.swidth,this.drawImg.height=this.drawImg.sheight,this.printImg()},scaleImgWheel:function(t){var e=this,o=this;if(o.drawImg.img&&!0===this.scaleAble){var i,n=t||window.event;n.wheelDelta?i=-n.wheelDelta/40:n.detail&&(i=n.detail);var r=50;o.drawImg.x=o.drawImg.width-9*i>r?o.drawImg.x+3*i:o.drawImg.x,o.drawImg.y=o.drawImg.width-9*i>r?o.drawImg.y+3*i:o.drawImg.y,o.drawImg.width=o.drawImg.width-9*i>r?o.drawImg.width-9*i:r,o.drawImg.height=o.drawImg.width/o.scaleImg.rate,o.printImg(),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout((function(){e.cropPicture(!0)}),100)}return t.preventDefault(),t.returnValue=!1,!1},flipHorizontal:function(){this.drawImg.img&&(0==this.isFlipHorizontal?this.isFlipHorizontal=!0:this.isFlipHorizontal=!1,this.printImg())},flipVertically:function(){this.drawImg.img&&(0==this.isFlipVertically?this.isFlipVertically=!0:this.isFlipVertically=!1,this.printImg())},turnImg:function(t){var e=this.rotateImg.angle,o=e+t;o>=-180&&o<=180&&(this.rotateImg.angle=o,this.rotateControl.position=o/180*100+100,this.printImg("rotate"))},turnReset:function(){this.rotateImg.angle=0,this.rotateControl.position=100,this.printImg("rotate")},controlBtnMouseDown:function(t,e){this.controlBox.disable=!1,this.controlBox.btnName=e,this.controlBox.start.x=t.clientX,this.controlBox.start.y=t.clientY,this.controlBox.start.width=this.toolBox.width,this.controlBox.start.height=this.toolBox.height,t.stopPropagation()},controlBtnMouseUp:function(t){this.controlBox.disable=!0,this.dropImgOff(),this.resetToolBox(),this.toolBoxMouseUp(),t.stopPropagation()},controlBtnMouseMove:function(t){if(!1===this.controlBox.disable){var e,o,i=t.clientX-this.controlBox.start.x,n=t.clientY-this.controlBox.start.y;"leftUp"==this.controlBox.btnName&&(e=this.toolBox.x+i,o=this.toolBox.y+n,this.toolBox.width=this.controlBox.start.width-i,this.toolBox.height=this.controlBox.start.height-n),"rightUp"==this.controlBox.btnName&&(e=this.toolBox.x,o=this.toolBox.y+n,this.toolBox.width=this.controlBox.start.width+i,this.toolBox.height=this.controlBox.start.height-n),"rightDown"==this.controlBox.btnName&&(e=this.toolBox.x,o=this.toolBox.y,this.toolBox.width=this.controlBox.start.width+i,this.toolBox.height=this.controlBox.start.height+n),"leftDown"==this.controlBox.btnName&&(e=this.toolBox.x+i,o=this.toolBox.y,this.toolBox.width=this.controlBox.start.width-i,this.toolBox.height=this.controlBox.start.height+n),"topCenter"==this.controlBox.btnName&&(e=this.toolBox.x,o=this.toolBox.y+n,this.toolBox.width=this.controlBox.start.width,this.toolBox.height=this.controlBox.start.height-n),"downCenter"==this.controlBox.btnName&&(e=this.toolBox.x,o=this.toolBox.y,this.toolBox.width=this.controlBox.start.width,this.toolBox.height=this.controlBox.start.height+n),"leftCenter"==this.controlBox.btnName&&(e=this.toolBox.x+i,o=this.toolBox.y,this.toolBox.width=this.controlBox.start.width-i,this.toolBox.height=this.controlBox.start.height),"rightCenter"==this.controlBox.btnName&&(e=this.toolBox.x,o=this.toolBox.y,this.toolBox.width=this.controlBox.start.width+i,this.toolBox.height=this.controlBox.start.height),this.drawControlBox(this.toolBox.width,this.toolBox.height,e,o)}t.stopPropagation()},changeFileName:function(t,e){var o=t.lastIndexOf(".");return t.substr(0,o+1)+("jpeg"===e?"jpg":e)},cropPicture:function(t){var e=this;if(this.drawImg.img){var o=this.$refs["canvas"];if(this.WatermarkText&&!t){var i=o.getContext("2d");i.font=this.WatermarkTextFont,i.fillStyle=this.WatermarkTextColor,i.textAlign="right",i.textBaseline="bottom",i.fillText(this.WatermarkText,this.toolBox.x+this.toolBox.width*this.WatermarkTextX,this.toolBox.y+this.toolBox.height*this.WatermarkTextY)}var n=new Image;!0===this.crossOrigin&&(n.crossOrigin=this.crossOriginHeader),n.src=o.toDataURL("image/".concat(this.fileType)),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,n){window.atob?setTimeout((function(){for(var r=atob(o.toDataURL(i,n).split(",")[1]),a=r.length,s=new Uint8Array(a),l=0;l<a;l++)s[l]=r.charCodeAt(l);t(new Blob([s],{type:"image/".concat(e.fileType)}))}),200):t(!1,{type:"image/".concat(e.fileType)})}}),o.toBlob((function(o){if(o){var i=new FileReader;i.readAsDataURL(o),i.onload=function(){var o=setInterval((function(){if(2==i.readyState){clearInterval(o);var r=document.createElement("canvas"),a=r.getContext("2d");if(1==e.originalGraph){var s=e.drawImg.width/e.drawImg.swidth,l=e.toolBox.width/s,c=e.toolBox.height/s;r.width=l,r.height=c;var d=(e.toolBox.x-e.drawImg.x)/s,u=(e.toolBox.y-e.drawImg.y)/s,h=e.drawImg.swidth,f=e.drawImg.sheight;a.translate(-d,-u),a.drawImage(e.drawImg.img,0,0,h,f)}else{r.width=e.toolBox.width,r.height=e.toolBox.height;var g=e.toolBox;if(e.rate){var p=e.rate.split(":")[0]/e.rate.split(":")[1],m=e.rate.split(":")[0],v=e.rate.split(":")[1];m>=v?a.drawImage(n,g.x,g.y,g.width,g.width*p,0,0,g.width,g.width*p):a.drawImage(n,g.x,g.y,g.width,g.width/p,0,0,g.width,g.width/p)}else a.drawImage(n,g.x,g.y,g.width,g.height,0,0,g.width,g.height)}r.toBlob((function(o){var i=e.changeFileName(e.fileName,e.fileType);t?e.previewMode&&e.$emit("onPrintImg",{index:e.index,fileName:i,blob:o,file:e.dataURLtoFile(r.toDataURL("image/".concat(e.fileType)),i),dataURL:r.toDataURL("image/".concat(e.fileType))}):(e.handleClose(),e.$emit("cutDown",{index:e.index,fileName:i,blob:o,file:e.dataURLtoFile(r.toDataURL("image/".concat(e.fileType)),i),dataURL:r.toDataURL("image/".concat(e.fileType))}))}),"image/".concat(e.fileType),.95)}}),200)}}else{var r=document.createElement("canvas");r.width=e.toolBox.width,r.height=e.toolBox.height;var a=r.getContext("2d"),s=e.toolBox;if(e.rate){var l=e.rate.split(":")[0]/e.rate.split(":")[1];a.drawImage(n,s.x,s.y,s.width,s.width*l,0,0,s.width,s.width*l)}else a.drawImage(n,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var c=e.changeFileName(e.fileName,e.fileType);t?e.$emit("onPrintImg",{fileName:c,dataURL:r.toDataURL("image/".concat(e.fileType))}):(e.handleClose(),e.$emit("cutDown",{fileName:c,dataURL:r.toDataURL("image/".concat(e.fileType))}))}})),"image/".concat(e.fileType)}else t||(console.warn("No picture selected"),e.$emit("error",{err:1,msg:"No picture selected"}))},scrollBarControlMove:function(t){if(this.rotateControl.active){var e=t.pageX-this.rotateControl.start.x,o=this.rotateControl.start.position+e;o<=0&&(o=0),o>=200&&(o=200),this.rotateControl.position=o,this.rotateImg.angle=(o-100)/100*180,this.printImg()}},scrollBarControlOn:function(t){this.rotateControl.active=!0,this.rotateControl.start.x=t.pageX,this.rotateControl.start.y=t.pageY,this.rotateControl.start.position=this.rotateControl.position},scrollBarControlOff:function(){this.rotateControl.active=!1}}},C=w,B=(o("e963"),o("5d22")),I=Object(B["a"])(C,m,v,!1,null,"7e77e5a3",null),k=I.exports,T=k,S=o("a336"),A=o.n(S),_=(o("eefd"),o("f5ef")),N={components:(i={DropzoneFileUpload:function(){return o.e("chunk-2d210a1a").then(o.bind(null,"b95b"))}},Object(s["a"])(i,u.a.name,u.a),Object(s["a"])(i,c.a.name,c.a),Object(s["a"])(i,"ImgCutter",T),Object(s["a"])(i,"loading",(function(){return o.e("chunk-2d22d938").then(o.bind(null,"f7a2"))})),Object(s["a"])(i,"avatar",(function(){return Promise.resolve().then(o.bind(null,"7a12"))})),Object(s["a"])(i,"cardLoading",(function(){return o.e("chunk-271c3a43").then(o.bind(null,"1190"))})),Object(s["a"])(i,"buttonWithLoading",(function(){return o.e("chunk-a8f506b8").then(o.bind(null,"6ea5"))})),i),data:function(){return{boxSize:0,lessonTypeInstrumentIcon:"",logo:"",crop:"",newLogo:"",isClear:!1,loading:!0,studioName:"",name:"",email:"",phone:"",street:"",city:"",zipCode:"",stateSelected:" ",stateSelects:{},isInvalid:!1,countryCodeSelected:" ",countrySelects:{},model:{title:"",className:"tk-bg-color-white",start:"",end:""},eventColors:["tk-bg-color-main","tk-bg-color-lightGreyBlue","tk-bg-color-salmon","tk-bg-color-yellowOrange"],inputs:{tags:["BUCHAREST","IASI","TIMISOARA"],fileSingle:[],fileMultiple:[]},studioInfo:{},teacherInfo:{},userInfo:{},isButtonLoadingComplete:!1}},watch:{countryCodeSelected:function(t,e){var o=this;o.loading||o.resetPhonePrefix(t)},stateSelected:function(t,e){var o=this;o.loading||(o.$tools.isNull(t)&&(o.stateSelected=" "),o.resetStateCode(t))},street:function(t,e){this.$tools.isNull(t)&&(this.street="")},city:function(t,e){var o=this;if(this.$tools.isNull(t))this.city="";else{var i=t.toLowerCase();this.stateSelects.options.some((function(t){t.label.toLowerCase()===i&&(o.stateSelected=t.value)}))}},zipCode:function(t,e){this.$tools.isNull(t)&&(this.zipCode="")},loading:function(t,e){t||(setTimeout((function(){document.getElementById("storefrontColor").style.marginTop="16px"}),1e3),console.log("reset"),this.resetPhonePrefix(this.countryCodeSelected),this.resetStateCode(this.stateSelected))}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o,i,n,r,a,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t,o.countrySelects=o.$tools.countrySelects,o.stateSelects=o.$tools.stateSelects,e.next=5,h["a"].studioInfo();case 5:return i=e.sent,e.next=8,h["a"].teacherInfo();case 8:return n=e.sent,e.next=11,h["a"].userInfo();case 11:r=e.sent,o.loading=!1,console.log("not loading"),console.log("studio: ",i),console.log("teacherInfo: ",n),console.log("userInfo: ",r),o.studioInfo=i,o.teacherInfo=n,o.userInfo=r,o.studioName=i.name,o.name=r.name,o.email=r.email,o.phone=r.phone,o.street=r.street,o.city=r.city,o.zipCode=r.zipCode,a=i.storefrontColor,e.t0=a.toLowerCase(),e.next="71d9c2"===e.t0?31:"97bddd"===e.t0?33:"f38577"===e.t0?35:"f6af02"===e.t0?37:39;break;case 31:return o.model.className="tk-bg-color-main",e.abrupt("break",39);case 33:return o.model.className="tk-bg-color-lightGreyBlue",e.abrupt("break",39);case 35:return o.model.className="tk-bg-color-salmon",e.abrupt("break",39);case 37:return o.model.className="tk-bg-color-yellowOrange",e.abrupt("break",39);case 39:o.logo=g["a"].studioLogoPath(i.id),s=p["a"].getLessonTypesByTeacherId(r.userId),l=o.$tools.instruments,s.length>0?l.some((function(t){parseInt(t.id)===parseInt(s[0].instrumentId)&&(o.lessonTypeInstrumentIcon=t.url)})):o.lessonTypeInstrumentIcon=l[0].url,setTimeout((function(){console.log("-=-=-=-=-=-=",document.getElementsByClassName("tk-select-border-none").length),o.$tools.isNull(r.phonePrefix)&&""!==r.phonePrefix||(o.countryCodeSelected=r.phonePrefix,o.resetPhonePrefix(r.phonePrefix)),o.$tools.isNull(r.state)&&""!==r.state||(o.stateSelected=r.state,o.resetStateCode(r.state)),o.boxSize=A()("#logoContainer").width()}),200),A()("#logoContainer").resize((function(t){console.log(t),o.boxSize=A()("#logoContainer").width()+24}));case 45:case"end":return e.stop()}}),e)})))()},methods:{resetPhonePrefix:function(t){var e=this;e.$tools.isNull(document.getElementsByClassName("tk-select-border-none")[0])||e.$tools.isNull(document.getElementsByClassName("tk-select-border-none")[0].childNodes[1])||(document.getElementsByClassName("tk-select-border-none")[0].childNodes[1].childNodes[1].style.display="none",e.countrySelects.options.some((function(e){e.value===t&&setTimeout((function(){document.getElementsByClassName("tk-select-border-none")[0].childNodes[1].childNodes[1].value=e.areaCode,document.getElementsByClassName("tk-select-border-none")[0].childNodes[1].childNodes[1].style.display="block"}),10)})))},resetStateCode:function(t){var e=this;e.$tools.isNull(document.getElementsByClassName("tk-select-border-none")[1])||e.$tools.isNull(document.getElementsByClassName("tk-select-border-none")[1].childNodes[1])||(document.getElementsByClassName("tk-select-border-none")[1].childNodes[1].childNodes[1].style.display="none",e.stateSelects.options.some((function(e){e.value===t&&setTimeout((function(){document.getElementsByClassName("tk-select-border-none")[1].childNodes[1].childNodes[1].value=e.value,document.getElementsByClassName("tk-select-border-none")[1].childNodes[1].childNodes[1].style.display="block"}),10)})))},getPhonePrefix:function(){var t,e=this;return e.countrySelects.options.some((function(o){o.value===e.countryCodeSelected&&(t=o.areaCode)})),t},validationEmail:function(){var t=this;t.$tools.isNull(t.email)?t.isInvalid=!1:t.isInvalid=!t.$tools.isEmail(t.email)},saveStudioInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t,console.log({name:o.studioName,storefrontColor:o.getStoreFrontColor(),email:o.email,phone:o.phone,street:o.street,city:o.city,zipCode:o.zipCode,state:" "==o.stateSelected?"":o.stateSelected,phonePrefix:" "==o.countryCodeSelected?"":o.countryCodeSelected}),e.next=4,f["a"].studio.doc(o.studioInfo.id).update({name:o.studioName,storefrontColor:o.getStoreFrontColor(),updateTime:parseInt((new Date).getTime()/1e3).toString()});case 4:return o.$tools.isNull(o.newLogo)||(i=o.$firebase.storage(),n=i.ref(),r=n.child("images/studio_logos/"+o.studioInfo.id+".jpg"),r.put(o.newLogo.blob).then((function(t){_["a"].$emit("refreshAvatar")}))),e.next=7,f["a"].user.doc(o.userInfo.userId).update({email:o.email,phone:o.phone,street:o.street,city:o.city,zipCode:o.zipCode,state:" "==o.stateSelected?"":o.stateSelected,phonePrefix:""==o.countryCodeSelected?"":o.countryCodeSelected,updateTime:parseInt((new Date).getTime()/1e3).toString()}).then((function(){o.isButtonLoadingComplete=!0,o.$notify({message:"Update Success!",type:"success"})})).catch((function(t){o.$notify({message:"Update failed, try it again!",type:"error"}),console.log("update failed, error: ",t)}));case 7:o.isButtonLoadingComplete=!1;case 8:case"end":return e.stop()}}),e)})))()},getStoreFrontColor:function(){var t=this;switch(t.model.className){case"tk-bg-color-main":return"71d9c2";case"tk-bg-color-lightGreyBlue":return"97bddd";case"tk-bg-color-salmon":return"f38577";case"tk-bg-color-yellowOrange":return"f6af02"}},openCutter:function(){console.log("open"),setTimeout((function(){document.getElementsByClassName("tool-title")[0].style.width="100%",document.getElementsByClassName("tool-title")[0].style.height="20px",document.getElementsByClassName("closeIcon")[0].style.backgroundColor="#b6bec5",document.getElementsByClassName("mask")[0].style.zIndex=9999,document.getElementsByClassName("mask")[0].style.width="100vw",document.getElementsByClassName("mask")[0].style.height="100vh"}),100)},onCutDown:function(t){var e=this;console.log("onCutDown",t),e.isClear=!0,e.logo=t.dataURL,e.newLogo=t},onCutError:function(t){console.log("onCutError",t)},onChooseImg:function(t){var e=this;console.log("onChooseImg",t),e.isClear=!1},onPrintImg:function(t){var e=this;console.log("onPrintImg",t),e.isClear?e.crop="":e.crop=t.dataURL},onClearAll:function(t){var e=this;console.log("onClearAll",t),e.crop="",e.isClear=!0}}},M=N,P=Object(B["a"])(M,n,r,!1,null,null,null);e["default"]=P.exports},"05e9":function(t,e,o){var i=o("8a37"),n=o("2730");t.exports=function(t){if(void 0===t)return 0;var e=i(t),o=n(e);if(e!==o)throw RangeError("Wrong length or index");return o}},"06cb":function(t,e,o){"use strict";e.__esModule=!0;var i=o("a593"),n=a(i),r=o("c865");function a(t){return t&&t.__esModule?t:{default:t}}var s=[],l="@@clickoutsideContext",c=void 0,d=0;function u(t,e,o){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(o&&o.context&&i.target&&n.target)||t.contains(i.target)||t.contains(n.target)||t===i.target||o.context.popperElm&&(o.context.popperElm.contains(i.target)||o.context.popperElm.contains(n.target))||(e.expression&&t[l].methodName&&o.context[t[l].methodName]?o.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}!n.default.prototype.$isServer&&(0,r.on)(document,"mousedown",(function(t){return c=t})),!n.default.prototype.$isServer&&(0,r.on)(document,"mouseup",(function(t){s.forEach((function(e){return e[l].documentHandler(t,c)}))})),e.default={bind:function(t,e,o){s.push(t);var i=d++;t[l]={id:i,documentHandler:u(t,e,o),methodName:e.expression,bindingFn:e.value}},update:function(t,e,o){t[l].documentHandler=u(t,e,o),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=s.length,o=0;o<e;o++)if(s[o][l].id===t[l].id){s.splice(o,1);break}delete t[l]}}},"0a93":function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").every,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("every",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},1696:function(t,e,o){var i=o("4326"),n=o("2730"),r=o("d4eb"),a=o("730b"),s=o("fdc8"),l=o("5eb0").aTypedArrayConstructor;t.exports=function(t){var e,o,c,d,u,h,f=i(t),g=arguments.length,p=g>1?arguments[1]:void 0,m=void 0!==p,v=r(f);if(void 0!=v&&!a(v)){u=v.call(f),h=u.next,f=[];while(!(d=h.call(u)).done)f.push(d.value)}for(m&&g>2&&(p=s(p,arguments[2],2)),o=n(f.length),c=new(l(this))(o),e=0;o>e;e++)c[e]=m?p(f[e],e):f[e];return c}},"1b59":function(t,e,o){"use strict";var i=o("5eb0"),n=o("2730"),r=o("fb77"),a=o("b913"),s=i.aTypedArray,l=i.exportTypedArrayMethod;l("subarray",(function(t,e){var o=s(this),i=o.length,l=r(t,i);return new(a(o,o.constructor))(o.buffer,o.byteOffset+l*o.BYTES_PER_ELEMENT,n((void 0===e?i:r(e,i))-l))}))},"1bbc":function(t,e,o){var i=o("f0fd"),n=o("4326"),r=o("1fe9"),a=o("2730"),s=function(t){return function(e,o,s,l){i(o);var c=n(e),d=r(c),u=a(c.length),h=t?u-1:0,f=t?-1:1;if(s<2)while(1){if(h in d){l=d[h],h+=f;break}if(h+=f,t?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:u>h;h+=f)h in d&&(l=o(l,d[h],h,c));return l}};t.exports={left:s(!1),right:s(!0)}},"1fea":function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").some,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("some",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"293e":function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").map,r=o("b913"),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod;l("map",(function(t){return n(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(r(t,t.constructor)))(e)}))}))},"2b84":function(t,e,o){"use strict";o("4914"),o("82a8"),o("2a39"),o("f39f"),o("96f8"),o("4021");var i=o("f923"),n=(o("6a61"),o("9ad1")),r=(o("e204"),o("948b"),o("fdc1")),a=o("9194"),s=o("5e3a"),l=o("fef9"),c=o("a125");e["a"]={listAllTeachers:function(){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,o){var n,a,s,d,u,h,f,g,p,m,v,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("开始获取所有的教师信息"),t.next=4,l["a"].studioInfo();case 4:return n=t.sent,console.log("获取到的studioinfo: ",n),a=n.id,t.next=9,c["a"].getTeachersByStudioId(a);case 9:for(s=t.sent,console.log("获取到的教师信息: ",s),d={},u=[],h=[],f=0;f<s.length;f++)g=s[f].userId,s[f]["avatar"]=r["a"].studioLogoPath(s[f].studioId),u.push(c["a"].getUserInfoByUserId(g)),h.push(c["a"].getStudentsByTeacherId(g)),d[g]=s[f];return t.next=17,Promise.all(u);case 17:return p=t.sent,console.log("获取用户详情: ",p),t.next=21,Promise.all(h);case 21:m=t.sent,console.log("获取学生详情: ",m),p.forEach((function(t){var e=t.userId,o=d[e];console.log("------",o),o.phone=t.phone,o.email=t.email,o.website=t.website,o.active=t.active,o.name=t.name,o.studentCount=0,o.students=[],d[e]=o})),m.forEach((function(t){t.forEach((function(t){var e=t.teacherId,o=d[e],n=o.students;void 0!==Object(i["a"])(n)&&null!==n||(n=[]),n.push(t),o.students=n,o.studentCount=o.students.length,d[e]=o}))})),console.log("所有的教师信息: ",d),v=[],t.t0=regeneratorRuntime.keys(d);case 28:if((t.t1=t.t0()).done){t.next=36;break}return y=t.t1.value,t.next=32,c["a"].getTeacherFutureLessonsCountByTeacherId(y);case 32:d[y].lessonsCount=t.sent,v.push(d[y]),t.next=28;break;case 36:console.log("最后的数据:",v),e(v),t.next=43;break;case 40:t.prev=40,t.t2=t["catch"](0),o(t.t2);case 43:case"end":return t.stop()}}),t,null,[[0,40]])})));return function(e,o){return t.apply(this,arguments)}}())},listNextLessonsByTeacher:function(t){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(o,i){var n,s,l,d,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getStudentsByTeacherId(t);case 3:n=e.sent,console.log("该老师的所有学生：",n),s=[],l=0;case 7:if(!(l<n.length)){e.next=42;break}return e.next=10,c["a"].getStudentNextLesson(n[l].studentId,n[l].teacherId);case 10:if(d=e.sent,null===d){e.next=39;break}return console.log("next lesosn: ",d),e.next=15,c["a"].getInstrumentById(d.instrumentId);case 15:if(u=e.sent,h=d.lessonScheduleData,!a["a"].isNull(h)){e.next=19;break}return e.abrupt("continue",39);case 19:return console.log("instrument",u),e.t0=s,e.t1=d.id,e.next=24,c["a"].getUserName(d.studentId);case 24:e.t2=e.sent,e.t3=r["a"].userAvatarPath(d.studentId),e.t4=u.name,e.t5=u.minPictureUrl,e.t6=d.instrumentId,e.t7=d.lessonTypeData.name,e.t8=r["a"].formatPrice(d.lessonTypeData.price),e.t9=d.lessonTypeData.timeLength+"min",e.t10=r["a"].formatRepeatType(h.repeatType),e.t11=a["a"].formatWeekday(1e3*d.shouldDateTime)+". "+a["a"].formatHHMMAP(1e3*d.shouldDateTime),e.t12=d.studentId,e.t13=d.teacherId,e.t14=d,e.t15={id:e.t1,name:e.t2,avatar:e.t3,instrument:e.t4,icon:e.t5,instrumentId:e.t6,lessonTypeName:e.t7,price:e.t8,timeLength:e.t9,repeatType:e.t10,schedule:e.t11,studentId:e.t12,teacherId:e.t13,originData:e.t14},e.t0.push.call(e.t0,e.t15);case 39:l++,e.next=7;break;case 42:console.log("最后获取的 lesson 数据: ",s),o(s),e.next=49;break;case 46:e.prev=46,e.t16=e["catch"](0),i(e.t16);case 49:case"end":return e.stop()}}),e,null,[[0,46]])})));return function(t,o){return e.apply(this,arguments)}}())},addLessonType:function(t){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(o,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].lessonType.doc(t.id).set(t).then((function(){o(!0)}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0),o(!1);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,o){return e.apply(this,arguments)}}())},updateLessonConfig:function(t){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(o,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].lessonScheduleConfigure.doc(t.id).update(t).then((function(){o(!0)}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0),o(!1);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,o){return e.apply(this,arguments)}}())},listAllLessonsByTeacher:function(t,e){var o=a["a"].isNull(e)?new Date:new Date(e),i=a["a"].isNull(e)?new Date:new Date(e);o.setMonth(o.getMonth()-1),i.setMonth(i.getMonth()+1);var l=parseInt(new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/1").getTime()/1e3),c=parseInt(new Date(i.getFullYear()+"/"+(i.getMonth()+1)+"/"+a["a"].getDaysInMonth(i.getTime())).getTime()/1e3);return console.log(l,c),new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(o,i){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].lessonSchedule.where("teacherId","==",t).where("shouldDateTime",">=",l).where("shouldDateTime","<=",c).get();case 3:n=e.sent,a=[],n.empty||n.forEach((function(t){if(t.exists){var e=t.data();e.url=r["a"].userAvatarPath(e.studentId),e.isOverDay=!1,e.type=1,e.name=e.lessonTypeData.name,e.shouldDateTime=1e3*e.shouldDateTime,a.push(e)}})),o(a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,o){return e.apply(this,arguments)}}())},listAllEventsByTeacher:function(t,e){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,o){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{i=[],e(i)}catch(n){o(n)}case 1:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}())},listLessonsAndEventsByTeacherId:function(t,e){var o=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,o.listAllLessonsByTeacher(t,e);case 2:return n=i.sent,i.next=5,o.listAllEventsByTeacher(t,e);case 5:return r=i.sent,a=n.concat(r),i.abrupt("return",a);case 8:case"end":return i.stop()}}),i)})))()}}},"2d52":function(t,e,o){"use strict";var i=o("73cd"),n=o("5eb0"),r=o("4929"),a=o("9345"),s=a("iterator"),l=i.Uint8Array,c=r.values,d=r.keys,u=r.entries,h=n.aTypedArray,f=n.exportTypedArrayMethod,g=l&&l.prototype[s],p=!!g&&("values"==g.name||void 0==g.name),m=function(){return c.call(h(this))};f("entries",(function(){return u.call(h(this))})),f("keys",(function(){return d.call(h(this))})),f("values",m,!p),f(s,m,!p)},"324c":function(t,e,o){var i=o("6e4b");i("Uint8",(function(t){return function(e,o,i){return t(this,e,o,i)}}))},3535:function(t,e,o){"use strict";var i=o("73cd"),n=o("61a2"),r=o("9627"),a=o("6cad"),s=o("945a"),l=o("bc5d"),c=o("0c33"),d=o("8a37"),u=o("2730"),h=o("05e9"),f=o("786b"),g=o("7f8e"),p=o("3724"),m=o("f9d5").f,v=o("58ea").f,y=o("61c5"),x=o("3f69"),b=o("1b0a"),w=b.get,C=b.set,B="ArrayBuffer",I="DataView",k="prototype",T="Wrong length",S="Wrong index",A=i[B],_=A,N=i[I],M=N&&N[k],P=Object.prototype,O=i.RangeError,E=f.pack,L=f.unpack,R=function(t){return[255&t]},D=function(t){return[255&t,t>>8&255]},U=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},F=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},$=function(t){return E(t,23,4)},j=function(t){return E(t,52,8)},W=function(t,e){v(t[k],e,{get:function(){return w(this)[e]}})},z=function(t,e,o,i){var n=h(o),r=w(t);if(n+e>r.byteLength)throw O(S);var a=w(r.buffer).bytes,s=n+r.byteOffset,l=a.slice(s,s+e);return i?l:l.reverse()},H=function(t,e,o,i,n,r){var a=h(o),s=w(t);if(a+e>s.byteLength)throw O(S);for(var l=w(s.buffer).bytes,c=a+s.byteOffset,d=i(+n),u=0;u<e;u++)l[c+u]=d[r?u:e-u-1]};if(r){if(!l((function(){A(1)}))||!l((function(){new A(-1)}))||l((function(){return new A,new A(1.5),new A(NaN),A.name!=B}))){_=function(t){return c(this,_),new A(h(t))};for(var q,Y=_[k]=A[k],V=m(A),G=0;V.length>G;)(q=V[G++])in _||a(_,q,A[q]);Y.constructor=_}p&&g(M)!==P&&p(M,P);var X=new N(new _(2)),J=M.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(M,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},{unsafe:!0})}else _=function(t){c(this,_,B);var e=h(t);C(this,{bytes:y.call(new Array(e),0),byteLength:e}),n||(this.byteLength=e)},N=function(t,e,o){c(this,N,I),c(t,_,I);var i=w(t).byteLength,r=d(e);if(r<0||r>i)throw O("Wrong offset");if(o=void 0===o?i-r:u(o),r+o>i)throw O(T);C(this,{buffer:t,byteLength:o,byteOffset:r}),n||(this.buffer=t,this.byteLength=o,this.byteOffset=r)},n&&(W(_,"byteLength"),W(N,"buffer"),W(N,"byteLength"),W(N,"byteOffset")),s(N[k],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return F(z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return F(z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return L(z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return L(z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){H(this,1,t,R,e)},setUint8:function(t,e){H(this,1,t,R,e)},setInt16:function(t,e){H(this,2,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){H(this,2,t,D,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){H(this,4,t,U,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){H(this,4,t,U,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){H(this,4,t,$,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){H(this,8,t,j,e,arguments.length>2?arguments[2]:void 0)}});x(_,B),x(N,I),t.exports={ArrayBuffer:_,DataView:N}},"37e8":function(t,e,o){},"3b04":function(t,e,o){"use strict";var i=o("4326"),n=o("fb77"),r=o("2730"),a=Math.min;t.exports=[].copyWithin||function(t,e){var o=i(this),s=r(o.length),l=n(t,s),c=n(e,s),d=arguments.length>2?arguments[2]:void 0,u=a((void 0===d?s:n(d,s))-c,s-l),h=1;c<l&&l<c+u&&(h=-1,c+=u-1,l+=u-1);while(u-- >0)c in o?o[l]=o[c]:delete o[l],l+=h,c+=h;return o}},"408f":function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").filter,r=o("53128"),a=i.aTypedArray,s=i.exportTypedArrayMethod;s("filter",(function(t){var e=n(a(this),t,arguments.length>1?arguments[1]:void 0);return r(this,e)}))},4132:function(t,e,o){"use strict";var i=o("5eb0"),n=o("61c5"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("fill",(function(t){return n.apply(r(this),arguments)}))},4914:function(t,e,o){"use strict";var i=o("4292"),n=o("bc5d"),r=o("a308"),a=o("3079"),s=o("4326"),l=o("2730"),c=o("5c14"),d=o("698e"),u=o("b9d5"),h=o("9345"),f=o("b4f5"),g=h("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",v=f>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=u("concat"),x=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},b=!v||!y;i({target:"Array",proto:!0,forced:b},{concat:function(t){var e,o,i,n,r,a=s(this),u=d(a,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(r=-1===e?a:arguments[e],x(r)){if(n=l(r.length),h+n>p)throw TypeError(m);for(o=0;o<n;o++,h++)o in r&&c(u,h,r[o])}else{if(h>=p)throw TypeError(m);c(u,h++,r)}return u.length=h,u}})},53128:function(t,e,o){var i=o("5eb0").aTypedArrayConstructor,n=o("b913");t.exports=function(t,e){var o=n(t,t.constructor),r=0,a=e.length,s=new(i(o))(a);while(a>r)s[r]=e[r++];return s}},"542e":function(t,e,o){"use strict";var i=o("5eb0"),n=i.aTypedArray,r=i.exportTypedArrayMethod,a=Math.floor;r("reverse",(function(){var t,e=this,o=n(e).length,i=a(o/2),r=0;while(r<i)t=e[r],e[r++]=e[--o],e[o]=t;return e}))},"5eb0":function(t,e,o){"use strict";var i,n=o("9627"),r=o("61a2"),a=o("73cd"),s=o("3079"),l=o("b587"),c=o("7506"),d=o("6cad"),u=o("016d"),h=o("58ea").f,f=o("7f8e"),g=o("3724"),p=o("9345"),m=o("d65b"),v=a.Int8Array,y=v&&v.prototype,x=a.Uint8ClampedArray,b=x&&x.prototype,w=v&&f(v),C=y&&f(y),B=Object.prototype,I=B.isPrototypeOf,k=p("toStringTag"),T=m("TYPED_ARRAY_TAG"),S=n&&!!g&&"Opera"!==c(a.opera),A=!1,_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},M=function(t){if(!s(t))return!1;var e=c(t);return"DataView"===e||l(_,e)||l(N,e)},P=function(t){if(!s(t))return!1;var e=c(t);return l(_,e)||l(N,e)},O=function(t){if(P(t))return t;throw TypeError("Target is not a typed array")},E=function(t){if(g){if(I.call(w,t))return t}else for(var e in _)if(l(_,i)){var o=a[e];if(o&&(t===o||I.call(o,t)))return t}throw TypeError("Target is not a typed array constructor")},L=function(t,e,o){if(r){if(o)for(var i in _){var n=a[i];n&&l(n.prototype,t)&&delete n.prototype[t]}C[t]&&!o||u(C,t,o?e:S&&y[t]||e)}},R=function(t,e,o){var i,n;if(r){if(g){if(o)for(i in _)n=a[i],n&&l(n,t)&&delete n[t];if(w[t]&&!o)return;try{return u(w,t,o?e:S&&v[t]||e)}catch(s){}}for(i in _)n=a[i],!n||n[t]&&!o||u(n,t,e)}};for(i in _)a[i]||(S=!1);if((!S||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},S))for(i in _)a[i]&&g(a[i],w);if((!S||!C||C===B)&&(C=w.prototype,S))for(i in _)a[i]&&g(a[i].prototype,C);if(S&&f(b)!==C&&g(b,C),r&&!l(C,k))for(i in A=!0,h(C,k,{get:function(){return s(this)?this[T]:void 0}}),_)a[i]&&d(a[i],T,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:A&&T,aTypedArray:O,aTypedArrayConstructor:E,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:R,isView:M,isTypedArray:P,TypedArray:w,TypedArrayPrototype:C}},"61c5":function(t,e,o){"use strict";var i=o("4326"),n=o("fb77"),r=o("2730");t.exports=function(t){var e=i(this),o=r(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=void 0===l?o:n(l,o);while(c>s)e[s++]=t;return e}},"6dcb":function(t,e,o){"use strict";var i=o("5eb0"),n=o("1bbc").left,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduce",(function(t){return n(r(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"6e4b":function(t,e,o){"use strict";var i=o("4292"),n=o("73cd"),r=o("61a2"),a=o("ba32"),s=o("5eb0"),l=o("3535"),c=o("0c33"),d=o("9580"),u=o("6cad"),h=o("2730"),f=o("05e9"),g=o("e019"),p=o("448d"),m=o("b587"),v=o("7506"),y=o("3079"),x=o("08bf"),b=o("3724"),w=o("f9d5").f,C=o("1696"),B=o("0a86").forEach,I=o("1661"),k=o("58ea"),T=o("016e"),S=o("1b0a"),A=o("b57c"),_=S.get,N=S.set,M=k.f,P=T.f,O=Math.round,E=n.RangeError,L=l.ArrayBuffer,R=l.DataView,D=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,F=s.TypedArray,$=s.TypedArrayPrototype,j=s.aTypedArrayConstructor,W=s.isTypedArray,z="BYTES_PER_ELEMENT",H="Wrong length",q=function(t,e){var o=0,i=e.length,n=new(j(t))(i);while(i>o)n[o]=e[o++];return n},Y=function(t,e){M(t,e,{get:function(){return _(this)[e]}})},V=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},G=function(t,e){return W(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},X=function(t,e){return G(t,e=p(e,!0))?d(2,t[e]):P(t,e)},J=function(t,e,o){return!(G(t,e=p(e,!0))&&y(o)&&m(o,"value"))||m(o,"get")||m(o,"set")||o.configurable||m(o,"writable")&&!o.writable||m(o,"enumerable")&&!o.enumerable?M(t,e,o):(t[e]=o.value,t)};r?(D||(T.f=X,k.f=J,Y($,"buffer"),Y($,"byteOffset"),Y($,"byteLength"),Y($,"length")),i({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:X,defineProperty:J}),t.exports=function(t,e,o){var r=t.match(/\d+$/)[0]/8,s=t+(o?"Clamped":"")+"Array",l="get"+t,d="set"+t,p=n[s],m=p,v=m&&m.prototype,k={},T=function(t,e){var o=_(t);return o.view[l](e*r+o.byteOffset,!0)},S=function(t,e,i){var n=_(t);o&&(i=(i=O(i))<0?0:i>255?255:255&i),n.view[d](e*r+n.byteOffset,i,!0)},P=function(t,e){M(t,e,{get:function(){return T(this,e)},set:function(t){return S(this,e,t)},enumerable:!0})};D?a&&(m=e((function(t,e,o,i){return c(t,m,s),A(function(){return y(e)?V(e)?void 0!==i?new p(e,g(o,r),i):void 0!==o?new p(e,g(o,r)):new p(e):W(e)?q(m,e):C.call(m,e):new p(f(e))}(),t,m)})),b&&b(m,F),B(w(p),(function(t){t in m||u(m,t,p[t])})),m.prototype=v):(m=e((function(t,e,o,i){c(t,m,s);var n,a,l,d=0,u=0;if(y(e)){if(!V(e))return W(e)?q(m,e):C.call(m,e);n=e,u=g(o,r);var p=e.byteLength;if(void 0===i){if(p%r)throw E(H);if(a=p-u,a<0)throw E(H)}else if(a=h(i)*r,a+u>p)throw E(H);l=a/r}else l=f(e),a=l*r,n=new L(a);N(t,{buffer:n,byteOffset:u,byteLength:a,length:l,view:new R(n)});while(d<l)P(t,d++)})),b&&b(m,F),v=m.prototype=x($)),v.constructor!==m&&u(v,"constructor",m),U&&u(v,U,s),k[s]=m,i({global:!0,forced:m!=p,sham:!D},k),z in m||u(m,z,r),z in v||u(v,z,r),I(s)}):t.exports=function(){}},"786b":function(t,e){var o=Math.abs,i=Math.pow,n=Math.floor,r=Math.log,a=Math.LN2,s=function(t,e,s){var l,c,d,u=new Array(s),h=8*s-e-1,f=(1<<h)-1,g=f>>1,p=23===e?i(2,-24)-i(2,-77):0,m=t<0||0===t&&1/t<0?1:0,v=0;for(t=o(t),t!=t||t===1/0?(c=t!=t?1:0,l=f):(l=n(r(t)/a),t*(d=i(2,-l))<1&&(l--,d*=2),t+=l+g>=1?p/d:p*i(2,1-g),t*d>=2&&(l++,d/=2),l+g>=f?(c=0,l=f):l+g>=1?(c=(t*d-1)*i(2,e),l+=g):(c=t*i(2,g-1)*i(2,e),l=0));e>=8;u[v++]=255&c,c/=256,e-=8);for(l=l<<e|c,h+=e;h>0;u[v++]=255&l,l/=256,h-=8);return u[--v]|=128*m,u},l=function(t,e){var o,n=t.length,r=8*n-e-1,a=(1<<r)-1,s=a>>1,l=r-7,c=n-1,d=t[c--],u=127&d;for(d>>=7;l>0;u=256*u+t[c],c--,l-=8);for(o=u&(1<<-l)-1,u>>=-l,l+=e;l>0;o=256*o+t[c],c--,l-=8);if(0===u)u=1-s;else{if(u===a)return o?NaN:d?-1/0:1/0;o+=i(2,e),u-=s}return(d?-1:1)*o*i(2,u-e)};t.exports={pack:s,unpack:l}},"791f":function(t,e,o){"use strict";var i=o("5eb0"),n=o("4c15").includes,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("includes",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"7cf4":function(t,e,o){"use strict";var i=o("5eb0"),n=o("2730"),r=o("e019"),a=o("4326"),s=o("bc5d"),l=i.aTypedArray,c=i.exportTypedArrayMethod,d=s((function(){new Int8Array(1).set({})}));c("set",(function(t){l(this);var e=r(arguments.length>1?arguments[1]:void 0,1),o=this.length,i=a(t),s=n(i.length),c=0;if(s+e>o)throw RangeError("Wrong length");while(c<s)this[e+c]=i[c++]}),d)},"8d50":function(t,e,o){"use strict";var i=o("5eb0"),n=o("1bbc").right,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduceRight",(function(t){return n(r(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"92a3":function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").find,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("find",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},9627:function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},"99eb":function(t,e,o){"use strict";var i=o("73cd"),n=o("5eb0"),r=o("bc5d"),a=i.Int8Array,s=n.aTypedArray,l=n.exportTypedArrayMethod,c=[].toLocaleString,d=[].slice,u=!!a&&r((function(){c.call(new a(1))})),h=r((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!r((function(){a.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return c.apply(u?d.call(s(this)):s(this),arguments)}),h)},"9ff4":function(t,e,o){"use strict";var i=o("5eb0"),n=o("4c15").indexOf,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("indexOf",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},aa1f:function(t){t.exports=JSON.parse('{"name":"vue-img-cutter","version":"2.2.1","description":"A image crop plug-in for Vue,you can use it to rotate、zoom images and cut any size","author":"acccccccb <tabzhang@foxmail.com>","private":false,"scripts":{"dev":"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js","start":"npm run dev","build":"node build/build.js"},"dependencies":{"vue":"^2.5.2"},"devDependencies":{"autoprefixer":"^7.1.2","babel-core":"^6.22.1","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-loader":"^7.1.1","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-runtime":"^6.22.0","babel-plugin-transform-vue-jsx":"^3.5.0","babel-preset-env":"^1.3.2","babel-preset-stage-2":"^6.22.0","chalk":"^2.0.1","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0","extract-text-webpack-plugin":"^3.0.0","file-loader":"^1.1.4","friendly-errors-webpack-plugin":"^1.6.1","html-webpack-plugin":"^2.30.1","js-yaml":"^3.13.1","lodash":"^4.17.15","mem":"^6.0.0","mixin-deep":"^2.0.1","node-notifier":"^5.1.2","optimize-css-assets-webpack-plugin":"^3.2.0","ora":"^1.2.0","portfinder":"^1.0.13","postcss-import":"^11.0.0","postcss-loader":"^2.0.8","postcss-url":"^7.2.1","rimraf":"^2.6.0","semver":"^5.3.0","set-value":"^3.0.1","shelljs":"^0.7.6","uglifyjs-webpack-plugin":"^1.1.1","url-loader":"^0.5.8","vue-loader":"^13.3.0","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.5.2","webpack":"^3.6.0","webpack-bundle-analyzer":"^3.3.2","webpack-dev-server":"^2.11.5","webpack-merge":"^4.1.0"},"engines":{"node":">= 6.0.0","npm":">= 3.0.0"},"browserslist":["> 1%","last 2 versions","not ie <= 8"],"main":"./src/index.js","repository":{"type":"git","url":"git+https://github.com/acccccccb/vue-img-cutter.git"},"keywords":["image","crop","cutter","vue","裁剪"],"license":"Apache2.0","bugs":{"url":"https://github.com/acccccccb/vue-img-cutter/issues"},"homepage":"https://ihtmlcss.com/demo/dist/#/croptool","__npminstall_done":"Wed Mar 10 2021 18:11:04 GMT+0800 (中国标准时间)","_from":"vue-img-cutter@2.2.1","_resolved":"https://registry.npm.taobao.org/vue-img-cutter/download/vue-img-cutter-2.2.1.tgz"}')},abc4:function(t,e,o){"use strict";var i=o("5eb0"),n=o("b913"),r=o("bc5d"),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod,c=[].slice,d=r((function(){new Int8Array(1).slice()}));l("slice",(function(t,e){var o=c.call(a(this),t,e),i=n(this,this.constructor),r=0,l=o.length,d=new(s(i))(l);while(l>r)d[r]=o[r++];return d}),d)},b129:function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").forEach,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("forEach",(function(t){n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},ba32:function(t,e,o){var i=o("73cd"),n=o("bc5d"),r=o("8b5c"),a=o("5eb0").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;t.exports=!a||!n((function(){l(1)}))||!n((function(){new l(-1)}))||!r((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||n((function(){return 1!==new l(new s(2),1,void 0).length}))},bbf7:function(t,e,o){"use strict";var i=o("5eb0").exportTypedArrayMethod,n=o("bc5d"),r=o("73cd"),a=r.Uint8Array,s=a&&a.prototype||{},l=[].toString,c=[].join;n((function(){l.call({})}))&&(l=function(){return c.call(this)});var d=s.toString!=l;i("toString",l,d)},d7d0:function(t,e,o){"use strict";var i=o("5eb0"),n=o("3b04"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("copyWithin",(function(t,e){return n.call(r(this),t,e,arguments.length>2?arguments[2]:void 0)}))},dbf1:function(t,e,o){var i=o("8a37");t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},dc7b:function(t,e,o){"use strict";var i=o("b9dd"),n=o("8a37"),r=o("2730"),a=o("b615"),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),u=c||!d;t.exports=u?function(t){if(c)return l.apply(this,arguments)||0;var e=i(this),o=r(e.length),a=o-1;for(arguments.length>1&&(a=s(a,n(arguments[1]))),a<0&&(a=o+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},e019:function(t,e,o){var i=o("dbf1");t.exports=function(t,e){var o=i(t);if(o%e)throw RangeError("Wrong offset");return o}},e519:function(t,e,o){"use strict";var i=o("5eb0"),n=o("0a86").findIndex,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("findIndex",(function(t){return n(r(this),t,arguments.length>1?arguments[1]:void 0)}))},e560:function(t,e,o){"use strict";var i=o("5eb0"),n=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].join;r("join",(function(t){return a.apply(n(this),arguments)}))},e6a4:function(t,e,o){"use strict";var i=o("5eb0"),n=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].sort;r("sort",(function(t){return a.call(n(this),t)}))},e963:function(t,e,o){"use strict";o("37e8")},edb8:function(t,e,o){"use strict";var i=o("5eb0"),n=o("dc7b"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("lastIndexOf",(function(t){return n.apply(r(this),arguments)}))},ef34:function(t,e,o){"use strict";var i=o("4292"),n=o("bc5d"),r=o("3535"),a=o("425b"),s=o("fb77"),l=o("2730"),c=o("b913"),d=r.ArrayBuffer,u=r.DataView,h=d.prototype.slice,f=n((function(){return!new d(2).slice(1,void 0).byteLength}));i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);var o=a(this).byteLength,i=s(t,o),n=s(void 0===e?o:e,o),r=new(c(this,d))(l(n-i)),f=new u(this),g=new u(r),p=0;while(i<n)g.setUint8(p++,f.getUint8(i++));return r}})},f923:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));o("6b07"),o("cf2b"),o("08b3"),o("2a39"),o("f39f"),o("4021");function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}}}]);
//# sourceMappingURL=chunk-1b1cc46e.5ff6acfe.js.map