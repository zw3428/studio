(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e256d18","chunk-2d221853","chunk-770cae1f"],{"06cb":function(e,t,n){"use strict";t.__esModule=!0;var a=n("a593"),s=o(a),r=n("c865");function o(e){return e&&e.__esModule?e:{default:e}}var i=[],l="@@clickoutsideContext",c=void 0,u=0;function d(e,t,n){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&a.target&&s.target)||e.contains(a.target)||e.contains(s.target)||e===a.target||n.context.popperElm&&(n.context.popperElm.contains(a.target)||n.context.popperElm.contains(s.target))||(t.expression&&e[l].methodName&&n.context[e[l].methodName]?n.context[e[l].methodName]():e[l].bindingFn&&e[l].bindingFn())}}!s.default.prototype.$isServer&&(0,r.on)(document,"mousedown",(function(e){return c=e})),!s.default.prototype.$isServer&&(0,r.on)(document,"mouseup",(function(e){i.forEach((function(t){return t[l].documentHandler(e,c)}))})),t.default={bind:function(e,t,n){i.push(e);var a=u++;e[l]={id:a,documentHandler:d(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[l].documentHandler=d(e,t,n),e[l].methodName=t.expression,e[l].bindingFn=t.value},unbind:function(e){for(var t=i.length,n=0;n<t;n++)if(i[n][l].id===e[l].id){i.splice(n,1);break}delete e[l]}}},"5e3a":function(e,t,n){"use strict";var a=n("1543");function s(e){return a["a"].firestore().collection(e)}t["a"]={user:s("user"),userOnline:s("user_online"),userUnreadCount:s("user_unread_count"),instrument:s("instrument"),teacher:s("teacher_info"),teacherStudentList:s("students_list"),policies:s("policy"),lessonType:s("lesson_type"),studio:s("studio_info"),cache:s("cache"),makeupPolicy:s("makeup_policy"),cancellationPolicy:s("cancellation_policy"),lessonSchedule:s("lesson_schedule"),lessonReschedule:s("lesson_reschedule"),lessonSchedulePlan:s("lesson_schedule_plan"),lessonScheduleMaterial:s("lesson_schedule_material"),lessonScheduleAssignment:s("lesson_schedule_assignment"),practice:s("practice"),achievement:s("achievement"),material:s("material"),materialHash:s("material_hash"),materialAccessControl:s("material_access_control"),student:s("students_list"),lessonScheduleConfigure:s("lesson_schedule_config"),eventConfig:s("event_config"),block:s("block"),userNotificationConfig:s("user_notification_config"),insightsCount:s("insights_count"),rescheduleMakeupRefund:s("student_reschedule_makeup_refund_history"),lessonCancellation:s("lesson_cancellation"),allowSwapStatistics:s("allow_swap_statistics"),calendarLinkSetting:s("calendar_link_setting"),googleCalendarEvents:s("google_calendar_events"),googleCalendarEventsWatch:s("google_calendar_events_watch"),userNotifications:s("user_notifications"),bugReports:s("bug_reports"),teacherReschedules:s("teacher_reschedules"),errors:s("tk_errors"),couponHistory:s("promo_codes_history"),userReceipt:s("user_receipt"),accessTokenGoogle:s("access_token_google"),appSessions:s("app_sessions"),appSessionActions:s("app_sessions_actions"),appEvents:s("app_events"),config:s("config"),googleEmail:s("google_email"),googleAccessTokenCalendar:s("google_access_token_calendar"),googleAccessTokenDrive:s("google_access_token_drive"),googleAccessTokenPhotos:s("google_access_token_photos"),googleCalendarEventsSyncToken:s("google_calendar_events_sync_token"),teacherPermissions:s("teacher_permissions"),salesMan:s("sales_man"),salesManParams:s("sales_man_params"),salesManRecords:s("sales_man_records"),salesManLinks:s("sales_man_links"),signUpViaLinkCount:s("signup_via_link_count")}},"77f7":function(e,t,n){"use strict";n("b482")},8344:function(e,t,n){"use strict";n.r(t);var a,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{show:e.show},on:{"update:show":function(t){e.show=t},close:e.close}},[n("template",{slot:"header"},[n("h5",{staticClass:"modal-title"},[e._v(e._s(e.title))])]),n("div",{staticClass:"tk-popup-content",staticStyle:{width:"100%",height:"100%",position:"relative"}},[e.isProfileDataLoading?n("loading",{attrs:{size:"80"}}):[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"tk-position-relative",on:{mouseover:function(t){e.showUpload=!0},mouseleave:function(t){e.showUpload=!1}}},[n("div",{staticClass:"avatar avatar-xl rounded-circle tk-position-relative tk-avatar-outer tk-bg-color-white tk-border-color-main"},[n("avatar",{attrs:{uId:e.model.user.userId,name:e.model.user.name}})],1),e.showUpload?n("div",{staticClass:"avatar avatar-xl rounded-circle tk-position-absolute tk-avatar-outer",staticStyle:{left:"0",top:"0","font-size":"1.2rem","background-color":"rgba(0,0,0,0.24)",color:"rgba(255,255,255,0.8)"}},[n("i",{staticClass:"fas fa-camera"}),n("dropzone-file-upload",{staticClass:"tk-position-absolute tk-profile-upload-avatar tk-cursor-pointer",staticStyle:{top:"0",left:"0",opacity:"0",width:"74px",height:"74px",overflow:"hidden"},attrs:{id:"uploadAvatar",multiple:!1},model:{value:e.fileSingle,callback:function(t){e.fileSingle=t},expression:"fileSingle"}})],1):e._e()])]),n("div",{staticStyle:{"margin-top":"1.5rem"}},[n("div",[n("span",[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-control-label"},[e._v("Full Name")]),n("div",{staticClass:"has-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.name,expression:"model.user.name"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.name},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"name",t.target.value)}}})])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-control-label"},[e._v("Email")]),n("div",{staticClass:"has-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.email,expression:"model.user.email"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",class:{"is-invalid":e.isInvalid},attrs:{type:"email"},domProps:{value:e.model.user.email},on:{blur:function(t){return t.preventDefault(),e.validationEmail(t)},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"email",t.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v(" The email is not correct. ")])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-control-label"},[e._v("Phone")]),n("div",{staticClass:"has-label"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend tk-px-width-px90"},[n("span",{staticClass:"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center",staticStyle:{padding:"0"}},[n("el-select",{staticClass:"tk-select-border-none tk-border-bottom tk-select-bg-mute",model:{value:e.countryCodeSelected,callback:function(t){e.countryCodeSelected=t},expression:"countryCodeSelected"}},e._l(e.countrySelects.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"  "+e.areaCode,value:e.value}})})),1)],1)]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.phone,expression:"model.user.phone"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.phone},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"phone",t.target.value)}}})])])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-control-label"},[e._v("Url")]),n("div",{staticClass:"has-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.website,expression:"model.user.website"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.website},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"website",t.target.value)}}})])])])])]),n("div",[n("div",[n("label",{staticClass:"form-control-label"},[e._v("Permissions")])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Studio Profile")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onStudioProfileChanged},model:{value:e.model.teacherPermissions.studioProfile,callback:function(t){e.$set(e.model.teacherPermissions,"studioProfile",t)},expression:"model.teacherPermissions.studioProfile"}})],1)])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Instructor Profile")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onTeacherProfileChanged},model:{value:e.model.teacherPermissions.teacherProfile,callback:function(t){e.$set(e.model.teacherPermissions,"teacherProfile",t)},expression:"model.teacherPermissions.teacherProfile"}})],1)])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Scheduling")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onSchedulingChanged},model:{value:e.model.teacherPermissions.scheduling,callback:function(t){e.$set(e.model.teacherPermissions,"scheduling",t)},expression:"model.teacherPermissions.scheduling"}})],1)])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Billing")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onBillingChanged},model:{value:e.model.teacherPermissions.billing,callback:function(t){e.$set(e.model.teacherPermissions,"billing",t)},expression:"model.teacherPermissions.billing"}})],1)])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Admin")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onAdminChanged},model:{value:e.model.teacherPermissions.admin,callback:function(t){e.$set(e.model.teacherPermissions,"admin",t)},expression:"model.teacherPermissions.admin"}})],1)])])])]),n("div",[n("span",[n("div",{staticClass:"form-group"},[n("div",[n("div",{staticClass:"form-control form-control-muted"},[n("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Insights")]),n("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onInsightsChanged},model:{value:e.model.teacherPermissions.insights,callback:function(t){e.$set(e.model.teacherPermissions,"insights",t)},expression:"model.teacherPermissions.insights"}})],1)])])])])])]],2),n("template",{slot:"footer"},[""!==e.left?n("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:e.leftType},on:{click:function(t){return t.preventDefault(),e.onLeftTapped(t)}}},[e._v(e._s(e.left))]):e._e(),""!==e.center?n("base-button",{staticClass:"tk-font-color-white tk-border-none",attrs:{type:e.centerType},on:{click:function(t){return t.preventDefault(),e.onCenterTapped(t)}}},[e._v(e._s(e.center))]):e._e(),""!==e.right?n("base-button",{staticClass:"tk-font-color-white tk-border-none",attrs:{type:e.rightType},on:{click:function(t){return t.preventDefault(),e.onRightTapped(t)}}},[e._v(e._s(e.right))]):e._e()],1)],2)},r=[],o=(n("82a8"),n("2a39"),n("6a61"),n("9ad1")),i=n("2cb5"),l=(n("9102"),n("2984"),n("3aa8")),c=n.n(l),u=(n("086f"),n("ce6c")),d=n.n(u),p=n("f7a2"),m=n("cb64"),f=n("7a12"),h=n("fdc1"),v=n("fef9"),g=n("5e3a"),b=n("c4b26"),k={components:(a={loading:p["a"],DropzoneFileUpload:m["default"],avatar:f["default"]},Object(i["a"])(a,d.a.name,d.a),Object(i["a"])(a,c.a.name,c.a),Object(i["a"])(a,"tkSwitch",b["default"]),a),props:{title:String,left:{type:String,default:""},center:{type:String,default:""},right:{type:String,default:""},leftType:{type:String,default:"secondary"},centerType:{type:String,default:"secondary"},rightType:{type:String,default:"main"}},data:function(){return{show:!1,showUpload:!1,isInvalid:!1,countryCodeSelected:"+1",countrySelects:this.$tools.countrySelects,fileSingle:[],userId:"",studioId:"",isProfileDataLoading:!0,model:{user:{userId:"",name:"",phone:"",email:"",website:""},studio:{id:"",memberLevelId:1,name:"",storefrontColor:""},teacherPermissions:{userId:"",studioProfile:!1,admin:!1,teacherProfile:!0,scheduling:!1,billing:!1,insights:!1}}}},watch:{fileSingle:function(e,t){var n=this;setTimeout((function(){console.log("----",e[0]),console.log("----",e[0].dataURL),n.avatarUrl=e[0].dataURL}),200)}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.init(),console.log("-------"),t.next=5,v["a"].studioInfo();case 5:return a=t.sent,n.model.studio=a,console.log("获取到的Studio信息: ",a),s=h["a"].userId(),g["a"].user.doc(s).onSnapshot((function(e){console.log("监听的数据: ",e.data()),e.exists&&(n.model.user=e.data())})),t.next=12,v["a"].teacherPermissions.get();case 12:r=t.sent,n.model.teacherPermissions=r,n.isProfileDataLoading=!1;case 15:case"end":return t.stop()}}),t)})))()},methods:{close:function(){this.$emit("close"),this.modalClose()},onLeftTapped:function(){this.$emit("onLeftTapped"),this.modalClose()},onCenterTapped:function(){this.$emit("onCenterTapped"),this.modalClose()},onRightTapped:function(){this.$emit("onRightTapped"),this.modalClose()},modalClose:function(){document.getElementsByTagName("body")[0].classList.remove("modal-open")},init:function(){var e=this;setTimeout((function(){e.show=!0}),200)},onStudioProfileChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击studioProfile"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onAdminChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Admin"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onTeacherProfileChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击TeacherProfile"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onSchedulingChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Scheduling"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onBillingChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Billing"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onInsightsChanged:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Insights"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},updateTeacherPromissions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.abrupt("return",new Promise(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=n.model.teacherPermissions,e.next=4,v["a"].teacherPermissions.update(s);case 4:t(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})))()},change:function(e){console.log(e)},validationEmail:function(){var e=this;e.$tools.isNull(e.model.user.email)?e.isInvalid=!1:e.isInvalid=!e.$tools.isEmail(e.model.user.email)}}},y=k,w=(n("77f7"),n("5d22")),C=Object(w["a"])(y,s,r,!1,null,"8379fa10",null);t["default"]=C.exports},"84c9":function(e,t,n){var a=n("4292"),s=n("bc5d"),r=n("274c").f,o=s((function(){return!Object.getOwnPropertyNames(1)}));a({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:r})},b482:function(e,t,n){},c4b26:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"custom-toggle",class:e.switchClass},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e.model},on:{change:function(t){var n=e.model,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);a.checked?o<0&&(e.model=n.concat([r])):o>-1&&(e.model=n.slice(0,o).concat(n.slice(o+1)))}else e.model=s}}}),n("span",{staticClass:"custom-toggle-slider rounded-circle",attrs:{"data-label-off":e.offText,"data-label-on":e.onText}},[n("svg",{ref:"loading",staticStyle:{width:"18px",height:"18px",position:"absolute",transform:"translate(-50%, -50%)",left:"0",top:"0",display:"block"},attrs:{id:"loading",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[n("path",{attrs:{fill:"#71d9c2",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(188.223 50 50)"}},[n("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])])])},s=[],r={name:"tk-switch",props:{value:[Array,Boolean],type:String,onText:{type:String,default:"Yes"},offText:{type:String,default:"No"},isLoading:{type:Boolean,default:!1}},computed:{switchClass:function(){var e="custom-toggle-";return this.type?e+this.type:""},model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{triggerToggle:function(){this.model=!this.model}}},o=r,i=n("5d22"),l=Object(i["a"])(o,a,s,!1,null,null,null);t["default"]=l.exports},cb64:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropzone mb-3 dz-clickable",class:[e.multiple?"dropzone-multiple":"dropzone-single"]},[n("div",{staticClass:"fallback"},[n("div",{staticClass:"custom-file"},[n("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"projectCoverUploads",multiple:e.multiple}}),n("label",{staticClass:"custom-file-label",attrs:{for:"projectCoverUploads"}},[e._v("Choose file")])])]),e.multiple?n("ul",{ref:"previewMultiple",staticClass:"dz-preview dz-preview-multiple list-group list-group-lg list-group-flush",class:e.previewClasses},[e._m(1)]):n("div",{ref:"previewSingle",staticClass:"dz-preview dz-preview-single",class:e.previewClasses},[e._m(0)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dz-preview-cover"},[n("img",{staticClass:"dz-preview-img",attrs:{"data-dz-thumbnail":""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-group-item px-0"},[n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col-auto"},[n("div",{staticClass:"avatar"},[n("img",{staticClass:"avatar-img rounded",attrs:{"data-dz-thumbnail":""}})])]),n("div",{staticClass:"col ml--3"},[n("h4",{staticClass:"mb-1",attrs:{"data-dz-name":""}},[e._v("...")]),n("p",{staticClass:"small text-muted mb-0",attrs:{"data-dz-size":""}},[e._v("...")])]),n("div",{staticClass:"col-auto"},[n("button",{staticClass:"btn btn-danger btn-sm",attrs:{"data-dz-remove":"true"}},[n("i",{staticClass:"fas fa-trash"})])])])])}],r=(n("2a39"),n("8532")),o=(n("6a61"),n("9ad1")),i={name:"dropzone-file-upload",props:{options:{type:Object,default:function(){return{}}},value:[String,Object,Array],url:{type:String,default:"http://"},multiple:Boolean,previewClasses:[String,Object,Array]},model:{prop:"value",event:"change"},data:function(){return{currentFile:null,files:[],showList:!1}},methods:{initDropzone:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e("chunk-2d207ecb"),n.e("chunk-4ef714cb")]).then(n.t.bind(null,"04e00",7));case 2:a=t.sent,a=a.default||a,a.autoDiscover=!1,s=e.multiple?e.$refs.previewMultiple:e.$refs.previewSingle,o=e,i=Object(r["a"])(Object(r["a"])({},e.options),{},{url:e.url,thumbnailWidth:null,thumbnailHeight:null,previewsContainer:s,previewTemplate:s.innerHTML,maxFiles:e.multiple?null:1,acceptedFiles:e.multiple?null:"image/*",init:function(){this.on("addedfile",(function(e){!o.multiple&&o.currentFile,o.currentFile=e}))}}),e.dropzone=new a(e.$el,i),e.dropzone.on("addedfile",(function(t){e.$emit("addedfile",t),e.files=[],e.files.push(t),e.$emit("change",e.files)})),s.innerHTML="",["drop","dragstart","dragend","dragenter","dragover","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecomplete"];case 12:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initDropzone();case 1:case"end":return t.stop()}}),t)})))()}},l=i,c=n("5d22"),u=Object(c["a"])(l,a,s,!1,null,null,null);t["default"]=u.exports},f7a2:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{ref:"loading",staticStyle:{position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",display:"block"},style:{width:e.size+"px",height:e.size+"px"},attrs:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[n("path",{attrs:{fill:e.color,d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(188.223 50 50)"}},[n("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])},s=[],r={props:{size:{type:String,default:"80"},color:{type:String,default:"#71d9c2"}}},o=r,i=n("5d22"),l=Object(i["a"])(o,a,s,!1,null,null,null);t["a"]=l.exports},fdc1:function(e,t,n){"use strict";n("84c9"),n("2a39");var a=n("73ef"),s=n.n(a);n("948b");function r(e){switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function o(e){return new Promise((function(t,n){var a=["test-","@tunekey.test",".test","@tk.com","@tunekey.com","@tunkey.com"];a.forEach((function(n){e.indexOf(n)>=0&&t(!0)}));var o="https://emailverification.whoisxmlapi.com/api/v1?apiKey=at_wU22I8A8DpX6v2sXO1XT3hlEBdFtG&emailAddress="+e;s.a.get(o).then((function(e){if(e.status&&200===e.status){var n=e.data;if(n)return console.log("[Email校验] => 校验结果: ",JSON.stringify(n)),void t(r(n.smtpCheck))}t(!1)})).catch((function(e){console.error(e),n(e)}))}))}function i(){var e=localStorage.getItem("auth_user");if(""!==e){var t=JSON.parse(e);if(t)return t.uid}return""}function l(e,t){var n=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(n.length!=a.length)return!1;for(var s=0,r=n.length;s<r;s++){var o=n[s];if(this[o]!==e[o])return!1}return!0}function c(e){return"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/images%2Fuser_avatars%2F"+e+".jpg?alt=media&token=42b79c74-4e37-4207-8591-efea10dd794d"}var u={emailValidVerify:o,userId:i,objEquals:l,userAvatarPath:c};t["a"]=u},fef9:function(e,t,n){"use strict";n("2a39"),n("6a61");var a=n("9ad1"),s=(n("948b"),n("fdc1")),r=n("5e3a");t["a"]={userInfo:function(){return new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=s["a"].userId(),e.next=4,r["a"].user.doc(a).get();case 4:o=e.sent,o&&o.exists?(localStorage.setItem("userInfo",JSON.stringify(o.data())),t(o.data())):t(null),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}())},teacherInfo:function(){return new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=s["a"].userId(),e.next=4,r["a"].teacher.doc(a).get();case 4:o=e.sent,o&&o.exists?(localStorage.setItem("teacherInfo",JSON.stringify(o.data())),t(o.data())):t(null),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}())},studioInfo:function(){var e=this;return new Promise(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,a){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.teacherInfo();case 3:if(s=t.sent,!s||!s.studioId){t.next=12;break}return t.next=7,r["a"].studio.doc(s.studioId).get();case 7:if(o=t.sent,!o||!o.exists){t.next=12;break}return localStorage.setItem("studioInfo",JSON.stringify(o.data())),n(o.data()),t.abrupt("return");case 12:n(null),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),a(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}())},teacherPermissions:{get:function(){return new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=s["a"].userId(),e.next=4,r["a"].teacherPermissions.doc(a).get();case 4:if(o=e.sent,!o.exists){e.next=9;break}t(o.data()),e.next=13;break;case 9:return i={userId:a,studioProfile:!1,teacherProfile:!0,admin:!1,scheduling:!0,billing:!0,insights:!0},e.next=12,r["a"].teacherPermissions.doc(a).set(i);case 12:t(i);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),n(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}())},update:function(e){return new Promise(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,o=s["a"].userId(),e["userId"]=o,t.next=5,r["a"].teacherPermissions.doc(o).set(e);case 5:n(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),a(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())}}}}}]);
//# sourceMappingURL=chunk-9e256d18.4866bfc7.js.map