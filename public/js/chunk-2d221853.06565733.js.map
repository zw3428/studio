{"version":3,"sources":["webpack:///./src/tkViews/components/Inputs/DropzoneFileUpload.vue?a6ca","webpack:///src/tkViews/components/Inputs/DropzoneFileUpload.vue","webpack:///./src/tkViews/components/Inputs/DropzoneFileUpload.vue?b3a5","webpack:///./src/tkViews/components/Inputs/DropzoneFileUpload.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","multiple","attrs","_v","ref","previewClasses","_m","staticRenderFns","name","props","options","type","Object","default","value","String","Array","url","Boolean","model","prop","event","data","currentFile","files","showList","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6BC,MAAM,CAACP,EAAIQ,SAAW,oBAAsB,oBAAoB,CAACJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoBG,MAAM,CAAC,KAAO,OAAO,GAAK,sBAAsB,SAAWT,EAAIQ,YAAYJ,EAAG,QAAQ,CAACE,YAAY,oBAAoBG,MAAM,CAAC,IAAM,wBAAwB,CAACT,EAAIU,GAAG,qBAAuBV,EAAIQ,SAA0HJ,EAAG,KAAK,CAACO,IAAI,kBAAkBL,YAAY,2EAA2EC,MAAMP,EAAIY,gBAAgB,CAACZ,EAAIa,GAAG,KAAxQT,EAAG,MAAM,CAACO,IAAI,gBAAgBL,YAAY,+BAA+BC,MAAMP,EAAIY,gBAAgB,CAACZ,EAAIa,GAAG,QACznBC,EAAkB,CAAC,WAAa,IAAId,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBG,MAAM,CAAC,oBAAoB,SAAS,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqBG,MAAM,CAAC,oBAAoB,UAAUL,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,OAAOG,MAAM,CAAC,eAAe,KAAK,CAACT,EAAIU,GAAG,SAASN,EAAG,IAAI,CAACE,YAAY,wBAAwBG,MAAM,CAAC,eAAe,KAAK,CAACT,EAAIU,GAAG,WAAWN,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,wBAAwBG,MAAM,CAAC,iBAAiB,SAAS,CAACL,EAAG,IAAI,CAACE,YAAY,2B,gDCuDt3B,GACES,KAAM,uBACNC,MAAO,CACLC,QAAS,CACPC,KAAMC,OACNC,QAAS,WAAf,WAEIC,MAAO,CAACC,OAAQH,OAAQI,OACxBC,IAAK,CACHN,KAAMI,OACNF,QAAS,WAEXZ,SAAUiB,QACVb,eAAgB,CAACU,OAAQH,OAAQI,QAEnCG,MAAO,CACLC,KAAM,QACNC,MAAO,UAETC,KAnBF,WAoBI,MAAO,CACLC,YAAa,KACbC,MAAO,GACPC,UAAU,IAGdC,QAAS,CACP,aADJ,WACA,oLACA,yFADA,OACA,EADA,OAEA,eACA,kBACA,aACA,wBACA,sBACA,IACA,EARA,iCASA,WATA,IAUA,UACA,oBACA,qBACA,oBACA,4BACA,2BACA,wCACA,gBACA,kCACA,0BAGA,sBAIA,0BAEA,uCACA,uBACA,WACA,gBACA,6BAGA,eACA,CACA,OACA,YACA,UACA,YACA,WACA,YACA,cACA,YACA,QACA,aACA,iBACA,UACA,UACA,WACA,WACA,kBACA,mBACA,qBACA,kBACA,kBACA,mBACA,mBACA,sBACA,QACA,iBA7DA,gDAmFE,QA9GF,WA8GA,wJACA,iBADA,+CCtK8d,I,YCO1dC,EAAY,eACd,EACAnC,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/chunk-2d221853.06565733.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dropzone mb-3 dz-clickable\",class:[_vm.multiple ? 'dropzone-multiple' : 'dropzone-single']},[_c('div',{staticClass:\"fallback\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"type\":\"file\",\"id\":\"projectCoverUploads\",\"multiple\":_vm.multiple}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"projectCoverUploads\"}},[_vm._v(\"Choose file\")])])]),(!_vm.multiple)?_c('div',{ref:\"previewSingle\",staticClass:\"dz-preview dz-preview-single\",class:_vm.previewClasses},[_vm._m(0)]):_c('ul',{ref:\"previewMultiple\",staticClass:\"dz-preview dz-preview-multiple list-group list-group-lg list-group-flush\",class:_vm.previewClasses},[_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dz-preview-cover\"},[_c('img',{staticClass:\"dz-preview-img\",attrs:{\"data-dz-thumbnail\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"list-group-item px-0\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{staticClass:\"avatar-img rounded\",attrs:{\"data-dz-thumbnail\":\"\"}})])]),_c('div',{staticClass:\"col ml--3\"},[_c('h4',{staticClass:\"mb-1\",attrs:{\"data-dz-name\":\"\"}},[_vm._v(\"...\")]),_c('p',{staticClass:\"small text-muted mb-0\",attrs:{\"data-dz-size\":\"\"}},[_vm._v(\"...\")])]),_c('div',{staticClass:\"col-auto\"},[_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"data-dz-remove\":\"true\"}},[_c('i',{staticClass:\"fas fa-trash\"})])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"dropzone mb-3 dz-clickable\"\n    :class=\"[multiple ? 'dropzone-multiple' : 'dropzone-single']\"\n  >\n    <div class=\"fallback\">\n      <div class=\"custom-file\">\n        <input\n          type=\"file\"\n          class=\"custom-file-input\"\n          id=\"projectCoverUploads\"\n          :multiple=\"multiple\"\n        />\n        <label class=\"custom-file-label\" for=\"projectCoverUploads\"\n          >Choose file</label\n        >\n      </div>\n    </div>\n    <div\n      class=\"dz-preview dz-preview-single\"\n      v-if=\"!multiple\"\n      :class=\"previewClasses\"\n      ref=\"previewSingle\"\n    >\n      <div class=\"dz-preview-cover\">\n        <img class=\"dz-preview-img\" data-dz-thumbnail />\n      </div>\n    </div>\n    <ul\n      v-else\n      class=\"dz-preview dz-preview-multiple list-group list-group-lg list-group-flush\"\n      :class=\"previewClasses\"\n      ref=\"previewMultiple\"\n    >\n      <li class=\"list-group-item px-0\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-auto\">\n            <div class=\"avatar\">\n              <img class=\"avatar-img rounded\" data-dz-thumbnail />\n            </div>\n          </div>\n          <div class=\"col ml--3\">\n            <h4 class=\"mb-1\" data-dz-name>...</h4>\n            <p class=\"small text-muted mb-0\" data-dz-size>...</p>\n          </div>\n          <div class=\"col-auto\">\n            <button data-dz-remove=\"true\" class=\"btn btn-danger btn-sm\">\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"dropzone-file-upload\",\n  props: {\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n    value: [String, Object, Array],\n    url: {\n      type: String,\n      default: \"http://\",\n    },\n    multiple: Boolean,\n    previewClasses: [String, Object, Array],\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\",\n  },\n  data() {\n    return {\n      currentFile: null,\n      files: [],\n      showList: false,\n    };\n  },\n  methods: {\n    async initDropzone() {\n      let Dropzone = await import(\"dropzone\");\n      Dropzone = Dropzone.default || Dropzone;\n      Dropzone.autoDiscover = false;\n      let preview = this.multiple\n        ? this.$refs.previewMultiple\n        : this.$refs.previewSingle;\n      let self = this;\n      let finalOptions = {\n        ...this.options,\n        url: this.url,\n        thumbnailWidth: null,\n        thumbnailHeight: null,\n        previewsContainer: preview,\n        previewTemplate: preview.innerHTML,\n        maxFiles: !this.multiple ? 1 : null,\n        acceptedFiles: !this.multiple ? \"image/*\" : null,\n        init: function () {\n          this.on(\"addedfile\", function (file) {\n            if (!self.multiple && self.currentFile) {\n              // this.removeFile(this.currentFile);\n            }\n            self.currentFile = file;\n          });\n        },\n      };\n      this.dropzone = new Dropzone(this.$el, finalOptions);\n\n      this.dropzone.on(\"addedfile\", (data) => {\n        this.$emit(\"addedfile\", data);\n        this.files = [];\n        this.files.push(data);\n        this.$emit(\"change\", this.files);\n      });\n\n      preview.innerHTML = \"\";\n      let evtList = [\n        \"drop\",\n        \"dragstart\",\n        \"dragend\",\n        \"dragenter\",\n        \"dragover\",\n        \"addedfile\",\n        \"removedfile\",\n        \"thumbnail\",\n        \"error\",\n        \"processing\",\n        \"uploadprogress\",\n        \"sending\",\n        \"success\",\n        \"complete\",\n        \"canceled\",\n        \"maxfilesreached\",\n        \"maxfilesexceeded\",\n        \"processingmultiple\",\n        \"sendingmultiple\",\n        \"successmultiple\",\n        \"completemultiple\",\n        \"canceledmultiple\",\n        \"totaluploadprogress\",\n        \"reset\",\n        \"queuecomplete\",\n      ];\n\n      /* evtList.forEach((evt, index) => {\n          this.dropzone.on(evt, (data) => {\n\n            this.$emit(evt, data);\n\n            if (evt === 'addedfile') {\n              this.files.push(data)\n              this.$emit('change', this.files);\n            } else if (evt === 'removedfile') {\n              let index = this.files.findIndex(f => f.upload.uuid === data.upload.uuid)\n              if (index !== -1) {\n                this.files.splice(index, 1);\n              }\n              this.$emit('change', this.files);\n            }\n          })\n        }) */\n    },\n  },\n  async mounted() {\n    this.initDropzone();\n  },\n};\n</script>\n<style>\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./DropzoneFileUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./DropzoneFileUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DropzoneFileUpload.vue?vue&type=template&id=5462f537&\"\nimport script from \"./DropzoneFileUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./DropzoneFileUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}