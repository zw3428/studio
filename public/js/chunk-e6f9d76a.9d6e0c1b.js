(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6f9d76a"],{"06cb":function(t,e,n){"use strict";e.__esModule=!0;var i=n("a593"),a=o(i),r=n("c865");function o(t){return t&&t.__esModule?t:{default:t}}var s=[],c="@@clickoutsideContext",l=void 0,u=0;function d(t,e,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&i.target&&a.target)||t.contains(i.target)||t.contains(a.target)||t===i.target||n.context.popperElm&&(n.context.popperElm.contains(i.target)||n.context.popperElm.contains(a.target))||(e.expression&&t[c].methodName&&n.context[t[c].methodName]?n.context[t[c].methodName]():t[c].bindingFn&&t[c].bindingFn())}}!a.default.prototype.$isServer&&(0,r.on)(document,"mousedown",(function(t){return l=t})),!a.default.prototype.$isServer&&(0,r.on)(document,"mouseup",(function(t){s.forEach((function(e){return e[c].documentHandler(t,l)}))})),e.default={bind:function(t,e,n){s.push(t);var i=u++;t[c]={id:i,documentHandler:d(t,e,n),methodName:e.expression,bindingFn:e.value}},update:function(t,e,n){t[c].documentHandler=d(t,e,n),t[c].methodName=e.expression,t[c].bindingFn=e.value},unbind:function(t){for(var e=s.length,n=0;n<e;n++)if(s[n][c].id===t[c].id){s.splice(n,1);break}delete t[c]}}},5943:function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tk-px-padding-px20 tk-px-padding-left-px0 tk-table-radio-button tk-studentlist text-center"},[n("div",{staticClass:"tk-bg-color-gray-100 tk-border-color-gray-200 tk-px-radius-px40 tk-px-padding-px2 tk-layout-width-fit tk-layout-inline-block"},[n("button-radio-group",{attrs:{options:t.studentListOptions,"button-classes":"btn-secondary tk-px-radius-px40"},model:{value:t.currentGroup,callback:function(e){t.currentGroup=e},expression:"currentGroup"}})],1)]),n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"card tk-px-margin-bottom-px0 tk-layout-inline-block tk-no-shadow tk-border-color-gray-200",staticStyle:{height:"calc(100vh - 90px)",width:"calc(100% - 28px)"}},[t.isLoading?n("card-loading"):n("el-table",{ref:"studentList",staticClass:"table-responsive align-items-center table-flush tk-table-max-height",attrs:{"header-row-class-name":"thead-light",data:"active"==t.currentGroup?t.active:"inactive"==t.currentGroup?t.inactive:t.archived,id:"studentList"}},[n("el-table-column",{attrs:{"min-width":"180px",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("avatar",{staticClass:"tk-px-margin-right-px10 tk-cursor-pointer",attrs:{uId:i.studentId,studioId:i.studioId,name:i.name,sizeClass:"",textClass:""},on:{click:function(e){return e.preventDefault(),t.preview(i)}}}),n("span",{staticClass:"font-weight-bold tk-font-color-default tk-cursor-pointer text-sm tk-layout-inline-block tk-text-wrap",staticStyle:{width:"calc(100% - 48px - 1rem)"}},[n("b",[t._v(t._s(i.name))])])]}}])}),n("el-table-column",{staticClass:"tk-student-status",attrs:{width:"160px",prop:"lesson"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return["active"==t.currentGroup?n("div",{staticClass:"text-right"},["-1"===i.invitedStatus?[n("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block tk-px-margin-left-px10 tk-px-margin-right-px10",attrs:{size:"sm",type:"main"},on:{click:function(e){return t.invite(i)}}},[t._v("Invite")])]:t._e(),"0"===i.invitedStatus?[n("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block tk-px-margin-left-px10 tk-px-margin-right-px10",attrs:{size:"sm",type:"resend"},on:{click:function(e){return t.resend(i)}}},[t._v("Resend")])]:t._e(),"2"===i.invitedStatus?[n("div",{staticClass:"tk-font-color-red tk-font-weight-bold tk-layout-inline-block"},[t._v("Rejected")]),n("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block tk-px-margin-left-px10 tk-px-margin-right-px10",attrs:{size:"sm",type:"resend"},on:{click:function(e){return t.resend(i)}}},[t._v("Resend")])]:t._e()],2):t._e(),"inactive"==t.currentGroup?n("div",{staticClass:"text-right"},[n("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block tk-px-margin-left-px10 tk-px-margin-right-px10",attrs:{size:"sm",type:"main"},on:{click:function(e){return t.addLesson(i)}}},[t._v("Add Lesson")])],1):t._e(),"archive"==t.currentGroup?n("div",{staticClass:"text-right"},[n("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block tk-px-margin-left-px10 tk-px-margin-right-px10",attrs:{size:"sm",type:"main"},on:{click:function(e){return t.addLesson(i)}}},[t._v("Add Lesson")])],1):t._e()]}}])})],1)],1),n("div",{staticClass:"tk-layout-inline-block tk-px-margin-left-px4"},[n("letter-index",{attrs:{value:t.letter},on:{indexByLetter:t.indexByLetter}})],1)])])},r=[],o=(n("5194"),n("82a8"),n("2a39"),n("6a61"),n("9ad1")),s=n("2cb5"),c=(n("ca6c"),n("2984"),n("2c83")),l=n.n(c),u=(n("31d0"),n("60bf")),d=n.n(u),p=n("a336"),v=n.n(p),f=n("f5ef"),k=n("a125"),h=n("fdc1"),m={name:"inline-actions-table",components:(i={},Object(s["a"])(i,d.a.name,d.a),Object(s["a"])(i,l.a.name,l.a),Object(s["a"])(i,"ButtonRadioGroup",(function(){return n.e("chunk-2d222030").then(n.bind(null,"cd92"))})),Object(s["a"])(i,"letterIndex",(function(){return n.e("chunk-2d0e55e1").then(n.bind(null,"93d5"))})),Object(s["a"])(i,"CardLoading",(function(){return n.e("chunk-271c3a43").then(n.bind(null,"1190"))})),Object(s["a"])(i,"avatar",(function(){return Promise.resolve().then(n.bind(null,"7a12"))})),i),data:function(){return{letter:"",active:[],archive:[],inactive:[],students:[],deleteArchive:!1,index:-1,currentGroup:"active",studentListOptions:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],isLoading:!0}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,k["a"].getStudentsByTeacherId(h["a"].userId());case 3:i=e.sent,i=i.sort((function(t,e){return(t.name+"").localeCompare(e.name+"")})),console.log("students: ",i),a=0;case 7:if(!(a<i.length)){e.next=22;break}return e.next=10,k["a"].getLessonTypeById(i[a].lessonTypeId);case 10:return i[a].lessonType=e.sent,e.next=13,k["a"].getUserName(i[a].teacherId);case 13:return i[a].teacherName=e.sent,e.next=16,k["a"].getUserActive(i[a].studentId);case 16:i[a].active=e.sent,i[a].archive=!1,"-1"===i[a].invitedStatus?n.$tools.isNull(i[a].lessonTypeId)?n.inactive.push(i[a]):n.active.push(i[a]):"0"===i[a].invitedStatus||"1"===i[a].invitedStatus||"2"===i[a].invitedStatus?n.active.push(i[a]):"3"===i[a].invitedStatus&&(i[a].archive=!0,n.archive.push(i[a]));case 19:a++,e.next=7;break;case 22:n.isLoading=!1;case 23:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;f["a"].$on("onActive",(function(e){t.onActive(e)})),f["a"].$on("onArchive",(function(e){t.onArchive(e)})),f["a"].$on("confirmDelete",(function(e){t.onDelete(e),t.confirmDelete()})),t.active.length>0&&(t.letter=t.active[0].name.substring(0,1).toUpperCase()),v()("#studentList").find(".el-table__body-wrapper").eq(0).scroll((function(){var e=v()("#studentList").find(".el-table__body-wrapper").eq(0),n=e.scrollTop(),i=parseInt(n/80);t.letter=t.active[i].name.substring(0,1).toUpperCase()}));var e=setInterval((function(){t.isLoading||(clearInterval(e),t.initClick())}),100)},watch:{currentGroup:function(t,e){var n=this;setTimeout((function(){n.initClick()}),500)}},methods:{invite:function(t){},resend:function(t){},addLesson:function(t){},initClick:function(){var t=this,e=document.getElementById("studentList"),n=e.getElementsByClassName("el-table__row");if(!t.$tools.isNull(n))for(var i=function(){var e=a;n[a].onclick=null,n[a].onclick=function(){switch(v()(".tk-selected").removeClass("tk-selected"),n[e].classList.add("tk-selected"),t.currentGroup){case"active":t.preview(t.active[e]);break;case"inactive":t.preview(t.inactive[e]);break;case"archived":t.preview(t.archive[e]);break}}},a=0;a<n.length;a++)i()},indexByLetter:function(t){for(var e=this,n=t.letter,i=0,a=0;a<e.active.length;a++)if(e.active[a].name.substring(0,1).toUpperCase()==n){i=a;break}v()("#studentList").find(".el-table__body-wrapper").eq(0).scrollTop(80*i)},preview:function(t){console.log(t),this.$emit("preview",t)},onDelete:function(t){},onDeleteArchive:function(t){},confirmDelete:function(){},onArchive:function(t){},onActive:function(t){}}},b=m,x=n("5d22"),g=Object(x["a"])(b,a,r,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-e6f9d76a.9d6e0c1b.js.map