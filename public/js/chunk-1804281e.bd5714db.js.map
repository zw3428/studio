{"version":3,"sources":["webpack:///./node_modules/_element-ui@2.13.2@element-ui/lib/utils/clickoutside.js","webpack:///./src/services/collections.js","webpack:///./src/tkViews/Pages/DynamicLink.vue?cecc","webpack:///./src/tkViews/Pages/DynamicLink.vue?6984","webpack:///src/tkViews/Pages/DynamicLink.vue","webpack:///./src/tkViews/Pages/DynamicLink.vue?1fbd","webpack:///./src/tkViews/Pages/DynamicLink.vue?b631"],"names":["exports","__esModule","_vue","_vue2","_interopRequireDefault","_dom","obj","default","nodeList","ctx","startClick","seed","createDocumentHandler","el","binding","vnode","mouseup","arguments","length","undefined","mousedown","context","target","contains","popperElm","expression","methodName","bindingFn","prototype","$isServer","on","document","e","forEach","node","documentHandler","bind","push","id","value","update","unbind","len","i","splice","collection","name","firebase","firestore","user","userOnline","userUnreadCount","instrument","teacher","teacherStudentList","policies","lessonType","studio","cache","makeupPolicy","cancellationPolicy","lessonSchedule","lessonReschedule","lessonSchedulePlan","lessonScheduleMaterial","lessonScheduleAssignment","practice","achievement","material","materialHash","materialAccessControl","student","lessonScheduleConfigure","eventConfig","block","userNotificationConfig","insightsCount","rescheduleMakeupRefund","lessonCancellation","allowSwapStatistics","calendarLinkSetting","googleCalendarEvents","googleCalendarEventsWatch","userNotifications","bugReports","teacherReschedules","errors","couponHistory","userReceipt","accessTokenGoogle","appSessions","appSessionActions","appEvents","config","googleEmail","googleAccessTokenCalendar","googleAccessTokenDrive","googleAccessTokenPhotos","googleCalendarEventsSyncToken","teacherPermissions","salesMan","salesManParams","salesManRecords","salesManLinks","signUpViaLinkCount","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","$event","preventDefault","logout","_m","showModal","staticStyle","slot","directives","rawName","domProps","composing","class","isInvalid","validationEmail","email","model","months","callback","$$v","$set","_l","option","index","key","selected","expirationOpen","allowInput","expiration","isButtonLoadingComplete","addNewLink","staticRenderFns","components","CardLoading","SpreadDynamicLinkInlineActionTable","flatPicker","data","adminUser","isLoading","dynamicLinksData","options","links","json","expireIn","nonce","status","desc","salesManId","imageURL","time","watch","newVal","$tools","formatYYMMDD","Date","getTime","methods","getSalesMan","collections","snapshots","empty","self","item","console","log","getLinks","getSalesManParams","some","link","localStorage","clear","$router","isNull","isEmail","getDynamicLinks","Promise","db","getSalesManId","component"],"mappings":"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","file":"js/chunk-1804281e.bd5714db.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nodeList = [];\nvar ctx = '@@clickoutsideContext';\n\nvar startClick = void 0;\nvar seed = 0;\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mousedown', function (e) {\n  return startClick = e;\n});\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mouseup', function (e) {\n  nodeList.forEach(function (node) {\n    return node[ctx].documentHandler(e, startClick);\n  });\n});\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function () {\n    var mouseup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var mousedown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!vnode || !vnode.context || !mouseup.target || !mousedown.target || el.contains(mouseup.target) || el.contains(mousedown.target) || el === mouseup.target || vnode.context.popperElm && (vnode.context.popperElm.contains(mouseup.target) || vnode.context.popperElm.contains(mousedown.target))) return;\n\n    if (binding.expression && el[ctx].methodName && vnode.context[el[ctx].methodName]) {\n      vnode.context[el[ctx].methodName]();\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn();\n    }\n  };\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexports.default = {\n  bind: function bind(el, binding, vnode) {\n    nodeList.push(el);\n    var id = seed++;\n    el[ctx] = {\n      id: id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n  update: function update(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n  unbind: function unbind(el) {\n    var len = nodeList.length;\n\n    for (var i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n    delete el[ctx];\n  }\n};","import firebase from '../firebaseConfig'\n\nfunction collection(name) {\n    return firebase.firestore().collection(name)\n}\n\nexport default {\n    user: collection('user'),\n    userOnline: collection(\"user_online\"),\n    userUnreadCount: collection(\"user_unread_count\"),\n    instrument: collection('instrument'),\n    teacher: collection('teacher_info'),\n    teacherStudentList: collection('students_list'),\n    policies: collection('policy'),\n    lessonType: collection('lesson_type'),\n    studio: collection('studio_info'),\n    cache: collection('cache'),\n    makeupPolicy: collection('makeup_policy'),\n    cancellationPolicy: collection('cancellation_policy'),\n    lessonSchedule: collection('lesson_schedule'),\n    lessonReschedule: collection('lesson_reschedule'),\n    lessonSchedulePlan: collection('lesson_schedule_plan'),\n    lessonScheduleMaterial: collection('lesson_schedule_material'),\n    lessonScheduleAssignment: collection('lesson_schedule_assignment'),\n    practice: collection('practice'),\n    achievement: collection('achievement'),\n    material: collection('material'),\n    materialHash: collection('material_hash'),\n    materialAccessControl: collection('material_access_control'),\n    student: collection('student_info'),\n    lessonScheduleConfigure: collection('lesson_schedule_config'),\n    eventConfig: collection('event_config'),\n    block: collection('block'),\n    userNotificationConfig: collection('user_notification_config'),\n    insightsCount: collection('insights_count'),\n    rescheduleMakeupRefund: collection('student_reschedule_makeup_refund_history'),\n    lessonCancellation: collection('lesson_cancellation'),\n    allowSwapStatistics: collection('allow_swap_statistics'),\n    calendarLinkSetting: collection('calendar_link_setting'),\n    googleCalendarEvents: collection('google_calendar_events'),\n    googleCalendarEventsWatch: collection('google_calendar_events_watch'),\n    userNotifications: collection('user_notifications'),\n    bugReports: collection('bug_reports'),\n    teacherReschedules: collection('teacher_reschedules'),\n    errors: collection('tk_errors'),\n    couponHistory: collection('promo_codes_history'),\n    userReceipt: collection('user_receipt'),\n    accessTokenGoogle: collection('access_token_google'),\n    appSessions: collection('app_sessions'),\n    appSessionActions: collection('app_sessions_actions'),\n    appEvents: collection('app_events'),\n    config: collection('config'),\n    googleEmail: collection('google_email'),\n    googleAccessTokenCalendar: collection('google_access_token_calendar'),\n    googleAccessTokenDrive: collection('google_access_token_drive'),\n    googleAccessTokenPhotos: collection('google_access_token_photos'),\n    googleCalendarEventsSyncToken: collection('google_calendar_events_sync_token'),\n    teacherPermissions: collection('teacher_permissions'),\n    salesMan: collection('sales_man'),\n    salesManParams: collection('sales_man_params'),\n    salesManRecords: collection('sales_man_records'),\n    salesManLinks: collection('sales_man_links'),\n    signUpViaLinkCount: collection('signup_via_link_count'),\n}","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./DynamicLink.vue?vue&type=style&index=0&id=de0edaee&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('notifications'),_c('base-header',{staticClass:\"pb-6\"},[_c('div',{staticClass:\"row align-items-center py-4\"},[_c('div',{staticClass:\"col-lg-6 col-7\"},[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0\"},[_vm._v(\" TuneKey Dynamic Link \")])]),_c('div',{staticClass:\"col-lg-6 col-5 text-right\"},[_c('base-button',{attrs:{\"size\":\"sm\",\"type\":\"neutral\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout($event)}}},[_vm._v(\"Logout\")])],1)])]),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"card mb-4\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"row align-items-center\"},[_vm._m(0),_c('div',{staticClass:\"col-4 text-right\"},[_c('span',{staticClass:\"btn btn-sm btn-neutral tk-font-color-main\",on:{\"click\":function($event){$event.preventDefault();_vm.showModal = true}}},[_vm._v(\"New Link\")])])])]),_c('div',{staticClass:\"card-body\",staticStyle:{\"min-height\":\"400px\"}},[(_vm.isLoading)?_c('card-loading'):[_c('spread-dynamic-link-inline-action-table',{attrs:{\"salesManParams\":_vm.salesManParams}})]],2)])]),_c('modal',{attrs:{\"show\":_vm.showModal},on:{\"update:show\":function($event){_vm.showModal=$event}}},[_c('template',{slot:\"header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"New Link\")])]),_c('div',{staticClass:\"tk-popup-content\",staticStyle:{\"max-height\":\"60vh\",\"overflow-y\":\"auto\"}},[_c('div',[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"has-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])])]),_c('div',[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Email\")]),_c('div',{staticClass:\"has-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",class:{ 'is-invalid': _vm.isInvalid },attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.email)},on:{\"blur\":function($event){$event.preventDefault();return _vm.validationEmail($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isInvalid),expression:\"isInvalid\"}],staticClass:\"invalid-feedback\",staticStyle:{\"display\":\"block\"}},[_vm._v(\" The email is not correct. \")])])])]),_c('span',[_c('div',{staticClass:\"form-group tk-px-margin-bottom-px0\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Free months\")]),_c('div',{staticClass:\"has-label\"},[_c('el-select',{staticClass:\"tk-select-border-none tk-border-bottom tk-select-bg-mute\",model:{value:(_vm.months.selected),callback:function ($$v) {_vm.$set(_vm.months, \"selected\", $$v)},expression:\"months.selected\"}},_vm._l((_vm.months.options),function(option,index){return _c('el-option',{key:index,attrs:{\"label\":option > 0 ? option + '-MONTH-FREE' : 'FREE DOWNLOAD',\"value\":option}})}),1)],1)])]),_c('img',{staticStyle:{\"width\":\"calc(100% - 4rem)\",\"display\":\"block\",\"margin\":\"0 auto\"},attrs:{\"src\":'/img/coupon/coupon-' + _vm.months.selected + '.png'}}),_c('span',[_c('div',{staticClass:\"form-group card-wrapper tk-px-margin-bottom-px0\"},[_c('div',{staticClass:\"card tk-px-margin-bottom-px16\"},[_c('div',{staticClass:\"form-control\",staticStyle:{\"height\":\"auto\"}},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[(!_vm.expirationOpen)?_c('span',[_vm._v(\"Expiration\")]):[_c('span',[_vm._v(\"Expiration date\")]),_c('flat-picker',{staticClass:\"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-left-px10 tk-px-height-px36\",attrs:{\"config\":{ allowInput: true }},model:{value:(_vm.expiration),callback:function ($$v) {_vm.expiration=$$v},expression:\"expiration\"}})]],2),_c('base-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"on-text\":\"On\",\"off-text\":\"Off\",\"type\":\"main\"},model:{value:(_vm.expirationOpen),callback:function ($$v) {_vm.expirationOpen=$$v},expression:\"expirationOpen\"}})],1)])])])])]),_c('template',{slot:\"footer\"},[_c('base-button',{staticClass:\"tk-font-color-lightGray tk-border-none\",attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();_vm.showModal = false}}},[_vm._v(\"Close\")]),_c('button-with-loading',{staticStyle:{\"margin\":\"0 0 0 1rem\"},attrs:{\"text\":\"Create\",\"type\":'main',\"complete\":_vm.isButtonLoadingComplete},on:{\"start\":_vm.addNewLink}})],1)],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-8\"},[_c('h5',{staticClass:\"h3 mb-0\"},[_vm._v(\"Links\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <!--  v-if=\"adminUser !== null\" -->\n  <div>\n    <!-- Header -->\n    <notifications></notifications>\n    <base-header class=\"pb-6\">\n      <div class=\"row align-items-center py-4\">\n        <div class=\"col-lg-6 col-7\">\n          <h6 class=\"h2 text-white d-inline-block mb-0\">\n            TuneKey Dynamic Link\n          </h6>\n        </div>\n        <div class=\"col-lg-6 col-5 text-right\">\n          <base-button size=\"sm\" type=\"neutral\" @click.prevent=\"logout\"\n            >Logout</base-button\n          >\n        </div>\n      </div>\n    </base-header>\n\n    <div class=\"container-fluid mt--6\">\n      <div class=\"card mb-4\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n              <h5 class=\"h3 mb-0\">Links</h5>\n            </div>\n            <div class=\"col-4 text-right\">\n              <span\n                class=\"btn btn-sm btn-neutral tk-font-color-main\"\n                @click.prevent=\"showModal = true\"\n                >New Link</span\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\" style=\"min-height: 400px\">\n          <card-loading v-if=\"isLoading\"></card-loading>\n          <template v-else>\n            <spread-dynamic-link-inline-action-table\n              :salesManParams=\"salesManParams\"\n            ></spread-dynamic-link-inline-action-table>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <modal :show.sync=\"showModal\">\n      <template slot=\"header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">New Link</h5>\n      </template>\n      <div class=\"tk-popup-content\" style=\"max-height: 60vh; overflow-y: auto\">\n        <!-- Name |  email(optional)  |  0-6 months for free | expiration date -->\n        <div>\n          <!-- name -->\n          <span>\n            <div class=\"form-group\">\n              <label class=\"form-control-label\">Name</label>\n              <div class=\"has-label\">\n                <input\n                  type=\"text\"\n                  class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                  v-model=\"name\"\n                />\n              </div>\n            </div>\n          </span>\n\n          <!-- email -->\n          <div>\n            <span>\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Email</label>\n                <div class=\"has-label\">\n                  <input\n                    type=\"email\"\n                    class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                    :class=\"{ 'is-invalid': isInvalid }\"\n                    @blur.prevent=\"validationEmail\"\n                    v-model=\"email\"\n                  />\n                </div>\n                <div\n                  class=\"invalid-feedback\"\n                  style=\"display: block\"\n                  v-show=\"isInvalid\"\n                >\n                  The email is not correct.\n                </div>\n              </div>\n            </span>\n          </div>\n\n          <!-- months -->\n          <span>\n            <div class=\"form-group tk-px-margin-bottom-px0\">\n              <label class=\"form-control-label\">Free months</label>\n              <div class=\"has-label\">\n                <el-select\n                  v-model=\"months.selected\"\n                  class=\"tk-select-border-none tk-border-bottom tk-select-bg-mute\"\n                >\n                  <el-option\n                    v-for=\"(option, index) in months.options\"\n                    :key=\"index\"\n                    :label=\"\n                      option > 0 ? option + '-MONTH-FREE' : 'FREE DOWNLOAD'\n                    \"\n                    :value=\"option\"\n                  >\n                  </el-option>\n                </el-select>\n              </div>\n            </div>\n          </span>\n          <img\n            :src=\"'/img/coupon/coupon-' + months.selected + '.png'\"\n            style=\"width: calc(100% - 4rem); display: block; margin: 0 auto\"\n          />\n\n          <!-- expiration -->\n          <span>\n            <div class=\"form-group card-wrapper tk-px-margin-bottom-px0\">\n              <div class=\"card tk-px-margin-bottom-px16\">\n                <div class=\"form-control\" style=\"height: auto\">\n                  <span\n                    class=\"tk-layout-inline-block tk-font-color-black1\"\n                    style=\"width: calc(100% - 56px)\"\n                  >\n                    <span v-if=\"!expirationOpen\">Expiration</span>\n                    <template v-else>\n                      <span>Expiration date</span>\n                      <flat-picker\n                        :config=\"{ allowInput: true }\"\n                        class=\"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-left-px10 tk-px-height-px36\"\n                        v-model=\"expiration\"\n                      >\n                      </flat-picker>\n                    </template>\n                  </span>\n                  <base-switch\n                    class=\"mr-1 tk-layout-inline-block\"\n                    v-model=\"expirationOpen\"\n                    on-text=\"On\"\n                    off-text=\"Off\"\n                    type=\"main\"\n                  ></base-switch>\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <template slot=\"footer\">\n        <base-button\n          type=\"secondary\"\n          @click.prevent=\"showModal = false\"\n          class=\"tk-font-color-lightGray tk-border-none\"\n          >Close</base-button\n        >\n        <button-with-loading\n          style=\"margin: 0 0 0 1rem\"\n          text=\"Create\"\n          @start=\"addNewLink\"\n          :type=\"'main'\"\n          :complete=\"isButtonLoadingComplete\"\n        ></button-with-loading>\n        <!-- <base-button\n          type=\"primary\"\n          @click.prevent=\"addNewLink\"\n          class=\"tk-font-color-white tk-bg-color-main tk-border-none\"\n          >Create</base-button\n        > -->\n      </template>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport \"flatpickr/dist/flatpickr.css\";\nimport bus from \"@/bus.js\";\nimport { Select, Option } from \"element-ui\";\nimport collections from \"@/services/collections\";\nexport default {\n  components: {\n    CardLoading: () => import(\"@/tkViews/components/layout/CardLoading\"),\n    SpreadDynamicLinkInlineActionTable: () =>\n      import(\"./RegularTables/SpreadDynamicLinkInlineActionTable\"),\n    flatPicker: () => import(\"vue-flatpickr-component\"),\n    [Select.name]: Select,\n    [Option.name]: Option,\n    buttonWithLoading: () =>\n      import(\"@/tkViews/components/layout/ButtonWithLoading\"),\n  },\n  data() {\n    return {\n      adminUser: null,\n      isLoading: true,\n      dynamicLinksData: [],\n      showModal: false,\n      isInvalid: false,\n      expirationOpen: false,\n      isButtonLoadingComplete: false,\n      expiration: \"\",\n      email: \"\",\n      name: \"\",\n      months: {\n        selected: 3,\n        options: [0, 1, 2, 3, 4, 5, 6],\n      },\n      salesManParams: [],\n      salesMan: [],\n      links: [],\n      json: {\n        expireIn: 1614556800,\n        nonce: \"jAHkKLOg2kGvnqUv\",\n        status: 1,\n        desc: \"You are currently PRO now, enjoy TuneKey with unlimited access!\",\n        salesManId: \"FHSpoJJKF\",\n        imageURL:\n          \"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/images%2Fothers%2Fcoupon.png?alt=media&token=fd25342c-2377-48df-8cd1-3e2c225d6d9a\",\n        id: \"JPSI82IK2\",\n        time: 3,\n      },\n    };\n  },\n  async created() {\n    let self = this;\n    let user = localStorage.getItem(\"adminUser\");\n    let info = await collections.config.doc(\"salesAccount\").get();\n\n    if (self.$tools.isNull(user)) {\n      self.$router.push({ name: \"AdministrationLogin\" });\n    } else {\n      self.adminUser = JSON.parse(user);\n\n      if (\n        info.data().account === self.adminUser.account &&\n        info.data().password === self.adminUser.password\n      ) {\n        self.getSalesMan();\n      } else {\n        self.$router.push({ name: \"AdministrationLogin\" });\n      }\n    }\n  },\n  watch: {\n    expirationOpen(newVal, oldVal) {\n      if (newVal) {\n        this.expiration = this.$tools.formatYYMMDD(new Date().getTime());\n      } else {\n        this.expiration = \"\";\n      }\n    },\n  },\n  methods: {\n    getSalesMan() {\n      let self = this;\n      collections.salesMan.onSnapshot((snapshots) => {\n        if (snapshots.empty) {\n          self.salesMan = [];\n        } else {\n          let data = [];\n\n          snapshots.forEach((item) => {\n            data.push(item.data());\n          });\n\n          self.salesMan = data;\n        }\n        console.log(\"listen salesMan: \", self.salesMan);\n        self.getLinks();\n      });\n    },\n    getLinks() {\n      let self = this;\n      // collections.salesManLinks.onSnapshot((snapshots) => {\n      collections.salesManLinks.get().then((snapshots) => {\n        if (snapshots.empty) {\n          self.links = [];\n        } else {\n          let data = [];\n\n          snapshots.forEach((item) => {\n            data.push(item.data());\n          });\n\n          self.links = data;\n        }\n        self.getSalesManParams();\n        console.log(\"links: \", self.links);\n      });\n    },\n    getSalesManParams() {\n      let self = this;\n      // collections.salesManParams.onSnapshot((snapshots) => {\n      collections.salesManParams.get().then((snapshots) => {\n        if (snapshots.empty) {\n          self.salesManParams = [];\n        } else {\n          let data = [];\n\n          snapshots.forEach((item) => {\n            let obj = self.$tools.objKeySort(item.data());\n            obj.email = \"\";\n            self.salesMan.some((i) => {\n              if (i.salesManId == item.salesManId) {\n                obj.email = i.email;\n              }\n            });\n            self.links.some((i) => {\n              if (i.id == item.id) {\n                obj.link = i.link;\n              }\n            });\n            data.push(obj);\n          });\n\n          self.salesManParams = data;\n        }\n        // console.log(\"data: \", self.salesManParams);\n        self.isLoading = false;\n      });\n    },\n    logout() {\n      let self = this;\n      // bus.$emit(\"showLoading\");\n      localStorage.clear();\n      self.$router.push({ name: \"AdministrationLogin\" });\n      // bus.$emit(\"hideLoading\");\n    },\n    async addNewLink() {\n      let self = this;\n\n      // salesManParams\n      let dynamic = {\n        expireIn: self.$tools.isNull(self.expiration)\n          ? 0\n          : parseInt(new Date(self.expiration).getTime() / 1000),\n        nonce: self.$tools.getRandomString(16), // 16\n        status: 1, // active: 1, archive: 0\n        desc: \"You are currently PRO now, enjoy TuneKey with unlimited access!\",\n        salesManId: self.$tools.getRandomString(9), // 9\n        imageURL:\n          \"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/images%2Fothers%2Fcoupon-\" +\n          self.months.selected +\n          \".png?alt=media&token=fd25342c-2377-48df-8cd1-3e2c225d6d9a\",\n        id: self.$tools.getRandomString(9), // 9\n        time: self.months.selected,\n      };\n\n      // 排序\n      dynamic = this.$tools.objKeySort(dynamic);\n\n      // 拼接\n      let signature = this.$tools.getJsonKeyValueStr(dynamic);\n      signature = signature.substring(0, signature.length - 1);\n\n      console.log(signature);\n\n      // md5\n      let md5 = String(this.$md5(signature)).toUpperCase();\n\n      console.log(\n        \"https://tunekey.app/redirect/i?u=\" +\n          dynamic.salesManId +\n          \"&c=\" +\n          dynamic.id +\n          \"&s=\" +\n          md5\n      );\n\n      // 生成短链接\n      await self.$axios\n        .post(\n          \"https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=AIzaSyBdUyJmAAbAGEWq0hsbcidOUiaQU1aLxkM\",\n          {\n            // longDynamicLink:\n            //   \"https://tunekey.app/link/?link=https://tunekey.app/redirect/i?u=\" +\n            //   dynamic.salesManId +\n            //   \"&c=\" +\n            //   dynamic.id +\n            //   \"&s=\" +\n            //   md5,\n            suffix: {\n              option: \"SHORT\",\n            },\n            dynamicLinkInfo: {\n              domainUriPrefix: \"https://tunekey.app/link\",\n              link:\n                \"https://tunekey.app/redirect/i?u=\" +\n                dynamic.salesManId +\n                \"&c=\" +\n                dynamic.id +\n                \"&s=\" +\n                md5,\n              androidInfo: {\n                androidPackageName: \"com.spelist.tunekey\",\n                androidFallbackLink: \"https://tunekey.app/download\",\n                androidMinPackageVersionCode: \"1\",\n              },\n              iosInfo: {\n                iosBundleId: \"com.spelist.tunekey\",\n                iosIpadBundleId: \"tunekey\",\n                iosAppStoreId: \"1479006791\",\n              },\n              navigationInfo: {\n                enableForcedRedirect: false,\n              },\n              socialMetaTagInfo: {\n                socialTitle: \"\",\n                socialDescription: \"\",\n                socialImageLink: dynamic.imageURL,\n              },\n            },\n          }\n        )\n        .then(async function (res) {\n          console.log(res);\n\n          if (res.data.shortLink) {\n            // salesManParam\n            let param = dynamic;\n            param.name = self.name;\n            await collections.salesManParams.doc(dynamic.id).set(param);\n            console.log(\"set salesManParam\");\n\n            // salesManLinks\n            await collections.salesManLinks.doc(dynamic.id).set({\n              link: res.data.shortLink,\n              id: dynamic.id,\n            });\n            console.log(\"set salesManLinks\");\n\n            // salesMan\n            await collections.salesMan.doc(dynamic.salesManId).set({\n              salesManId: dynamic.salesManId,\n              email: self.email,\n            });\n            console.log(\"set salesMan\");\n\n            // signUpViaLinkCount\n            await collections.signUpViaLinkCount.doc(dynamic.id).set({\n              count: 0,\n              id: dynamic.id,\n            });\n            console.log(\"set signUpViaLinkCount\");\n\n            self.isButtonLoadingComplete = true;\n            self.showModal = false;\n\n            self.$notify({\n              message: \"Create Success!\",\n              type: \"success\",\n            });\n          }\n        })\n        .catch(function (err) {\n          console.log(err);\n        });\n\n      self.name = \"\";\n      self.email = \"\";\n      self.isButtonLoadingComplete = false;\n    },\n    validationEmail() {\n      let self = this;\n\n      if (self.$tools.isNull(self.email)) {\n        self.isInvalid = false;\n      } else {\n        self.isInvalid = !self.$tools.isEmail(self.email);\n      }\n    },\n    getDynamicLinks(salesManId) {\n      return new Promise((resolve, reject) => {\n        db.collection(\"sales_man_params\")\n          .where(\"salesManId\", \"==\", salesManId)\n          .get()\n          .then((snapshot) => {\n            if (!snapshot.empty) {\n              let data = [];\n              snapshot.forEach((doc) => {\n                data.push(doc.data());\n              });\n              resolve(data);\n            } else {\n              resolve([]);\n            }\n          })\n          .catch((err) => {\n            console.error(\"Get [sales_man_params] failed, error: \", err);\n            resolve([]);\n          });\n      });\n    },\n    getSalesManId(userId) {\n      return new Promise((resolve, reject) => {\n        db.collection(\"sales_man_record\")\n          .where(\"userId\", \"==\", userId)\n          .get()\n          .then((snapshot) => {\n            if (!snapshot.empty) {\n              let data = [];\n              snapshot.forEach((doc) => {\n                data.push(doc.data());\n              });\n              resolve(data[data.length - 1]);\n            } else {\n              resolve(null);\n            }\n          })\n          .catch((err) => {\n            console.error(\"Get [sales_man_record] failed, error: \", err);\n            resolve(null);\n          });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.tk-popup-content::-webkit-scrollbar {\n  display: none;\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./DynamicLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./DynamicLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicLink.vue?vue&type=template&id=de0edaee&scoped=true&\"\nimport script from \"./DynamicLink.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DynamicLink.vue?vue&type=style&index=0&id=de0edaee&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de0edaee\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}