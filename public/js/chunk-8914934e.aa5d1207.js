(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8914934e"],{"06cb":function(t,e,a){"use strict";e.__esModule=!0;var i=a("a593"),s=n(i),o=a("c865");function n(t){return t&&t.__esModule?t:{default:t}}var l=[],r="@@clickoutsideContext",c=void 0,p=0;function u(t,e,a){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(a&&a.context&&i.target&&s.target)||t.contains(i.target)||t.contains(s.target)||t===i.target||a.context.popperElm&&(a.context.popperElm.contains(i.target)||a.context.popperElm.contains(s.target))||(e.expression&&t[r].methodName&&a.context[t[r].methodName]?a.context[t[r].methodName]():t[r].bindingFn&&t[r].bindingFn())}}!s.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(t){return c=t})),!s.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(t){l.forEach((function(e){return e[r].documentHandler(t,c)}))})),e.default={bind:function(t,e,a){l.push(t);var i=p++;t[r]={id:i,documentHandler:u(t,e,a),methodName:e.expression,bindingFn:e.value}},update:function(t,e,a){t[r].documentHandler=u(t,e,a),t[r].methodName=e.expression,t[r].bindingFn=e.value},unbind:function(t){for(var e=l.length,a=0;a<e;a++)if(l[a][r].id===t[r].id){l.splice(a,1);break}delete t[r]}}},"660b":function(t,e,a){},6873:function(t,e,a){},"80fe":function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"pb-6"},[a("div",{staticClass:"row align-items-center py-4"},[a("div",{staticClass:"col-lg-6 col-7"},[a("h6",{staticClass:"h2 text-white d-inline-block mb-0"},[t._v("Policies")])]),a("div",{staticClass:"col-lg-6 col-5 text-right"},[a("button-with-loading",{staticStyle:{margin:"0 10px 0 0",display:"inline-block"},attrs:{type:"white",color:"white",size:"40",fontSize:"10",padding:"4px 8px",text:"Save",complete:t.isButtonLoadingComplete},on:{start:t.savePolicy}}),a("base-button",{staticClass:"tk-font-color-main tk-no-shadow",staticStyle:{height:"100%"},attrs:{size:"sm",type:"neutral"},on:{click:function(e){e.preventDefault(),t.showStatement=!0}}},[t._v("View Statement")])],1)])]),t.isLoading?a("div",{staticClass:"container-fluid mt--6",staticStyle:{height:"80vh",position:"relative"}},[a("loading",{attrs:{size:"80"}})],1):a("div",{staticClass:"container-fluid mt--6"},[a("div",{staticClass:"row card-wrapper"},[a("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(0),a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Allow refund")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.allowRefund,callback:function(e){t.$set(t.policy,"allowRefund",e)},expression:"policy.allowRefund"}})],1)])])])]),t.policy.allowRefund?a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Notice required")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.noticeRequired1,callback:function(e){t.noticeRequired1=e},expression:"noticeRequired1"}})],1),t.noticeRequired1?a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationHours?1:0},on:{click:function(e){e.preventDefault(),t.initList(0),t.showCancelationHours=!t.showCancelationHours}}},[a("span",[t._v(t._s(t.policy.refundNoticeRequired)+" hr(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationHours?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.hours,value:t.policy.refundNoticeRequired},on:{select:t.select}}):t._e()],1),a("span",[t._v("in advance")])],1):a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("hours in advance")])])])])])]):t._e(),t.policy.allowRefund?a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Limited refund")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.refundLimitTimes,callback:function(e){t.$set(t.policy,"refundLimitTimes",e)},expression:"policy.refundLimitTimes"}})],1),t.policy.refundLimitTimes?a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationTimes?1:0},on:{click:function(e){e.preventDefault(),t.initList(1),t.showCancelationTimes=!t.showCancelationTimes}}},[a("span",[t._v(t._s(t.policy.refundLimitTimesAmount)+" time(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationTimes?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.times,value:t.policy.refundLimitTimesAmount},on:{select:t.select}}):t._e()],1),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("every")]),a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationMonths?1:0},on:{click:function(e){e.preventDefault(),t.initList(2),t.showCancelationMonths=!t.showCancelationMonths}}},[a("span",[t._v(t._s(t.cancelationMonths)+" month(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationMonths?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.months,value:t.cancelationMonths},on:{select:t.select}}):t._e()],1)],1):a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("times every ")]),a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("months")])])])])])]):t._e()]),a("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(1),a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Allow make-ups")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.allowMakeup,callback:function(e){t.$set(t.policy,"allowMakeup",e)},expression:"policy.allowMakeup"}})],1)])])])]),t.policy.allowMakeup?a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Notice required")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.noticeRequired2,callback:function(e){t.noticeRequired2=e},expression:"noticeRequired2"}})],1),t.noticeRequired2?a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupHours?1:0},on:{click:function(e){e.preventDefault(),t.initList(3),t.showMakeupHours=!t.showMakeupHours}}},[a("span",[t._v(t._s(t.policy.makeupNoticeRequired)+" hr(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupHours?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.hours,value:t.policy.makeupNoticeRequired},on:{select:t.select}}):t._e()],1),a("span",[t._v("in advance")])],1):a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("hours in advance")])])])])])]):t._e(),t.policy.allowMakeup?a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Reschedule limits")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.makeupLimitTimes,callback:function(e){t.$set(t.policy,"makeupLimitTimes",e)},expression:"policy.makeupLimitTimes"}})],1),t.policy.makeupLimitTimes?a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupTimes?1:0},on:{click:function(e){e.preventDefault(),t.initList(4),t.showMakeupTimes=!t.showMakeupTimes}}},[a("span",[t._v(t._s(t.policy.makeupLimitTimesAmount)+" time(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupTimes?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.times,value:t.policy.makeupLimitTimesAmount},on:{select:t.select}}):t._e()],1),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("every")]),a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupMonths?1:0},on:{click:function(e){e.preventDefault(),t.initList(5),t.showMakeupMonths=!t.showMakeupMonths}}},[a("span",[t._v(t._s(t.makeupMonths)+" month(s)")]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupMonths?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.months,value:t.makeupMonths},on:{select:t.select}}):t._e()],1)],1):a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("times every ")]),a("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),a("span",[t._v("months")])])])])])]):t._e()]),t.policy.allowRefund||t.policy.allowMakeup?a("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(2)]):t._e()]),t._m(3),a("div",{staticClass:"row card-wrapper"},[a("div",{staticClass:"col-md-6 tk-px-padding-px6"},[a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[t._m(4),a("div",[a("week-basis",{attrs:{weeklyData:t.policy.weekAvailabilityTimes},on:{saveWeeklyBasisData:t.saveWeeklyBasisData}})],1)])])])])]),t.policy.allowMakeup?a("div",{staticClass:"col-md-6 tk-px-padding-px8"},[a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Make-up period")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.openLimitDays,callback:function(e){t.$set(t.policy,"openLimitDays",e)},expression:"policy.openLimitDays"}})],1),-1!==t.policy.limitDays?a("div",{staticClass:"invalid-feedback tk-font-color-gray lh-200",staticStyle:{display:"block"}},[a("span",[t._v("Reschedule to a day that is within")]),a("br"),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("the next")]),a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupPeriodMonths?2:0},on:{click:function(e){e.preventDefault(),t.initList(6),t.showMakeupPeriodMonths=!t.showMakeupPeriodMonths}}},[a("span",[t._v(t._s(t.makeupPeriodMonths.label))]),a("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupPeriodMonths?a("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.days,value:t.makeupPeriodMonths.value},on:{select:t.select}}):t._e()],1)],1):a("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[a("span",[t._v("Reschedule to a day that is within")]),a("br"),a("span",[t._v("the next")]),a("span",{staticClass:"tk-font-weight-bold"},[t._v(" # ")]),a("span",[t._v("months")])])])])])]),a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[t._m(5),t._l(t.targetHourSliders,(function(e,i){return a("div",{key:i,staticClass:"tk-px-margin-top-px20"},[a("div",{staticClass:"tk-layout-inline-block tk-text-right tk-px-padding-right-px12",staticStyle:{width:"48px","font-size":"14px"}},[a("span",[t._v(t._s(e.day)+": ")])]),a("base-slider",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px)"},attrs:{options:{step:1,tooltips:t.formatHour},range:{min:0,max:10}},model:{value:e.hours,callback:function(a){t.$set(e,"hours",a)},expression:"item.hours"}})],1)}))],2)])])]),a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[a("span",[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 160px)"}},[t._v("Special days availability")]),a("span",{staticClass:"tk-layout-inline-block text-right",staticStyle:{width:"160px"}},[t.isEdit?t._e():a("flat-picker",{staticClass:"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-right-px10 tk-px-height-px36",attrs:{config:{allowInput:!0}},model:{value:t.specialDate,callback:function(e){t.specialDate=e},expression:"specialDate"}}),t.isEdit?a("base-button",{staticClass:"tk-font-color-main",attrs:{size:"sm",type:"neutral"},on:{click:function(e){return e.preventDefault(),t.disableSpecialDayAvailability(e)}}},[t._v("Done")]):a("base-button",{staticClass:"tk-font-color-main",attrs:{size:"sm",type:"neutral"},on:{click:function(e){return e.preventDefault(),t.addSpecialDayAvailability(e)}}},[t._v("Add")])],1)])]),a("div",{attrs:{id:"tkPolicySpecialDay"}},t._l(t.specialHoursSliders,(function(e,i){return a("div",{key:i,staticClass:"tk-px-margin-top-px40 tk-px-margin-bottom-px50"},[a("div",{staticClass:"tk-layout-inline-block tk-text-left",staticStyle:{width:"110px","font-size":"14px"}},[a("span",[t._v(t._s(t.formatMMDDYYWD(e.timestamp))+": ")])]),a("base-slider",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 110px - 56px)"},attrs:{disabled:e.disable,start:e.hours,connect:t.formatSliderConnect(e),options:{step:.5,tooltips:t.formatSliderTooltips(e.hours.length),behaviour:"drag",pips:{mode:"positions",density:10,stepped:!0,values:[0,20,40,60,80,100],format:t.formatAP}},range:{min:7.5,max:22.5}},on:{input:function(a){return t.updateSpecialDayAvailability(a,e)}}}),e.disable?t._e():a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-red tk-cursor-pointer text-right",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(e){return t.deleteSpecialDays(i)}}},[t._v("Delete")]),e.disable?a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-main tk-cursor-pointer tk-font-weight-bold text-right",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(a){e.disable=!1,t.isEdit=!0}}},[t._v("Edit")]):t._e()],1)})),0)])])])]):t._e()])]),a("modal",{staticClass:"tk-popup-outer",attrs:{show:t.showStatement},on:{"update:show":function(e){t.showStatement=e}}},[a("template",{slot:"header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Studio Policies")])]),a("div",{staticClass:"tk-popup-content"}),a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(e){e.preventDefault(),t.showStatement=!1}}},[t._v("Close")]),a("base-button",{staticClass:"tk-font-color-white tk-border-none",attrs:{type:"main"},on:{click:function(t){t.preventDefault()}}},[t._v("Edit")])],1)],2)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[a("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[a("h5",{staticClass:"h3 mb-0"},[t._v("Cancelation Policies")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[a("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[a("h5",{staticClass:"h3 mb-0"},[t._v("Make-up Policies")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tk-layout-full-height tk-position-relative"},[i("img",{staticClass:"tk-position-absolute",staticStyle:{bottom:"1rem",width:"80%",left:"10%"},attrs:{src:a("8d55")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row card-wrapper tk-px-margin-top-px20"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card mb-4 tk-px-margin-bottom-px0 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[a("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-8"},[a("h5",{staticClass:"h3 mb-0"},[t._v("Availability")])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Make-up availability")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-control tk-border-none"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Target teaching hours")])])}],n=(a("9010"),a("82a8"),a("b34d"),a("6ddf"),a("2a39"),a("96f8"),a("6a61"),a("9ad1")),l=a("2cb5"),r=(a("9102"),a("2984"),a("3aa8")),c=a.n(r),p=(a("086f"),a("ce6c")),u=a.n(p),d=(a("6873"),a("fdc1")),m=a("a125"),h=a("5e3a"),k={components:(i={BaseSlider:function(){return Promise.resolve().then(a.bind(null,"db62"))}},Object(l["a"])(i,u.a.name,u.a),Object(l["a"])(i,c.a.name,c.a),Object(l["a"])(i,"ItemList",(function(){return a.e("chunk-84d59424").then(a.bind(null,"3b77"))})),Object(l["a"])(i,"Loading",(function(){return a.e("chunk-2d22d938").then(a.bind(null,"f7a2"))})),Object(l["a"])(i,"flatPicker",(function(){return a.e("chunk-10f3ed42").then(a.t.bind(null,"85db",7))})),Object(l["a"])(i,"WeekBasis",(function(){return Promise.all([a.e("chunk-1b3d84f5"),a.e("chunk-7da3fe10")]).then(a.bind(null,"baf2"))})),Object(l["a"])(i,"buttonWithLoading",(function(){return a.e("chunk-a8f506b8").then(a.bind(null,"6ea5"))})),i),data:function(){return{allowRefund:!1,allowMakeup:!1,allowMakeupPeriod:!1,limitedRefund:!1,rescheduleLimits:!1,makeupPeriod:!1,setMakeupAvailability:!1,makeupAvailablity:"Sun: 2p-7p; Mon: 10a-6p; Tue: 10a-6p; Wed: 10a-6p; Thu: 10a-6p; Fri: 10a-6p; Sat: 2p-7p; ",targetedHours:"Sun: 4hrs; Mon: 6hrs; Tue: 6hrs; Wed: 6hrs; Thu: 6hrs; Fri: 6hrs; Sat: 4hrs; ",selectsType:0,cancelationMonths:2,makeupMonths:2,makeupPeriodMonths:{label:"1 week",value:7},hours:[],times:[],months:[],days:[{label:"1 week",value:7},{label:"2 weeks",value:14},{label:"3 weeks",value:21},{label:"4 weeks",value:28},{label:"5 weeks",value:35},{label:"6 weeks",value:42},{label:"7 weeks",value:49},{label:"8 weeks",value:56},{label:"3 months",value:90},{label:"4 months",value:120},{label:"5 months",value:150},{label:"6 months",value:180},{label:"7 months",value:210},{label:"8 months",value:240},{label:"9 months",value:270},{label:"10 months",value:300},{label:"11 months",value:330},{label:"1 year",value:365}],makeupHourSliders:[{day:"Sun",hours:[]},{day:"Mon",hours:[]},{day:"Tue",hours:[]},{day:"Wed",hours:[]},{day:"Thu",hours:[]},{day:"Fri",hours:[]},{day:"Sat",hours:[]}],targetHourSliders:[{day:"Sun",hours:0},{day:"Mon",hours:0},{day:"Tue",hours:0},{day:"Wed",hours:0},{day:"Thu",hours:0},{day:"Fri",hours:0},{day:"Sat",hours:0}],specialHoursSliders:[],showCancelationHours:!1,showCancelationTimes:!1,showCancelationMonths:!1,showMakeupHours:!1,showMakeupTimes:!1,showMakeupMonths:!1,showMakeupPeriodMonths:!1,noticeRequired1:!1,noticeRequired2:!1,openLimitDays:!1,policy:{},isLoading:!0,formatAP:{to:function(t){var e=String(t);return t<12?e.indexOf(".")>-1?parseInt(e)+":30a":e+":00a":12===t?e+":00p":12.5===t?parseInt(e)+":30p":(e=String(t-12),e.indexOf(".")>-1?parseInt(e)+":30p":e+":00p")},from:Number},formatHour:{to:function(t){var e=parseInt(t);return e<2?e+" hr":e+" hrs"},from:Number},specialDate:"",isButtonLoadingComplete:!1,isEdit:!1,showStatement:!1}},watch:{noticeRequired1:function(t){this.policy.refundNoticeRequired=t?2:0},noticeRequired2:function(t){this.policy.makeupNoticeRequired=t?2:0},openLimitDays:function(t){t||(this.policy.limitDays=-1)},specialHoursSliders:{handler:function(t){var e=t;t:for(var a=0;a<e.length;a++)for(var i=e[a],s=0;s<i.hours.length;s++)if(s%2===0&&i.hours[s]==i.hours[s+1]&&i.hours.length>2){i.hours.splice(s,2);break t}this.specialHoursSliders=e,this.initClickSpecialDay()},deep:!0}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,s,o,n,l,r,c,p,u,h,k,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t,i=1;i<73;i++)a.hours.push({label:i>1?i+" hours":i+" hour",value:i});for(s=1;s<31;s++)a.times.push({label:s>1?s+" times":s+" time",value:s});for(o=1;o<7;o++)a.months.push({label:o>1?o+" months":o+" month",value:o});return a.specialDate=a.$tools.formatYYMMDD((new Date).getTime()),e.next=7,m["a"].listPolicyByTeacherId(d["a"].userId());case 7:for(n=e.sent,console.log("policy: ",n),a.policy=n,a.noticeRequired1=0!==n.refundNoticeRequired,a.noticeRequired2=0!==n.makeupNoticeRequired,a.openLimitDays=n.limitDays>-1,a.days.some((function(t){t.value==n.limitDays&&(a.makeupPeriodMonths=t)})),a.cancelationMonths=parseInt(n.refundLimitTimesPeriod/30),a.makeupMonths=parseInt(n.makeupLimitTimesPeriod/30),l=0;l<n.weekAvailabilityTimes.length;l++)r=n.weekAvailabilityTimes[l],a.makeupHourSliders[r.dayOfWeek].hours.push(r.timePeriod.from.hour+r.timePeriod.from.minute/60),a.makeupHourSliders[r.dayOfWeek].hours.push(r.timePeriod.to.hour+r.timePeriod.to.minute/60);c=0;case 18:if(!(c<n.specialAvailabilityTimes.length)){e.next=35;break}p=n.specialAvailabilityTimes[c],u=!1,h=0;case 22:if(!(h<a.specialHoursSliders.length)){e.next=31;break}if(a.specialHoursSliders[h].timestamp!=1e3*p.specialDay){e.next=28;break}return u=!0,a.specialHoursSliders[h].hours.push(p.timePeriod.from.hour+p.timePeriod.from.minute/60),a.specialHoursSliders[h].hours.push(p.timePeriod.to.hour+p.timePeriod.to.minute/60),e.abrupt("break",31);case 28:h++,e.next=22;break;case 31:u||(k=[],k.push(p.timePeriod.from.hour+p.timePeriod.from.minute/60),k.push(p.timePeriod.to.hour+p.timePeriod.to.minute/60),a.specialHoursSliders.push({disable:!0,timestamp:1e3*p.specialDay,hours:k}));case 32:c++,e.next=18;break;case 35:if(n.lessonHours.length>0)for(f=0;f<n.lessonHours.length;f++)a.targetHourSliders[f].hours=n.lessonHours[f];a.isLoading=!1;case 37:case"end":return e.stop()}}),e)})))()},methods:{disableSpecialDayAvailability:function(){for(var t=0;t<this.specialHoursSliders.length;t++)this.specialHoursSliders[t].disable=!0;this.isEdit=!1},savePolicy:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,console.log(a.policy),a.policy.refundLimitTimesPeriod=30*a.cancelationMonths,a.policy.makeupLimitTimesPeriod=30*a.makeupMonths,a.policy.limitDays=a.makeupPeriodMonths.value,i=[],a.targetHourSliders.some((function(t){i.push(parseInt(t.hours))})),a.policy.lessonHours=i,s=[],a.specialHoursSliders.some((function(t){for(var e=0;e<t.hours.length;e++)e%2==0&&s.push({dayOfWeek:new Date(t.timestamp).getDay(),specialDay:parseInt(t.timestamp/1e3),timePeriod:{from:{hour:parseInt(t.hours[e]),minute:String(t.hours[e]).indexOf(".")>-1?30:0,second:0},to:{hour:parseInt(t.hours[e+1]),minute:String(t.hours[e+1]).indexOf(".")>-1?30:0,second:0}}})})),a.policy.specialAvailabilityTimes=s,a.policy.setAvailabilityTimes=!0,a.policy.limitDays=a.openLimitDays?30*a.makeupMonths:-1,a.policy.updateTime=String(parseInt((new Date).getTime()/1e3)),e.next=16,h["a"].policies.doc(a.policy.userId).update(a.policy).then((function(){a.isButtonLoadingComplete=!0,a.$notify({message:"Update Success!",type:"success"})})).catch((function(t){a.$notify({message:"Update faild, try it again!",type:"error"})}));case 16:a.isButtonLoadingComplete=!1;case 17:case"end":return e.stop()}}),e)})))()},saveWeeklyBasisData:function(t){this.policy.weekAvailabilityTimes=t},updateSpecialDayAvailability:function(t,e){var a=t;a.forEach((function(t){t=parseFloat(t).toFixed(1)})),e.hours=a},sortAvailabilityHours:function(t){for(var e=[],a=[],i=0;i<t.length;i++)if(i%2==0){var s=[];s.push(t[i]),s.push(t[i+1]),e.push(s)}return e=e.sort((function(t,e){return t[0]-e[0]})),e.some((function(t){t.some((function(t){a.push(t)}))})),a},selectRangeIsAvailable:function(t,e,a){for(var i=!1,s=0;s<t.length;s++){var o=s;if(o%2==0){var n=t[o],l=t[o+1];if(0===o&&a<n){i=!0;break}if(o+2<t.length-1){var r=t[o+2];if(console.log(r),e>l&&a<r){i=!0;break}}if(o===t.length-2&&e>l&&a<=22.5){i=!0;break}}}return i},initClickSpecialDay:function(){var t=this,e=document.getElementById("tkPolicySpecialDay");if(!t.$tools.isNull(e)&&!t.$tools.isNull(e.children))for(var a=function(a){var i=a,s=e.children[i].children[1].children[0].children[0];s.onclick=null,s.onclick=function(e){if(!e.target.classList.contains("noUi-draggable")){var a=parseInt(e.offsetX/e.target.offsetWidth*15)+7.5,s=a+1,o=!1,n=t.sortAvailabilityHours(t.specialHoursSliders[i].hours);o=t.selectRangeIsAvailable(n,a,s),o?(n.push(a),n.push(s)):(s=a,a=s-1,o=t.selectRangeIsAvailable(n,a,s),o&&(n.push(a),n.push(s))),n=t.sortAvailabilityHours(n),t.specialHoursSliders[i].disable||(t.specialHoursSliders[i].hours=n)}}},i=0;i<e.children.length;i++)a(i)},formatSliderTooltips:function(t){for(var e=[],a=0;a<t;a++)e.push(this.formatAP);return e},formatSliderConnect:function(t){var e=[];if(t.hours.length%2===0)for(var a=0;a<=t.hours.length;a++)a%2===0?e.push(!1):e.push(!0);return e},deleteSpecialDays:function(t){this.specialHoursSliders.splice(t,1)},addSpecialDayAvailability:function(){var t=this,e=new Date(t.specialDate).getTime();if(e<(new Date).getTime()&&t.$tools.formatYYMMDD(e)!==t.$tools.formatYYMMDD((new Date).getTime()))t.$notify({message:"The past date is invalid, try another one",type:"error"});else{var a=!1;t.specialHoursSliders.some((function(t){t.timestamp===e&&(a=!0)})),a?t.$notify({message:"You've already set the date, try another one",type:"error"}):(t.specialHoursSliders.push({disable:!1,timestamp:e,hours:t.formatHoursInDay(e)}),t.specialHoursSliders=t.specialHoursSliders.sort((function(t,e){return t.timestamp-e.timestamp})),t.isEdit=!0)}},formatHoursInDay:function(t){var e=this.$tools.formatWeekday(t),a=[0,0];return this.makeupHourSliders.some((function(t){t.day==e&&(a=t.hours)})),a},formatMMDDYYWD:function(t){return this.$tools.formatMMDDYY(t)+" "+this.$tools.formatWeekday(t)},getMonths:function(t){return parseInt(t/30)},getInt:function(t){return parseInt(t)},getHoursStr:function(t){return t+" hr(s)"},initList:function(t){var e=this;switch(t){case 0:e.showCancelationTimes=!1,e.showCancelationMonths=!1,e.showMakeupHours=!1,e.showMakeupTimes=!1,e.showMakeupMonths=!1,e.showMakeupPeriodMonths=!1;break;case 1:e.showCancelationHours=!1,e.showCancelationMonths=!1,e.showMakeupHours=!1,e.showMakeupTimes=!1,e.showMakeupMonths=!1,e.showMakeupPeriodMonths=!1;break;case 2:e.showCancelationHours=!1,e.showCancelationTimes=!1,e.showMakeupHours=!1,e.showMakeupTimes=!1,e.showMakeupMonths=!1,e.showMakeupPeriodMonths=!1;break;case 3:e.showCancelationHours=!1,e.showCancelationTimes=!1,e.showCancelationMonths=!1,e.showMakeupTimes=!1,e.showMakeupMonths=!1,e.showMakeupPeriodMonths=!1;break;case 4:e.showCancelationHours=!1,e.showCancelationTimes=!1,e.showCancelationMonths=!1,e.showMakeupHours=!1,e.showMakeupMonths=!1,e.showMakeupPeriodMonths=!1;break;case 5:e.showCancelationHours=!1,e.showCancelationTimes=!1,e.showCancelationMonths=!1,e.showMakeupHours=!1,e.showMakeupTimes=!1,e.showMakeupPeriodMonths=!1;break;case 6:e.showCancelationHours=!1,e.showCancelationTimes=!1,e.showCancelationMonths=!1,e.showMakeupHours=!1,e.showMakeupTimes=!1,e.showMakeupMonths=!1;break}},select:function(t){var e=this;e.showCancelationHours&&(e.policy.refundNoticeRequired=t.value),e.showCancelationTimes&&(e.policy.refundLimitTimesAmount=t.value),e.showCancelationMonths&&(e.cancelationMonths=t.value),e.showMakeupHours&&(e.policy.makeupNoticeRequired=t.value),e.showMakeupTimes&&(e.policy.makeupLimitTimesAmount=t.value),e.showMakeupMonths&&(e.makeupMonths=t.value),e.showMakeupPeriodMonths&&(e.makeupPeriodMonths=t)}}},f=k,b=(a("ca26"),a("5d22")),v=Object(b["a"])(f,s,o,!1,null,"1962d2d3",null);e["default"]=v.exports},"8d55":function(t,e,a){t.exports=a.p+"img/img-1.cd71ec39.png"},ca26:function(t,e,a){"use strict";a("660b")}}]);
//# sourceMappingURL=chunk-8914934e.aa5d1207.js.map