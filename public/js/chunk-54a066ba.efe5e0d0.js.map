{"version":3,"sources":["webpack:///./node_modules/_element-ui@2.13.2@element-ui/lib/utils/clickoutside.js","webpack:///./src/tkViews/Pages/Profile.vue?2936","webpack:///src/tkViews/Pages/Profile.vue","webpack:///./src/tkViews/Pages/Profile.vue?4dc6","webpack:///./src/tkViews/Pages/Profile.vue","webpack:///./src/services/collections.js","webpack:///./node_modules/_core-js@3.9.0@core-js/modules/es.object.get-own-property-names.js","webpack:///./src/util/commons.js","webpack:///./src/services/userService.js"],"names":["exports","__esModule","_vue","_vue2","_interopRequireDefault","_dom","obj","default","nodeList","ctx","startClick","seed","createDocumentHandler","el","binding","vnode","mouseup","arguments","length","undefined","mousedown","context","target","contains","popperElm","expression","methodName","bindingFn","prototype","$isServer","on","document","e","forEach","node","documentHandler","bind","push","id","value","update","unbind","len","i","splice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","isProfileDataLoading","model","user","userId","name","staticStyle","callback","$$v","fileSingle","directives","rawName","domProps","$event","type","indexOf","_k","keyCode","key","preventDefault","composing","$set","class","isInvalid","validationEmail","countryCodeSelected","_l","countrySelects","option","index","label","areaCode","onStudioProfileChanged","teacherPermissions","onTeacherProfileChanged","onSchedulingChanged","onBillingChanged","onAdminChanged","onInsightsChanged","staticRenderFns","components","data","$tools","studioId","phone","email","website","studio","memberLevelId","storefrontColor","studioProfile","admin","teacherProfile","scheduling","billing","insights","watch","setTimeout","console","log","newVal","dataURL","methods","change","self","isNull","isEmail","component","collection","firebase","firestore","userOnline","userUnreadCount","instrument","teacher","teacherStudentList","policies","lessonType","cache","makeupPolicy","cancellationPolicy","lessonSchedule","lessonReschedule","lessonSchedulePlan","lessonScheduleMaterial","lessonScheduleAssignment","practice","achievement","material","materialHash","materialAccessControl","student","lessonScheduleConfigure","eventConfig","block","userNotificationConfig","insightsCount","rescheduleMakeupRefund","lessonCancellation","allowSwapStatistics","calendarLinkSetting","googleCalendarEvents","googleCalendarEventsWatch","userNotifications","bugReports","teacherReschedules","errors","couponHistory","userReceipt","accessTokenGoogle","appSessions","appSessionActions","appEvents","config","googleEmail","googleAccessTokenCalendar","googleAccessTokenDrive","googleAccessTokenPhotos","googleCalendarEventsSyncToken","salesMan","salesManParams","salesManRecords","salesManLinks","signUpViaLinkCount","$","fails","nativeGetOwnPropertyNames","f","FAILS_ON_PRIMITIVES","Object","getOwnPropertyNames","stat","forced","stringToBoolean","str","toLowerCase","Boolean","emailValidVerify","Promise","resolve","reject","whiteList","item","url","axios","get","then","res","status","JSON","stringify","smtpCheck","catch","err","error","userString","localStorage","getItem","parse","uid","objEquals","props1","props2","max","propName","commons","userInfo","collections","doc","userDoc","exists","setItem","teacherInfo","teacherDoc","studioInfo","studioDoc","defaultData","set"],"mappings":"kHAEAA,EAAQC,YAAa,EAErB,IAAIC,EAAO,EAAQ,QAEfC,EAAQC,EAAuBF,GAE/BG,EAAO,EAAQ,QAEnB,SAASD,EAAuBE,GAAO,OAAOA,GAAOA,EAAIL,WAAaK,EAAM,CAAEC,QAASD,GAEvF,IAAIE,EAAW,GACXC,EAAM,wBAENC,OAAa,EACbC,EAAO,EAYX,SAASC,EAAsBC,EAAIC,EAASC,GAC1C,OAAO,WACL,IAAIC,EAAUC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAC9EG,EAAYH,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,KAE/EF,GAAUA,EAAMM,SAAYL,EAAQM,QAAWF,EAAUE,SAAUT,EAAGU,SAASP,EAAQM,SAAWT,EAAGU,SAASH,EAAUE,SAAWT,IAAOG,EAAQM,QAAUP,EAAMM,QAAQG,YAAcT,EAAMM,QAAQG,UAAUD,SAASP,EAAQM,SAAWP,EAAMM,QAAQG,UAAUD,SAASH,EAAUE,WAExRR,EAAQW,YAAcZ,EAAGJ,GAAKiB,YAAcX,EAAMM,QAAQR,EAAGJ,GAAKiB,YACpEX,EAAMM,QAAQR,EAAGJ,GAAKiB,cAEtBb,EAAGJ,GAAKkB,WAAad,EAAGJ,GAAKkB,eApBlCxB,EAAMI,QAAQqB,UAAUC,YAAa,EAAIxB,EAAKyB,IAAIC,SAAU,aAAa,SAAUC,GAClF,OAAOtB,EAAasB,MAGrB7B,EAAMI,QAAQqB,UAAUC,YAAa,EAAIxB,EAAKyB,IAAIC,SAAU,WAAW,SAAUC,GAChFxB,EAASyB,SAAQ,SAAUC,GACzB,OAAOA,EAAKzB,GAAK0B,gBAAgBH,EAAGtB,SA2BxCV,EAAQO,QAAU,CAChB6B,KAAM,SAAcvB,EAAIC,EAASC,GAC/BP,EAAS6B,KAAKxB,GACd,IAAIyB,EAAK3B,IACTE,EAAGJ,GAAO,CACR6B,GAAIA,EACJH,gBAAiBvB,EAAsBC,EAAIC,EAASC,GACpDW,WAAYZ,EAAQW,WACpBE,UAAWb,EAAQyB,QAGvBC,OAAQ,SAAgB3B,EAAIC,EAASC,GACnCF,EAAGJ,GAAK0B,gBAAkBvB,EAAsBC,EAAIC,EAASC,GAC7DF,EAAGJ,GAAKiB,WAAaZ,EAAQW,WAC7BZ,EAAGJ,GAAKkB,UAAYb,EAAQyB,OAE9BE,OAAQ,SAAgB5B,GAGtB,IAFA,IAAI6B,EAAMlC,EAASU,OAEVyB,EAAI,EAAGA,EAAID,EAAKC,IACvB,GAAInC,EAASmC,GAAGlC,GAAK6B,KAAOzB,EAAGJ,GAAK6B,GAAI,CACtC9B,EAASoC,OAAOD,EAAG,GACnB,aAGG9B,EAAGJ,M,2CC5Ed,I,EAAIoC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACE,YAAY,qCAAqC,CAACN,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACE,YAAY,kCAAkCF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,UAAYR,EAAIS,qBAAqB,UAAY,QAAQ,CAACL,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,sIAAsI,CAACF,EAAG,SAAS,CAACI,MAAM,CAAC,IAAMR,EAAIU,MAAMC,KAAKC,OAAO,KAAOZ,EAAIU,MAAMC,KAAKE,SAAS,GAAGT,EAAG,MAAM,CAACE,YAAY,sFAAsF,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,uBAAuB,CAACE,YAAY,gDAAgDQ,YAAY,CAAC,IAAM,OAAO,QAAU,KAAKN,MAAM,CAAC,GAAK,eAAe,UAAW,GAAOE,MAAM,CAACjB,MAAOO,EAAc,WAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,WAAWD,GAAKrC,WAAW,iBAAiB,OAAOyB,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACL,KAAK,QAAQM,QAAQ,UAAU1B,MAAOO,EAAIU,MAAMC,KAAS,KAAEhC,WAAW,oBAAoB2B,YAAY,wEAAwEE,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASpB,EAAIU,MAAMC,KAAS,MAAG3B,GAAG,CAAC,SAAW,SAASqC,GAAQ,IAAIA,EAAOC,KAAKC,QAAQ,QAAQvB,EAAIwB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAW,OAAO,KAAOL,EAAOM,kBAAmB,MAAQ,SAASN,GAAWA,EAAO7C,OAAOoD,WAAqB5B,EAAI6B,KAAK7B,EAAIU,MAAMC,KAAM,OAAQU,EAAO7C,OAAOiB,mBAAmBW,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACL,KAAK,QAAQM,QAAQ,UAAU1B,MAAOO,EAAIU,MAAMC,KAAU,MAAEhC,WAAW,qBAAqB2B,YAAY,wEAAwEwB,MAAM,CAAE,aAAc9B,EAAI+B,WAAYvB,MAAM,CAAC,KAAO,SAASY,SAAS,CAAC,MAASpB,EAAIU,MAAMC,KAAU,OAAG3B,GAAG,CAAC,KAAO,SAASqC,GAAgC,OAAxBA,EAAOM,iBAAwB3B,EAAIgC,gBAAgBX,IAAS,SAAW,SAASA,GAAQ,IAAIA,EAAOC,KAAKC,QAAQ,QAAQvB,EAAIwB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAW,OAAO,KAAOL,EAAOM,kBAAmB,MAAQ,SAASN,GAAWA,EAAO7C,OAAOoD,WAAqB5B,EAAI6B,KAAK7B,EAAIU,MAAMC,KAAM,QAASU,EAAO7C,OAAOiB,aAAaW,EAAG,MAAM,CAACc,WAAW,CAAC,CAACL,KAAK,OAAOM,QAAQ,SAAS1B,MAAOO,EAAa,UAAErB,WAAW,cAAc2B,YAAY,mBAAmBQ,YAAY,CAAC,QAAU,UAAU,CAACd,EAAIO,GAAG,uCAAuCH,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,OAAO,CAACE,YAAY,oEAAoEQ,YAAY,CAAC,QAAU,MAAM,CAACV,EAAG,YAAY,CAACE,YAAY,2DAA2DI,MAAM,CAACjB,MAAOO,EAAuB,oBAAEe,SAAS,SAAUC,GAAMhB,EAAIiC,oBAAoBjB,GAAKrC,WAAW,wBAAwBqB,EAAIkC,GAAIlC,EAAImC,eAAsB,SAAE,SAASC,EAAOC,GAAO,OAAOjC,EAAG,YAAY,CAACsB,IAAIW,EAAM7B,MAAM,CAAC,MAAQ4B,EAAOE,MAAQ,KAAOF,EAAOG,SAAS,MAAQH,EAAO3C,YAAW,IAAI,KAAKW,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACL,KAAK,QAAQM,QAAQ,UAAU1B,MAAOO,EAAIU,MAAMC,KAAU,MAAEhC,WAAW,qBAAqB2B,YAAY,wEAAwEE,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASpB,EAAIU,MAAMC,KAAU,OAAG3B,GAAG,CAAC,SAAW,SAASqC,GAAQ,IAAIA,EAAOC,KAAKC,QAAQ,QAAQvB,EAAIwB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAW,OAAO,KAAOL,EAAOM,kBAAmB,MAAQ,SAASN,GAAWA,EAAO7C,OAAOoD,WAAqB5B,EAAI6B,KAAK7B,EAAIU,MAAMC,KAAM,QAASU,EAAO7C,OAAOiB,qBAAqBW,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACL,KAAK,QAAQM,QAAQ,UAAU1B,MAAOO,EAAIU,MAAMC,KAAY,QAAEhC,WAAW,uBAAuB2B,YAAY,wEAAwEE,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASpB,EAAIU,MAAMC,KAAY,SAAG3B,GAAG,CAAC,SAAW,SAASqC,GAAQ,IAAIA,EAAOC,KAAKC,QAAQ,QAAQvB,EAAIwB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAW,OAAO,KAAOL,EAAOM,kBAAmB,MAAQ,SAASN,GAAWA,EAAO7C,OAAOoD,WAAqB5B,EAAI6B,KAAK7B,EAAIU,MAAMC,KAAM,UAAWU,EAAO7C,OAAOiB,qBAAqBW,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,oBAAoBH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAIwC,wBAAwB9B,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAAgC,cAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,gBAAiBzB,IAAMrC,WAAW,6CAA6C,WAAWyB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,qBAAqBH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAI0C,yBAAyBhC,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAAiC,eAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,iBAAkBzB,IAAMrC,WAAW,8CAA8C,WAAWyB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,gBAAgBH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAI2C,qBAAqBjC,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAA6B,WAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,aAAczB,IAAMrC,WAAW,0CAA0C,WAAWyB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,aAAaH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAI4C,kBAAkBlC,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAA0B,QAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,UAAWzB,IAAMrC,WAAW,uCAAuC,WAAWyB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,WAAWH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAI6C,gBAAgBnC,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAAwB,MAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,QAASzB,IAAMrC,WAAW,qCAAqC,WAAWyB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,OAAO,CAACE,YAAY,8CAA8CQ,YAAY,CAAC,MAAQ,sBAAsB,CAACd,EAAIO,GAAG,cAAcH,EAAG,YAAY,CAACE,YAAY,8BAA8BE,MAAM,CAAC,KAAO,QAAQxB,GAAG,CAAC,MAAQgB,EAAI8C,mBAAmBpC,MAAM,CAACjB,MAAOO,EAAIU,MAAM+B,mBAA2B,SAAE1B,SAAS,SAAUC,GAAMhB,EAAI6B,KAAK7B,EAAIU,MAAM+B,mBAAoB,WAAYzB,IAAMrC,WAAW,wCAAwC,gBAAgB,IAAI,IAC51RoE,EAAkB,G,wKCoRtB,GACEC,YAAF,sBACA,SADA,sBAEA,SAFA,4CAGA,WAAI,OAAJ,mDAHA,2BAIA,WAAI,OAAJ,+CAJA,yBAKA,WAAI,OAAJ,mDALA,6BAMA,WAAI,OAAJ,oDANA,GAQEC,KATF,WAUI,MAAO,CACLlB,WAAW,EACXE,oBAAqB,KACrBE,eAAgBlC,KAAKiD,OAAOf,eAC5BlB,WAAY,GACZL,OAAQ,GACRuC,SAAU,GACV1C,sBAAsB,EACtBC,MAAO,CACLC,KAAM,CACJC,OAAQ,GACRC,KAAM,GACNuC,MAAO,GACPC,MAAO,GACPC,QAAS,IAEXC,OAAQ,CACN/D,GAAI,GACJgE,cAAe,EACf3C,KAAM,GACN4C,gBAAiB,IAEnBhB,mBAAoB,CAClB7B,OAAQ,GACR8C,eAAe,EACfC,OAAO,EACPC,gBAAgB,EAChBC,YAAY,EACZC,SAAS,EACTC,UAAU,MAKlBC,MAAO,CACL/C,WADJ,SACA,gBACMgD,YAAW,WACTC,QAAQC,IAAIC,EAAO,IACnBF,QAAQC,IAAIC,EAAO,GAAGC,SACtB,EAAR,yBACA,OAGE,QArDF,WAqDA,2KACA,IADA,SAMA,oBANA,cAMA,EANA,OAOA,iBACA,gCACA,kBACA,2CACA,gCACA,WACA,0BAbA,UAgBA,gCAhBA,QAgBA,EAhBA,OAiBA,6BACA,0BAlBA,+CAoBEC,QAAS,CACP,uBADJ,WACA,+JACA,+BADA,SAEA,6BAFA,8CAII,eALJ,WAKA,+JACA,uBADA,SAEA,6BAFA,8CAII,wBATJ,WASA,+JACA,gCADA,SAEA,6BAFA,8CAII,oBAbJ,WAaA,+JACA,4BADA,SAEA,6BAFA,8CAII,iBAjBJ,WAiBA,+JACA,yBADA,SAEA,6BAFA,8CAII,kBArBJ,WAqBA,+JACA,0BADA,SAEA,6BAFA,8CAII,yBAzBJ,WAyBA,qKACA,IADA,kBAEA,4LAEA,6BAFA,SAGA,oCAHA,OAIA,IAJA,mDAMA,QANA,mHAFA,8CAYIC,OArCJ,SAqCA,GACML,QAAQC,IAAIlB,IAEdjB,gBAxCJ,WAyCM,IAAN,OAEUwC,EAAKtB,OAAOuB,OAAOD,EAAK9D,MAAMC,KAAK0C,OACrCmB,EAAKzC,WAAY,EAEjByC,EAAKzC,WAAayC,EAAKtB,OAAOwB,QAAQF,EAAK9D,MAAMC,KAAK0C,UC5YsY,I,YCOhcsB,EAAY,eACd,EACA5E,EACAgD,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E,6CClBf,gBAEA,SAASC,EAAW/D,GAChB,OAAOgE,OAASC,YAAYF,WAAW/D,GAG5B,QACXF,KAAMiE,EAAW,QACjBG,WAAYH,EAAW,eACvBI,gBAAiBJ,EAAW,qBAC5BK,WAAYL,EAAW,cACvBM,QAASN,EAAW,gBACpBO,mBAAoBP,EAAW,iBAC/BQ,SAAUR,EAAW,UACrBS,WAAYT,EAAW,eACvBrB,OAAQqB,EAAW,eACnBU,MAAOV,EAAW,SAClBW,aAAcX,EAAW,iBACzBY,mBAAoBZ,EAAW,uBAC/Ba,eAAgBb,EAAW,mBAC3Bc,iBAAkBd,EAAW,qBAC7Be,mBAAoBf,EAAW,wBAC/BgB,uBAAwBhB,EAAW,4BACnCiB,yBAA0BjB,EAAW,8BACrCkB,SAAUlB,EAAW,YACrBmB,YAAanB,EAAW,eACxBoB,SAAUpB,EAAW,YACrBqB,aAAcrB,EAAW,iBACzBsB,sBAAuBtB,EAAW,2BAClCuB,QAASvB,EAAW,gBACpBwB,wBAAyBxB,EAAW,0BACpCyB,YAAazB,EAAW,gBACxB0B,MAAO1B,EAAW,SAClB2B,uBAAwB3B,EAAW,4BACnC4B,cAAe5B,EAAW,kBAC1B6B,uBAAwB7B,EAAW,4CACnC8B,mBAAoB9B,EAAW,uBAC/B+B,oBAAqB/B,EAAW,yBAChCgC,oBAAqBhC,EAAW,yBAChCiC,qBAAsBjC,EAAW,0BACjCkC,0BAA2BlC,EAAW,gCACtCmC,kBAAmBnC,EAAW,sBAC9BoC,WAAYpC,EAAW,eACvBqC,mBAAoBrC,EAAW,uBAC/BsC,OAAQtC,EAAW,aACnBuC,cAAevC,EAAW,uBAC1BwC,YAAaxC,EAAW,gBACxByC,kBAAmBzC,EAAW,uBAC9B0C,YAAa1C,EAAW,gBACxB2C,kBAAmB3C,EAAW,wBAC9B4C,UAAW5C,EAAW,cACtB6C,OAAQ7C,EAAW,UACnB8C,YAAa9C,EAAW,gBACxB+C,0BAA2B/C,EAAW,gCACtCgD,uBAAwBhD,EAAW,6BACnCiD,wBAAyBjD,EAAW,8BACpCkD,8BAA+BlD,EAAW,qCAC1CnC,mBAAoBmC,EAAW,uBAC/BmD,SAAUnD,EAAW,aACrBoD,eAAgBpD,EAAW,oBAC3BqD,gBAAiBrD,EAAW,qBAC5BsD,cAAetD,EAAW,mBAC1BuD,mBAAoBvD,EAAW,2B,uBC9DnC,IAAIwD,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAChBC,EAA4B,EAAQ,QAAuDC,EAE3FC,EAAsBH,GAAM,WAAc,OAAQI,OAAOC,oBAAoB,MAIjFN,EAAE,CAAE5J,OAAQ,SAAUmK,MAAM,EAAMC,OAAQJ,GAAuB,CAC/DE,oBAAqBJ,K,yFCNvB,SAASO,EAAgBC,GACrB,OAAQA,EAAIC,eACR,IAAK,OAAQ,IAAK,MAAO,IAAK,IAAK,OAAO,EAC1C,IAAK,QAAS,IAAK,KAAM,IAAK,IAAK,KAAK,KAAM,OAAO,EACrD,QAAS,OAAOC,QAAQF,IAIhC,SAASG,EAAiB5F,GACtB,OAAO,IAAI6F,SAAQ,SAACC,EAASC,GACzB,IAAIC,EAAY,CAAC,QAAS,gBAAiB,QAAS,UAAW,eAAgB,eAC/EA,EAAUlK,SAAQ,SAAAmK,GACVjG,EAAM9B,QAAQ+H,IAAS,GACvBH,GAAQ,MAIhB,IAAII,EAAM,yGAA2GlG,EACrHmG,IAAMC,IAAIF,GACLG,MAAK,SAAAC,GACF,GAAIA,EAAIC,QACe,MAAfD,EAAIC,OAAgB,CACpB,IAAI3G,EAAO0G,EAAI1G,KACf,GAAIA,EAGA,OAFAiB,QAAQC,IAAI,sBAAuB0F,KAAKC,UAAU7G,SAClDkG,EAAQN,EAAgB5F,EAAK8G,YAKzCZ,GAAQ,MAEXa,OAAM,SAAAC,GACH/F,QAAQgG,MAAMD,GACdb,EAAOa,SAKvB,SAASrJ,IACL,IAAMuJ,EAAaC,aAAaC,QAAQ,aACxC,GAAmB,KAAfF,EAAmB,CACnB,IAAIxJ,EAAOkJ,KAAKS,MAAMH,GACtB,GAAIxJ,EACA,OAAOA,EAAK4J,IAGpB,MAAO,GAGX,SAASC,EAAUhN,EAAKgB,GACpB,IAAIiM,EAAShC,OAAOC,oBAAoBlL,GACpCkN,EAASjC,OAAOC,oBAAoBlK,GACxC,GAAIiM,EAAOrM,QAAUsM,EAAOtM,OACxB,OAAO,EAEX,IAAK,IAAIyB,EAAI,EAAG8K,EAAMF,EAAOrM,OAAQyB,EAAI8K,EAAK9K,IAAK,CAC/C,IAAI+K,EAAWH,EAAO5K,GACtB,GAAII,KAAK2K,KAAcpN,EAAIoN,GACvB,OAAO,EAGf,OAAO,EAGX,IAAIC,EAAU,CACV5B,mBACArI,SACA4J,aAGWK,U,0GCtEA,QAIXC,SAJW,WAKP,OAAO,IAAI5B,QAAJ,yDAAY,WAAOC,EAASC,GAAhB,yGAEPxI,EAASiK,OAAQjK,SAFV,SAGSmK,OAAYpK,KAAKqK,IAAIpK,GAAQ6I,MAHtC,OAGPwB,EAHO,OAIPA,GAAWA,EAAQC,QACnBd,aAAae,QAAQ,WAAYtB,KAAKC,UAAUmB,EAAQhI,SACxDkG,EAAQ8B,EAAQhI,SAEhBkG,EAAQ,MARD,mDAWXC,EAAO,EAAD,IAXK,yDAAZ,0DAeXgC,YApBW,WAqBP,OAAO,IAAIlC,QAAJ,yDAAY,WAAOC,EAASC,GAAhB,yGAEPxI,EAASiK,OAAQjK,SAFV,SAGYmK,OAAY7F,QAAQ8F,IAAIpK,GAAQ6I,MAH5C,OAGP4B,EAHO,OAIPA,GAAcA,EAAWH,QACzBd,aAAae,QAAQ,cAAetB,KAAKC,UAAUuB,EAAWpI,SAC9DkG,EAAQkC,EAAWpI,SAEnBkG,EAAQ,MARD,mDAWXC,EAAO,EAAD,IAXK,yDAAZ,0DAeXkC,WApCW,WAoCE,WACT,OAAO,IAAIpC,QAAJ,yDAAY,WAAOC,EAASC,GAAhB,kHAES,EAAKgC,cAFd,UAEPlG,EAFO,QAGPA,IAAWA,EAAQ/B,SAHZ,iCAIe4H,OAAYxH,OAAOyH,IAAI9F,EAAQ/B,UAAUsG,MAJxD,UAIH8B,EAJG,QAKHA,IAAaA,EAAUL,OALpB,wBAMHd,aAAae,QAAQ,aAActB,KAAKC,UAAUyB,EAAUtI,SAC5DkG,EAAQoC,EAAUtI,QAPf,2BAWXkG,EAAQ,MAXG,qDAaXC,EAAO,EAAD,IAbK,0DAAZ,0DAiBX3G,mBAAoB,CAChBgH,IADgB,WAEZ,OAAO,IAAIP,QAAJ,yDAAY,WAAOC,EAASC,GAAhB,2GAGPxI,EAASiK,OAAQjK,SAHV,SAIKmK,OAAYtI,mBAAmBuI,IAAIpK,GAAQ6I,MAJhD,UAIPuB,EAJO,QAKPA,EAAIE,OALG,gBAMP/B,EAAQ6B,EAAI/H,QANL,8BASHuI,EAAc,CACd5K,OAAQA,EACR8C,eAAe,EACfE,gBAAgB,EAChBD,OAAO,EACPE,YAAY,EACZC,SAAS,EACTC,UAAU,GAhBP,UAkBDgH,OAAYtI,mBAAmBuI,IAAIpK,GAAQ6K,IAAID,GAlB9C,QAmBPrC,EAAQqC,GAnBD,6DAsBXpC,EAAO,EAAD,IAtBK,0DAAZ,0DA0BX1J,OA5BgB,SA4BTuD,GACH,OAAO,IAAIiG,QAAJ,yDAAY,WAAOC,EAASC,GAAhB,uGAEPxI,EAASiK,OAAQjK,SACrBqC,EAAK,UAAYrC,EAHN,SAILmK,OAAYtI,mBAAmBuI,IAAIpK,GAAQ6K,IAAIxI,GAJ1C,OAKXkG,IALW,mDAOXC,EAAO,EAAD,IAPK,yDAAZ","file":"js/chunk-54a066ba.efe5e0d0.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nodeList = [];\nvar ctx = '@@clickoutsideContext';\n\nvar startClick = void 0;\nvar seed = 0;\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mousedown', function (e) {\n  return startClick = e;\n});\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mouseup', function (e) {\n  nodeList.forEach(function (node) {\n    return node[ctx].documentHandler(e, startClick);\n  });\n});\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function () {\n    var mouseup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var mousedown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!vnode || !vnode.context || !mouseup.target || !mousedown.target || el.contains(mouseup.target) || el.contains(mousedown.target) || el === mouseup.target || vnode.context.popperElm && (vnode.context.popperElm.contains(mouseup.target) || vnode.context.popperElm.contains(mousedown.target))) return;\n\n    if (binding.expression && el[ctx].methodName && vnode.context[el[ctx].methodName]) {\n      vnode.context[el[ctx].methodName]();\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn();\n    }\n  };\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexports.default = {\n  bind: function bind(el, binding, vnode) {\n    nodeList.push(el);\n    var id = seed++;\n    el[ctx] = {\n      id: id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n  update: function update(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n  unbind: function unbind(el) {\n    var len = nodeList.length;\n\n    for (var i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n    delete el[ctx];\n  }\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6\"},[_c('div',{staticClass:\"row align-items-center py-4\"},[_c('div',{staticClass:\"col-lg-6 col-7\"},[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0\"},[_vm._v(\"My Profile\")])]),_c('div',{staticClass:\"col-lg-6 col-5 text-right\"})])]),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('card',{attrs:{\"isLoading\":_vm.isProfileDataLoading,\"minHeight\":\"400\"}},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',[_c('div',{staticClass:\"avatar avatar-xl rounded-circle tk-layout-inline-block tk-position-relative tk-avatar-outer tk-bg-color-white tk-border-color-main\"},[_c('avatar',{attrs:{\"uId\":_vm.model.user.userId,\"name\":_vm.model.user.name}})],1),_c('div',{staticClass:\"tk-layout-inline-block tk-cursor-pointer tk-font-color-main tk-px-margin-left-px24\"},[_c('span',[_vm._v(\"Change Photo\")]),_c('dropzone-file-upload',{staticClass:\"tk-position-absolute tk-profile-upload-avatar\",staticStyle:{\"top\":\"48px\",\"opacity\":\"0\"},attrs:{\"id\":\"uploadAvatar\",\"multiple\":false},model:{value:(_vm.fileSingle),callback:function ($$v) {_vm.fileSingle=$$v},expression:\"fileSingle\"}})],1)])]),_c('div',{staticClass:\"row tk-px-margin-top-px30\"},[_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Full Name\")]),_c('div',{staticClass:\"has-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.user.name),expression:\"model.user.name\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.model.user.name)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model.user, \"name\", $event.target.value)}}})])])])]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Email\")]),_c('div',{staticClass:\"has-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.user.email),expression:\"model.user.email\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",class:{ 'is-invalid': _vm.isInvalid },attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.model.user.email)},on:{\"blur\":function($event){$event.preventDefault();return _vm.validationEmail($event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model.user, \"email\", $event.target.value)}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isInvalid),expression:\"isInvalid\"}],staticClass:\"invalid-feedback\",staticStyle:{\"display\":\"block\"}},[_vm._v(\" The email is not correct. \")])])])]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Phone\")]),_c('div',{staticClass:\"has-label\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend tk-px-width-px90\"},[_c('span',{staticClass:\"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center\",staticStyle:{\"padding\":\"0\"}},[_c('el-select',{staticClass:\"tk-select-border-none tk-border-bottom tk-select-bg-mute\",model:{value:(_vm.countryCodeSelected),callback:function ($$v) {_vm.countryCodeSelected=$$v},expression:\"countryCodeSelected\"}},_vm._l((_vm.countrySelects.options),function(option,index){return _c('el-option',{key:index,attrs:{\"label\":option.label + '  ' + option.areaCode,\"value\":option.value}})}),1)],1)]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.user.phone),expression:\"model.user.phone\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.model.user.phone)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model.user, \"phone\", $event.target.value)}}})])])])])]),_c('div',{staticClass:\"col-lg-3 col-md-6\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Url\")]),_c('div',{staticClass:\"has-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.user.website),expression:\"model.user.website\"}],staticClass:\"form-control form-control-muted tk-border-bottom tk-font-color-black1\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.model.user.website)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model.user, \"website\", $event.target.value)}}})])])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Permissions\")])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Studio Profile\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onStudioProfileChanged},model:{value:(_vm.model.teacherPermissions.studioProfile),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"studioProfile\", $$v)},expression:\"model.teacherPermissions.studioProfile\"}})],1)])])])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Teacher Profile\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onTeacherProfileChanged},model:{value:(_vm.model.teacherPermissions.teacherProfile),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"teacherProfile\", $$v)},expression:\"model.teacherPermissions.teacherProfile\"}})],1)])])])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Scheduling\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onSchedulingChanged},model:{value:(_vm.model.teacherPermissions.scheduling),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"scheduling\", $$v)},expression:\"model.teacherPermissions.scheduling\"}})],1)])])])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Billing\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onBillingChanged},model:{value:(_vm.model.teacherPermissions.billing),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"billing\", $$v)},expression:\"model.teacherPermissions.billing\"}})],1)])])])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Admin\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onAdminChanged},model:{value:(_vm.model.teacherPermissions.admin),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"admin\", $$v)},expression:\"model.teacherPermissions.admin\"}})],1)])])])]),_c('div',{staticClass:\"col-lg-3 col-md-4\"},[_c('span',[_c('div',{staticClass:\"form-group\"},[_c('div',[_c('div',{staticClass:\"form-control form-control-muted\"},[_c('span',{staticClass:\"tk-layout-inline-block tk-font-color-black1\",staticStyle:{\"width\":\"calc(100% - 56px)\"}},[_vm._v(\"Insights\")]),_c('tk-switch',{staticClass:\"mr-1 tk-layout-inline-block\",attrs:{\"type\":\"main\"},on:{\"input\":_vm.onInsightsChanged},model:{value:(_vm.model.teacherPermissions.insights),callback:function ($$v) {_vm.$set(_vm.model.teacherPermissions, \"insights\", $$v)},expression:\"model.teacherPermissions.insights\"}})],1)])])])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <base-header class=\"pb-6\">\n      <div class=\"row align-items-center py-4\">\n        <div class=\"col-lg-6 col-7\">\n          <h6 class=\"h2 text-white d-inline-block mb-0\">My Profile</h6>\n        </div>\n        <div class=\"col-lg-6 col-5 text-right\">\n          <!-- <base-button\n            size=\"sm\"\n            type=\"neutral\"\n            @click.prevent=\"showCreate = true\"\n            >Save</base-button> -->\n        </div>\n      </div>\n    </base-header>\n\n    <div class=\"container-fluid mt--6\">\n      <card :isLoading=\"isProfileDataLoading\" minHeight=\"400\">\n        <div class=\"row justify-content-center\">\n          <div>\n            <div\n              class=\"avatar avatar-xl rounded-circle tk-layout-inline-block tk-position-relative tk-avatar-outer tk-bg-color-white tk-border-color-main\"\n            >\n              <avatar :uId=\"model.user.userId\" :name=\"model.user.name\"></avatar>\n            </div>\n            <div\n              class=\"tk-layout-inline-block tk-cursor-pointer tk-font-color-main tk-px-margin-left-px24\"\n            >\n              <span>Change Photo</span>\n              <dropzone-file-upload\n                id=\"uploadAvatar\"\n                :multiple=\"false\"\n                v-model=\"fileSingle\"\n                class=\"tk-position-absolute tk-profile-upload-avatar\"\n                style=\"top: 48px; opacity: 0\"\n              ></dropzone-file-upload>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row tk-px-margin-top-px30\">\n          <div class=\"col-lg-3 col-md-6\">\n            <span>\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Full Name</label>\n                <div class=\"has-label\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                    @keypress.enter.prevent=\"\"\n                    v-model=\"model.user.name\"\n                  />\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-6\">\n            <span>\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Email</label>\n                <div class=\"has-label\">\n                  <input\n                    type=\"email\"\n                    class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                    :class=\"{ 'is-invalid': isInvalid }\"\n                    @blur.prevent=\"validationEmail\"\n                    @keypress.enter.prevent=\"\"\n                    v-model=\"model.user.email\"\n                  />\n                </div>\n                <div\n                  class=\"invalid-feedback\"\n                  style=\"display: block\"\n                  v-show=\"isInvalid\"\n                >\n                  The email is not correct.\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-6\">\n            <span>\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Phone</label>\n                <div class=\"has-label\">\n                  <div class=\"input-group\">\n                    <div class=\"input-group-prepend tk-px-width-px90\">\n                      <span\n                        class=\"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center\"\n                        style=\"padding: 0\"\n                      >\n                        <!-- <span>+1</span> -->\n                        <el-select\n                          v-model=\"countryCodeSelected\"\n                          class=\"tk-select-border-none tk-border-bottom tk-select-bg-mute\"\n                        >\n                          <el-option\n                            v-for=\"(option, index) in countrySelects.options\"\n                            :key=\"index\"\n                            :label=\"option.label + '  ' + option.areaCode\"\n                            :value=\"option.value\"\n                          >\n                          </el-option>\n                        </el-select>\n                      </span>\n                    </div>\n                    <input\n                      type=\"text\"\n                      class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                      @keypress.enter.prevent=\"\"\n                      v-model=\"model.user.phone\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-6\">\n            <span>\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Url</label>\n                <div class=\"has-label\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control form-control-muted tk-border-bottom tk-font-color-black1\"\n                    @keypress.enter.prevent=\"\"\n                    v-model=\"model.user.website\"\n                  />\n                </div>\n              </div>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <label class=\"form-control-label\">Permissions</label>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Studio Profile</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.studioProfile\"\n                      @input=\"onStudioProfileChanged\"\n                      type=\"main\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Teacher Profile</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.teacherProfile\"\n                      type=\"main\"\n                      @input=\"onTeacherProfileChanged\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Scheduling</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.scheduling\"\n                      type=\"main\"\n                      @input=\"onSchedulingChanged\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Billing</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.billing\"\n                      type=\"main\"\n                      @input=\"onBillingChanged\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Admin</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.admin\"\n                      type=\"main\"\n                      @input=\"onAdminChanged\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n          <div class=\"col-lg-3 col-md-4\">\n            <span>\n              <div class=\"form-group\">\n                <div>\n                  <div class=\"form-control form-control-muted\">\n                    <span\n                      class=\"tk-layout-inline-block tk-font-color-black1\"\n                      style=\"width: calc(100% - 56px)\"\n                      >Insights</span\n                    >\n                    <tk-switch\n                      class=\"mr-1 tk-layout-inline-block\"\n                      v-model=\"model.teacherPermissions.insights\"\n                      type=\"main\"\n                      @input=\"onInsightsChanged\"\n                    ></tk-switch>\n                  </div>\n                </div>\n              </div>\n            </span>\n          </div>\n        </div>\n      </card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Select, Option } from \"element-ui\";\nimport commons from \"../../util/commons\";\nimport userService from \"../../services/userService\";\nimport collections from \"../../services/collections\";\n\nexport default {\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option,\n    DropzoneFileUpload: () => import(\"@/tkViews/components/Inputs/DropzoneFileUpload.vue\"),\n    avatar: () => import(\"../components/layout/Avatar\"),\n    Card: () => import(\"../components/layout/Card\"),\n    tkSwitch: () => import('../components/Inputs/TKSwitch')\n  },\n  data() {\n    return {\n      isInvalid: false,\n      countryCodeSelected: \"+1\",\n      countrySelects: this.$tools.countrySelects,\n      fileSingle: [],\n      userId: \"\",\n      studioId: \"\",\n      isProfileDataLoading: true,\n      model: {\n        user: {\n          userId: \"\",\n          name: \"\",\n          phone: \"\",\n          email: \"\",\n          website: \"\",\n        },\n        studio: {\n          id: \"\",\n          memberLevelId: 1,\n          name: \"\",\n          storefrontColor: \"\",\n        },\n        teacherPermissions: {\n          userId: \"\",\n          studioProfile: false,\n          admin: false,\n          teacherProfile: true,\n          scheduling: false,\n          billing: false,\n          insights: false,\n        },\n      },\n    };\n  },\n  watch: {\n    fileSingle(newVal, oldVal) {\n      setTimeout(() => {\n        console.log(newVal[0]);\n        console.log(newVal[0].dataURL);\n        this.avatarUrl = newVal[0].dataURL;\n      }, 200);\n    },\n  },\n  async mounted() {\n    let self = this;\n    // let userInfo = await userService.userInfo();\n    // self.model.user = userInfo;\n    // console.log(\"获取到的用户信息: \", userInfo);\n    \n    let studioInfo = await userService.studioInfo();\n    self.model.studio = studioInfo;\n    console.log(\"获取到的Studio信息: \", studioInfo);\n    let userId = commons.userId();\n    collections.user.doc(userId).onSnapshot((doc) => {\n      console.log(\"监听的数据: \", doc.data());\n      if (doc.exists) {\n        self.model.user = doc.data();\n      }\n    });\n    let teacherPermissions = await userService.teacherPermissions.get();\n    self.model.teacherPermissions = teacherPermissions;\n    self.isProfileDataLoading = false;\n  },\n  methods: {\n    async onStudioProfileChanged() {\n      console.log(\"点击studioProfile\");\n      await this.updateTeacherPromissions();\n    },\n    async onAdminChanged() {\n      console.log(\"点击Admin\");\n      await this.updateTeacherPromissions();\n    },\n    async onTeacherProfileChanged() {\n      console.log(\"点击TeacherProfile\");\n      await this.updateTeacherPromissions();\n    },\n    async onSchedulingChanged() {\n      console.log(\"点击Scheduling\");\n      await this.updateTeacherPromissions();\n    },\n    async onBillingChanged() {\n      console.log(\"点击Billing\");\n      await this.updateTeacherPromissions();\n    },\n    async onInsightsChanged() {\n      console.log(\"点击Insights\");\n      await this.updateTeacherPromissions();\n    },\n    async updateTeacherPromissions() {\n      let self = this;\n      return new Promise(async (resolve, reject) => {\n        try {\n          let data = self.model.teacherPermissions;\n          await userService.teacherPermissions.update(data);\n          resolve()\n        } catch (error) {\n          reject(error);\n        }\n      });\n    },\n    change(data) {\n      console.log(data);\n    },\n    validationEmail() {\n      let self = this;\n\n      if (self.$tools.isNull(self.model.user.email)) {\n        self.isInvalid = false;\n      } else {\n        self.isInvalid = !self.$tools.isEmail(self.model.user.email);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=652da9b2&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import firebase from '../firebaseConfig'\n\nfunction collection(name) {\n    return firebase.firestore().collection(name)\n}\n\nexport default {\n    user: collection('user'),\n    userOnline: collection(\"user_online\"),\n    userUnreadCount: collection(\"user_unread_count\"),\n    instrument: collection('instrument'),\n    teacher: collection('teacher_info'),\n    teacherStudentList: collection('students_list'),\n    policies: collection('policy'),\n    lessonType: collection('lesson_type'),\n    studio: collection('studio_info'),\n    cache: collection('cache'),\n    makeupPolicy: collection('makeup_policy'),\n    cancellationPolicy: collection('cancellation_policy'),\n    lessonSchedule: collection('lesson_schedule'),\n    lessonReschedule: collection('lesson_reschedule'),\n    lessonSchedulePlan: collection('lesson_schedule_plan'),\n    lessonScheduleMaterial: collection('lesson_schedule_material'),\n    lessonScheduleAssignment: collection('lesson_schedule_assignment'),\n    practice: collection('practice'),\n    achievement: collection('achievement'),\n    material: collection('material'),\n    materialHash: collection('material_hash'),\n    materialAccessControl: collection('material_access_control'),\n    student: collection('student_info'),\n    lessonScheduleConfigure: collection('lesson_schedule_config'),\n    eventConfig: collection('event_config'),\n    block: collection('block'),\n    userNotificationConfig: collection('user_notification_config'),\n    insightsCount: collection('insights_count'),\n    rescheduleMakeupRefund: collection('student_reschedule_makeup_refund_history'),\n    lessonCancellation: collection('lesson_cancellation'),\n    allowSwapStatistics: collection('allow_swap_statistics'),\n    calendarLinkSetting: collection('calendar_link_setting'),\n    googleCalendarEvents: collection('google_calendar_events'),\n    googleCalendarEventsWatch: collection('google_calendar_events_watch'),\n    userNotifications: collection('user_notifications'),\n    bugReports: collection('bug_reports'),\n    teacherReschedules: collection('teacher_reschedules'),\n    errors: collection('tk_errors'),\n    couponHistory: collection('promo_codes_history'),\n    userReceipt: collection('user_receipt'),\n    accessTokenGoogle: collection('access_token_google'),\n    appSessions: collection('app_sessions'),\n    appSessionActions: collection('app_sessions_actions'),\n    appEvents: collection('app_events'),\n    config: collection('config'),\n    googleEmail: collection('google_email'),\n    googleAccessTokenCalendar: collection('google_access_token_calendar'),\n    googleAccessTokenDrive: collection('google_access_token_drive'),\n    googleAccessTokenPhotos: collection('google_access_token_photos'),\n    googleCalendarEventsSyncToken: collection('google_calendar_events_sync_token'),\n    teacherPermissions: collection('teacher_permissions'),\n    salesMan: collection('sales_man'),\n    salesManParams: collection('sales_man_params'),\n    salesManRecords: collection('sales_man_records'),\n    salesManLinks: collection('sales_man_links'),\n    signUpViaLinkCount: collection('signup_via_link_count'),\n}","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","import axios from 'axios'\nimport firebase from 'firebase/app'\n\nfunction stringToBoolean(str) {\n    switch (str.toLowerCase()) {\n        case \"true\": case \"yes\": case \"1\": return true;\n        case \"false\": case \"no\": case \"0\": case null: return false;\n        default: return Boolean(str);\n    }\n}\n\nfunction emailValidVerify(email) {\n    return new Promise((resolve, reject) => {\n        let whiteList = [\"test-\", \"@tunekey.test\", \".test\", \"@tk.com\", \"@tunekey.com\", \"@tunkey.com\"]\n        whiteList.forEach(item => {\n            if (email.indexOf(item) >= 0) {\n                resolve(true)\n                return\n            }\n        })\n        let url = \"https://emailverification.whoisxmlapi.com/api/v1?apiKey=at_wU22I8A8DpX6v2sXO1XT3hlEBdFtG&emailAddress=\" + email\n        axios.get(url)\n            .then(res => {\n                if (res.status) {\n                    if (res.status === 200) {\n                        let data = res.data\n                        if (data) {\n                            console.log('[Email校验] => 校验结果: ', JSON.stringify(data));\n                            resolve(stringToBoolean(data.smtpCheck))\n                            return\n                        }\n                    }\n                }\n                resolve(false)\n            })\n            .catch(err => {\n                console.error(err);\n                reject(err)\n            })\n    })\n}\n\nfunction userId() {\n    const userString = localStorage.getItem('auth_user')\n    if (userString !== '') {\n        let user = JSON.parse(userString)\n        if (user) {\n            return user.uid\n        }\n    }\n    return ''\n}\n\nfunction objEquals(obj, target) {\n    var props1 = Object.getOwnPropertyNames(obj);\n    var props2 = Object.getOwnPropertyNames(target);\n    if (props1.length != props2.length) {\n        return false;\n    }\n    for (var i = 0, max = props1.length; i < max; i++) {\n        var propName = props1[i];\n        if (this[propName] !== obj[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nlet commons = {\n    emailValidVerify,\n    userId,\n    objEquals\n}\n\nexport default commons","import firebase from 'firebase/app'\nimport commons from '../util/commons'\nimport collections from './collections'\n\nexport default {\n    /**\n     * 获取当前用户信息\n     */\n    userInfo() {\n        return new Promise(async (resolve, reject) => {\n            try {\n                let userId = commons.userId()\n                let userDoc = await collections.user.doc(userId).get()\n                if (userDoc && userDoc.exists) {\n                    localStorage.setItem(\"userInfo\", JSON.stringify(userDoc.data()));\n                    resolve(userDoc.data());\n                } else {\n                    resolve(null);\n                }\n            } catch (error) {\n                reject(error)\n            }\n        })\n    },\n    teacherInfo() {\n        return new Promise(async (resolve, reject) => {\n            try {\n                let userId = commons.userId()\n                let teacherDoc = await collections.teacher.doc(userId).get()\n                if (teacherDoc && teacherDoc.exists) {\n                    localStorage.setItem('teacherInfo', JSON.stringify(teacherDoc.data()))\n                    resolve(teacherDoc.data())\n                } else {\n                    resolve(null)\n                }\n            } catch (error) {\n                reject(error)\n            }\n        })\n    },\n    studioInfo() {\n        return new Promise(async (resolve, reject) => {\n            try {\n                let teacher = await this.teacherInfo()\n                if (teacher && teacher.studioId) {\n                    let studioDoc = await collections.studio.doc(teacher.studioId).get()\n                    if (studioDoc && studioDoc.exists) {\n                        localStorage.setItem('studioInfo', JSON.stringify(studioDoc.data()))\n                        resolve(studioDoc.data())\n                        return\n                    }\n                }\n                resolve(null)\n            } catch (error) {\n                reject(error)\n            }\n        })\n    },\n    teacherPermissions: {\n        get() {\n            return new Promise(async (resolve, reject) => {\n                //获取teacherPremission\n                try {\n                    let userId = commons.userId()\n                    let doc = await collections.teacherPermissions.doc(userId).get()\n                    if (doc.exists) {\n                        resolve(doc.data())\n                    } else {\n                        //不存在,新建一个默认的\n                        let defaultData = {\n                            userId: userId,\n                            studioProfile: false,\n                            teacherProfile: true,\n                            admin: false,\n                            scheduling: true,\n                            billing: true,\n                            insights: true\n                        }\n                        await collections.teacherPermissions.doc(userId).set(defaultData)\n                        resolve(defaultData)\n                    }\n                } catch (error) {\n                    reject(error)\n                }\n            })\n        },\n        update(data) {\n            return new Promise(async (resolve, reject) => {\n                try {\n                    let userId = commons.userId()\n                    data['userId'] = userId\n                    await collections.teacherPermissions.doc(userId).set(data)\n                    resolve()\n                } catch (error) {\n                    reject(error)\n                }\n            })\n        }\n    },\n}"],"sourceRoot":""}