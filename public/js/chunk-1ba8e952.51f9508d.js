(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ba8e952"],{"0943":function(e,t,a){"use strict";a("c8f8")},"53c6":function(e,t,a){"use strict";a.r(t);var s,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("base-header",{staticClass:"pb-6"},[a("div",{staticClass:"row align-items-center py-4"},[a("div",{staticClass:"col-lg-6 col-7"},[a("h6",{staticClass:"h2 text-white d-inline-block mb-0"},[e._v("My Profile")])]),a("div",{staticClass:"col-lg-6 col-5 text-right"})])]),a("div",{staticClass:"container-fluid mt--6"},[a("card",{attrs:{isLoading:e.isProfileDataLoading,minHeight:"400"}},[a("div",{staticClass:"row justify-content-center"},[a("div",[a("div",{staticClass:"avatar avatar-xl rounded-circle tk-layout-inline-block tk-position-relative tk-avatar-outer tk-bg-color-white tk-border-color-main"},[a("avatar",{attrs:{uId:e.model.user.userId,name:e.model.user.name}})],1),a("div",{staticClass:"tk-layout-inline-block tk-cursor-pointer tk-font-color-main tk-px-margin-left-px24"},[a("span",[e._v("Change Photo")]),a("dropzone-file-upload",{staticClass:"tk-position-absolute tk-profile-upload-avatar",staticStyle:{top:"48px",opacity:"0"},attrs:{id:"uploadAvatar",multiple:!1},model:{value:e.fileSingle,callback:function(t){e.fileSingle=t},expression:"fileSingle"}})],1)])]),a("div",{staticClass:"row tk-px-margin-top-px30"},[a("div",{staticClass:"col-lg-3 col-md-6"},[a("span",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label"},[e._v("Full Name")]),a("div",{staticClass:"has-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.name,expression:"model.user.name"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.name},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"name",t.target.value)}}})])])])]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("span",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label"},[e._v("Email")]),a("div",{staticClass:"has-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.email,expression:"model.user.email"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",class:{"is-invalid":e.isInvalid},attrs:{type:"email"},domProps:{value:e.model.user.email},on:{blur:function(t){return t.preventDefault(),e.validationEmail(t)},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"email",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v(" The email is not correct. ")])])])]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("span",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label"},[e._v("Phone")]),a("div",{staticClass:"has-label"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend tk-px-width-px90"},[a("span",{staticClass:"input-group-text tk-border-bottom tk-px-width-px90 tk-text-center",staticStyle:{padding:"0"}},[a("el-select",{staticClass:"tk-select-border-none tk-border-bottom tk-select-bg-mute",model:{value:e.countryCodeSelected,callback:function(t){e.countryCodeSelected=t},expression:"countryCodeSelected"}},e._l(e.countrySelects.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"  "+e.areaCode,value:e.value}})})),1)],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.phone,expression:"model.user.phone"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.phone},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"phone",t.target.value)}}})])])])])]),a("div",{staticClass:"col-lg-3 col-md-6"},[a("span",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-control-label"},[e._v("Url")]),a("div",{staticClass:"has-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.user.website,expression:"model.user.website"}],staticClass:"form-control form-control-muted tk-border-bottom tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.model.user.website},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.model.user,"website",t.target.value)}}})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"form-control-label"},[e._v("Permissions")])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Studio Profile")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onStudioProfileChanged},model:{value:e.model.teacherPermissions.studioProfile,callback:function(t){e.$set(e.model.teacherPermissions,"studioProfile",t)},expression:"model.teacherPermissions.studioProfile"}})],1)])])])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Teacher Profile")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onTeacherProfileChanged},model:{value:e.model.teacherPermissions.teacherProfile,callback:function(t){e.$set(e.model.teacherPermissions,"teacherProfile",t)},expression:"model.teacherPermissions.teacherProfile"}})],1)])])])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Scheduling")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onSchedulingChanged},model:{value:e.model.teacherPermissions.scheduling,callback:function(t){e.$set(e.model.teacherPermissions,"scheduling",t)},expression:"model.teacherPermissions.scheduling"}})],1)])])])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Billing")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onBillingChanged},model:{value:e.model.teacherPermissions.billing,callback:function(t){e.$set(e.model.teacherPermissions,"billing",t)},expression:"model.teacherPermissions.billing"}})],1)])])])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Admin")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onAdminChanged},model:{value:e.model.teacherPermissions.admin,callback:function(t){e.$set(e.model.teacherPermissions,"admin",t)},expression:"model.teacherPermissions.admin"}})],1)])])])]),a("div",{staticClass:"col-lg-3 col-md-4"},[a("span",[a("div",{staticClass:"form-group"},[a("div",[a("div",{staticClass:"form-control form-control-muted"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Insights")]),a("tk-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{type:"main"},on:{input:e.onInsightsChanged},model:{value:e.model.teacherPermissions.insights,callback:function(t){e.$set(e.model.teacherPermissions,"insights",t)},expression:"model.teacherPermissions.insights"}})],1)])])])])])])],1)],1)},i=[],n=(a("eb5b"),a("c585"),a("6a61"),a("2e91")),r=a("28f8"),l=(a("9102"),a("2984"),a("3aa8")),c=a.n(l),u=(a("086f"),a("ce6c")),d=a.n(u),m=a("7a12"),p=a("cb64"),f=a("fdc1"),v=a("fef9"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body",style:{minHeight:e.minHeight+"px"}},[e.isLoading?a("card-loading"):[e._t("default")]],2)])},g=[],k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tk-card-loading",staticStyle:{height:"inherit",width:"100%","min-height":"inherit"}},[a("svg",{ref:"loading",staticStyle:{width:"80px",height:"80px",position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",display:"block"},attrs:{id:"loading",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[a("path",{attrs:{fill:"#71d9c2",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(188.223 50 50)"}},[a("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])])},b=[],C=(a("0943"),a("c701")),y={},w=Object(C["a"])(y,k,b,!1,null,null,null),x=w.exports,P={components:{CardLoading:x},props:{isLoading:{type:Boolean,default:!0},minHeight:{type:String,default:"100"}}},S=P,_=Object(C["a"])(S,h,g,!1,null,null,null),O=_.exports,R=a("5e3a"),j=a("c4b26"),I={components:(s={},Object(r["a"])(s,d.a.name,d.a),Object(r["a"])(s,c.a.name,c.a),Object(r["a"])(s,"DropzoneFileUpload",p["a"]),Object(r["a"])(s,"avatar",m["a"]),Object(r["a"])(s,"Card",O),Object(r["a"])(s,"tkSwitch",j["a"]),s),data:function(){return{isInvalid:!1,countryCodeSelected:"+1",countrySelects:this.$tools.countrySelects,fileSingle:[],userId:"",studioId:"",isProfileDataLoading:!0,model:{user:{userId:"",name:"",phone:"",email:"",website:""},studio:{id:"",memberLevelId:1,name:"",storefrontColor:""},teacherPermissions:{userId:"",studioProfile:!1,admin:!1,teacherProfile:!0,scheduling:!1,billing:!1,insights:!1}}}},watch:{fileSingle:function(e,t){var a=this;setTimeout((function(){console.log(e[0]),console.log(e[0].dataURL),a.avatarUrl=e[0].dataURL}),200)}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,v["a"].studioInfo();case 3:return s=t.sent,a.model.studio=s,console.log("获取到的Studio信息: ",s),o=f["a"].userId(),R["a"].user.doc(o).onSnapshot((function(e){console.log("监听的数据: ",e.data()),e.exists&&(a.model.user=e.data())})),t.next=10,v["a"].teacherPermissions.get();case 10:i=t.sent,a.model.teacherPermissions=i,a.isProfileDataLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},methods:{onStudioProfileChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击studioProfile"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onAdminChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Admin"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onTeacherProfileChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击TeacherProfile"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onSchedulingChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Scheduling"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onBillingChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Billing"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},onInsightsChanged:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("点击Insights"),t.next=3,e.updateTeacherPromissions();case 3:case"end":return t.stop()}}),t)})))()},updateTeacherPromissions:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,s){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,o=a.model.teacherPermissions,e.next=4,v["a"].teacherPermissions.update(o);case 4:t(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),s(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})))()},change:function(e){console.log(e)},validationEmail:function(){var e=this;e.$tools.isNull(e.model.user.email)?e.isInvalid=!1:e.isInvalid=!e.$tools.isEmail(e.model.user.email)}}},$=I,T=Object(C["a"])($,o,i,!1,null,null,null);t["default"]=T.exports},c8f8:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1ba8e952.51f9508d.js.map