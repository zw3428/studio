(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77fea936"],{6873:function(t,e,a){},a6a9:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{staticClass:"tk-popup-outer",attrs:{show:t.show},on:{"update:show":function(e){t.show=e},close:t.close}},[a("template",{on:{close:t.close},slot:"header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t.showBasic?a("span",[t._v(t._s(t.title))]):t._e(),t.showLessonType?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(e){t.showBasic=!0,t.showLessonType=!1}}}),a("span",[t._v("Lesson Types")])]:t._e(),t.showAddLessonType?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(e){t.showAddLessonType=!1,t.showLessonType=!0}}}),a("span",[t._v("Add Lesson Type")])]:t._e(),t.showSelectUser?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(e){t.showBasic=!0,t.showSelectUser=!1}}}),a("span",[t._v(t._s(t.contactLabel))])]:t._e(),t.showSelectStartTime?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(e){t.showBasic=!0,t.showSelectStartTime=!1}}}),a("span",[t._v("Start On")])]:t._e()],2)]),a("div",{staticClass:"tk-popup-content tk-days tk-position-relative",staticStyle:{width:"100%",height:"100%"},style:{overflowY:t.showSelectStartTime?"hidden":"auto"}},[t.isLoading?a("loading",{attrs:{size:"80"}}):[t.showBasic?a("form",{staticClass:"card-wrapper"},[t.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Full Name")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.fullName},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.fullName=e.target.value)}}})])])])]):t._e(),t.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Phone")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.phone},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])])]):t._e(),t.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Email Address")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control tk-font-color-black1",class:{"is-invalid":t.isInvalid},attrs:{type:"text"},domProps:{value:t.email},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},blur:function(e){return e.preventDefault(),t.validationEmail(e)},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v(" The email is not correct. ")])])])]):t._e(),t.showContactCard?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v(t._s(t.contactLabel))]),a("div",{staticClass:"card tk-px-margin-bottom-px16 tk-border-color-gray-300"},[a("div",{staticClass:"has-label card-body tk-px-padding-px10"},[a("user-basic-info",{class:{"tk-cursor-pointer":t.selectUser},attrs:{data:t.selectedUser,avatar:"",selectUser:t.selectUser,avatarWidth:48},on:{selectUsers:t.selectUsers}})],1)])])]):t._e(),t.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Lesson type")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label tk-position-relative card-body tk-px-padding-px0"},[t.lessonTypes.length>0&&void 0!==t.currentLessonType.id?[a("div",{staticClass:"form-control tk-cursor-pointer",staticStyle:{height:"auto"},on:{click:function(e){e.preventDefault(),t.showBasic=!1,t.showLessonType=!0}}},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px16 tk-bg-color-gray-200"},[a("img",{attrs:{src:t.currentLessonType.icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-right-px10",staticStyle:{width:"calc(100% - 48px - 24px - 24px)"}},[a("div",{staticClass:"tk-font-color-black2 h3 tk-px-margin-bottom-px0"},[t._v(" "+t._s(t.currentLessonType.name)+" ")]),a("div",{staticClass:"tk-font-color-gray"},[t._v(" "+t._s(t.currentLessonType.desc)+" ")])]),t.currentLessonType.selected?a("div",{staticClass:"tk-layout-inline-block tk-text-right tk-font-color-main tk-text-base",staticStyle:{width:"20px"}},[a("i",{staticClass:"fas fa-angle-right tk-font-color-lightGray"})]):t._e()])]:[a("div",{staticClass:"form-control tk-cursor-pointer",staticStyle:{height:"auto"},on:{click:function(e){e.preventDefault(),t.showBasic=!1,t.showLessonType=!0}}},[a("span",[t._v("Select lesson type")]),a("i",{staticClass:"fas fa-angle-right tk-position-absolute tk-font-color-lightGray",staticStyle:{right:"16px",top:"16px"}})])]],2)])])]):t._e(),t.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Starts on")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label tk-position-relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startsOn,expression:"startsOn"}],staticClass:"form-control tk-font-color-black1 tk-cursor-pointer",attrs:{type:"text"},domProps:{value:t.startsOn},on:{focus:function(e){t.showSelectStartTime=!0,t.showBasic=!1},input:function(e){e.target.composing||(t.startsOn=e.target.value)}}}),a("i",{staticClass:"fas fa-angle-right tk-position-absolute tk-font-color-lightGray",staticStyle:{right:"16px",top:"16px"}})])])])]):t._e(),t.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"form-control",staticStyle:{height:"auto"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Recurrence")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.recurrenceOpen,callback:function(e){t.recurrenceOpen=e},expression:"recurrenceOpen"}}),t.recurrenceOpen?[a("div",[a("div",{staticClass:"tk-cursor-pointer tk-border-bottom-color-gray-200 tk-px-padding-top-px24 tk-px-padding-bottom-px16",on:{click:function(e){e.preventDefault(),t.weekly=!0}}},[a("span",{staticClass:"tk-font-color-black1"},[t._v("Weekly")]),t.weekly?a("i",{staticClass:"fas fa-check tk-font-color-main tk-px-margin-top-px5 tk-px-margin-right-px8",staticStyle:{float:"right"}}):t._e(),t.weekly?a("div",{staticClass:"tk-text-center tk-px-margin-top-px10"},[t._l(t.week,(function(e,s){return[a("div",{key:s,staticClass:"tk-px-width-px40 tk-px-height-px40 tk-border-color-gray-200 tk-px-radius-px5 tk-cursor-pointer tk-layout-inline-block",class:{"tk-bg-color-main tk-border-color-main tk-font-color-white":e.selected},staticStyle:{"line-height":"40px","user-select":"none"},on:{click:function(t){t.preventDefault(),e.selected=!e.selected}}},[t._v(" "+t._s(e.label)+" ")])]}))],2):t._e()])]),a("div",[a("div",{staticClass:"tk-cursor-pointer tk-px-padding-top-px16 tk-px-padding-bottom-px10",on:{click:function(e){e.preventDefault(),t.weekly=!1}}},[a("span",{staticClass:"tk-font-color-black1"},[t._v("Bi-weekly")]),t.weekly?t._e():a("i",{staticClass:"fas fa-check tk-font-color-main tk-px-margin-top-px5 tk-px-margin-right-px8",staticStyle:{float:"right"}}),t.weekly?t._e():a("div",{staticClass:"tk-text-center tk-px-margin-top-px10"},[t._l(t.week,(function(e,s){return[a("div",{key:s,staticClass:"tk-px-width-px40 tk-px-height-px40 tk-border-color-gray-200 tk-px-radius-px5 tk-cursor-pointer tk-layout-inline-block",class:{"tk-bg-color-main tk-border-color-main tk-font-color-white":e.selected},staticStyle:{"line-height":"40px","user-select":"none"},on:{click:function(t){t.preventDefault(),e.selected=!e.selected}}},[t._v(" "+t._s(e.label)+" ")])]}))],2)])])]:t._e()],2)])])]):t._e(),t.recurrenceOpen&&t.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16"},[0===t.currentLessonType.package?a("div",{staticClass:"form-control",staticStyle:{height:"auto"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Ends")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.endsOpen,callback:function(e){t.endsOpen=e},expression:"endsOpen"}}),t.endsOpen?[a("div",{staticClass:"tk-px-margin-top-px20 tk-px-margin-bottom-px10"},[a("base-radio",{staticClass:"tk-layout-inline-block",attrs:{name:"endsOn1"},model:{value:t.ends.radio,callback:function(e){t.$set(t.ends,"radio",e)},expression:"ends.radio"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[t._v("Ends on")])]),a("flat-picker",{staticClass:"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-left-px10 tk-px-height-px36",attrs:{config:{allowInput:!0}},model:{value:t.ends.date,callback:function(e){t.$set(t.ends,"date",e)},expression:"ends.date"}})],1),a("div",[a("base-radio",{staticClass:"tk-layout-inline-block",attrs:{name:"endsOn2"},model:{value:t.ends.radio,callback:function(e){t.$set(t.ends,"radio",e)},expression:"ends.radio"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[t._v("Ends after")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ends.count,expression:"ends.count"}],staticClass:"form-control form-control-muted tk-px-width-px48 tk-px-height-px36 tk-px-margin-left-px10 tk-px-margin-right-px10 tk-layout-inline-block tk-text-center tk-font-color-gray",attrs:{type:"text"},domProps:{value:t.ends.count},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||t.$set(t.ends,"count",e.target.value)}}}),a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[t._v("currence")])],1)]:t._e()],2):a("div",{staticClass:"form-control",staticStyle:{height:"auto"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Ends after "+t._s(t.currentLessonType.leftCount)+" lesson(s)")])])])])]):t._e()]):t._e(),t.showLessonType?a("div",{staticClass:"card-wrapper"},[t._l(t.lessonTypes,(function(e,s){return[a("div",{key:s,staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16 tk-cursor-pointer",on:{click:function(a){return a.preventDefault(),t.selectLessonType(e,s)}}},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px16 tk-bg-color-gray-200"},[a("img",{attrs:{src:e.icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-right-px10",staticStyle:{width:"calc(100% - 48px - 24px - 24px)"}},[a("div",{staticClass:"tk-font-color-black2 h3 tk-px-margin-bottom-px0"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"tk-font-color-gray"},[t._v(" "+t._s(e.desc)+" ")])]),e.selected?a("div",{staticClass:"tk-layout-inline-block tk-text-center tk-font-color-main",staticStyle:{width:"20px"}},[a("i",{staticClass:"fas fa-check"})]):t._e()])])]})),a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16 tk-cursor-pointer",on:{click:function(e){e.preventDefault(),t.showLessonType=!1,t.showAddLessonType=!0}}},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px10 tk-bg-color-white tk-text-center tk-font-color-main tk-border-color-gray-200",staticStyle:{"line-height":"46px"}},[a("i",{staticClass:"fas fa-plus"})]),a("div",{staticClass:"tk-layout-inline-block tk-font-color-main h3 tk-px-margin-bottom-px0",staticStyle:{width:"calc(100% - 50px - 10px)"}},[t._v(" New type ")])])])],2):t._e(),t.showAddLessonType?a("div",{staticClass:"card-wrapper"},[a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Name of lesson type")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newType.name,expression:"newType.name"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.newType.name},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||t.$set(t.newType,"name",e.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px10 tk-bg-color-gray-200 tk-border-color-gray-200"},[a("img",{attrs:{src:t.newType.icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-font-color-main tk-text-right tk-cursor-pointer",staticStyle:{width:"calc(100% - 64px)"},on:{click:function(e){e.preventDefault(),t.showInstruments=!t.showInstruments}}},[a("span",{staticClass:"tk-layout-inline-block text-xs"},[t._v("Select an icon")]),a("i",{staticClass:"fas fa-angle-down tk-layout-inline-block tk-px-margin-left-px8"})]),t.showInstruments?a("div",{staticClass:"tk-text-center"},[t._l(t.instruments,(function(e,s){return[a("div",{key:s,staticClass:"tk-layout-inline-block tk-px-margin-top-px16 tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(a){a.preventDefault(),t.newType.icon=e.url,t.newType.instrumentId=e.id,t.showInstruments=!1}}},[a("div",{staticClass:"avatar avatar-lg rounded-circle tk-bg-color-gray-200 tk-border-color-gray-200"},[a("img",{attrs:{src:e.url}})]),a("div",{staticClass:"tk-font-color-lightGray text-xs"},[t._v(" "+t._s(e.name)+" ")])])]}))],2):t._e()])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Duration(min)")]),a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px16"},[t._l(t.durations,(function(e,s){return[a("div",{key:s,staticClass:"tk-layout-inline-block tk-px-radius-px5 tk-px-padding-top-px10 tk-px-margin-right-px10 tk-px-padding-bottom-px10 tk-text-center tk-cursor-pointer",class:{"tk-border-color-main tk-font-color-main":e.selected,"tk-border-color-gray-300 tk-font-color-gray":!e.selected,"tk-px-margin-bottom-px10":s<4},staticStyle:{width:"calc(25% - 10px)"},on:{click:function(a){return a.preventDefault(),t.selectDuration(e)}}},[t._v(" "+t._s(e.length)+" ")])]}))],2)])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Package option")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.newType.packageOpen,callback:function(e){t.$set(t.newType,"packageOpen",e)},expression:"newType.packageOpen"}}),t.newType.packageOpen?a("div",{staticClass:"invalid-feedback tk-font-color-gray tk-px-margin-top-px10",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"}},[a("span",[t._v(t._s(t.newType.package)+" lessons")]),a("i",{staticClass:"fas fa-caret-down"})]),a("span",[t._v("required")])],1):t._e()],1)])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[t._v("Price / lesson")]),a("div",{staticClass:"card tk-px-margin-bottom-px8"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newType.price,expression:"newType.price"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:t.newType.price},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||t.$set(t.newType,"price",e.target.value)}}})])]),a("div",{staticClass:"invalid-feedback tk-font-color-lightGray",staticStyle:{display:"block"}},[t._v(" Invisible for students ")])])])]):t._e(),t.showSelectUser?a("div",{staticClass:"card-wrapper"},t._l(t.users,(function(e,s){return a("span",{key:s},[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16 tk-border-color-gray-300"},[a("div",{staticClass:"card-body tk-px-padding-px10"},[a("user-basic-info",{staticClass:"tk-cursor-pointer",attrs:{data:e,compareData:t.selectedUser,avatar:"",avatarWidth:48,checkUser:!0},on:{selectUsers:t.selectUsers}})],1)])])])})),0):t._e(),t.showSelectStartTime?a("div",{staticClass:"tk-days"},[a("lesson-time",{attrs:{teacherId:t.lessonData.teacherId},on:{getAvailableTime:t.getAvailableTime}})],1):t._e()]],2),t.showBasic?a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("Close")]),t.isEdit?a("button-with-loading",{staticStyle:{margin:"0 0 0 1rem"},attrs:{text:"Update",type:t.needUpdate?"main":"disable",complete:t.isButtonLoadingComplete},on:{start:t.updateLessonConfig}}):a("button-with-loading",{staticStyle:{margin:"0 0 0 1rem"},attrs:{text:t.footBtn,type:"main",complete:t.isButtonLoadingComplete},on:{start:t.addLessonConfig}})],1):t._e(),t.showAddLessonType?a("template",{slot:"footer"},[a("button-with-loading",{staticStyle:{margin:"0 0 0 1rem"},attrs:{text:"Save",type:t.newTypeIsEmpty?"disable":"main",complete:t.isButtonLoadingComplete},on:{start:t.addLessonType}})],1):t._e(),t.showSelectStartTime?a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-border-none",class:{"tk-font-color-lightGray tk-bg-color-gray-200":0===t.availableTime,"tk-font-color-white tk-bg-color-main":0!==t.availableTime},attrs:{type:"primary"},on:{click:function(e){e.preventDefault(),t.showSelectStartTime=!1,t.showBasic=!0}}},[t._v("Confirm")])],1):t._e()],2)},n=[],o=(a("82a8"),a("2a39"),a("cfa8"),a("6a61"),a("9ad1")),r=a("2cb5"),i=(a("6873"),a("a125")),l=a("2b84"),c=a("9194"),p=a("fdc1"),d={props:{data:{default:function(){return null}},contactData:{default:function(){return null}},lessonData:{default:function(){return null}},footBtn:{type:String,default:"Send Invite"},title:{type:String,default:""},name:{type:String,default:""},contactLabel:{type:String,default:""},isEdit:{type:Boolean,default:!1},showContact:{type:Boolean,default:!0},showLessonConfig:{type:Boolean,default:!0},showContactCard:{type:Boolean,default:!1},selectUser:Object(r["a"])({type:Boolean},"type",!1)},components:{flatPicker:function(){return a.e("chunk-10f3ed42").then(a.t.bind(null,"85db",7))},UserBasicInfo:function(){return Promise.all([a.e("chunk-894e4fa4"),a.e("chunk-36830544")]).then(a.bind(null,"db0b"))},lessonTime:function(){return a.e("chunk-ec880f9e").then(a.bind(null,"c52b"))},loading:function(){return a.e("chunk-2d22d938").then(a.bind(null,"f7a2"))},buttonWithLoading:function(){return a.e("chunk-5d7fb187").then(a.bind(null,"6ea5"))}},data:function(){return{isLoading:!0,isButtonLoadingComplete:!1,show:!1,showSelectStartTime:!1,showSelectUser:!1,showBasic:!0,showLessonType:!1,showAddLessonType:!1,checked:!1,isInvalid:!1,showInstruments:!1,fullName:"",phone:"",email:"",lessonType:"",schedule:"",repeat:"",needUpdate:!0,recurrenceOpen:!1,endsOpen:!1,weekly:!0,startsOn:"",lessonTypes:[],currentLessonType:{},week:[{label:"Sun",selected:!1,value:0},{label:"Mon",selected:!0,value:1},{label:"Tue",selected:!1,value:2},{label:"Wed",selected:!1,value:3},{label:"Thu",selected:!1,value:4},{label:"Fri",selected:!1,value:5},{label:"Sat",selected:!1,value:6}],ends:{radio:"endsOn1",date:"2020-12-12",count:10},newType:{name:"",price:"",icon:"",packageOpen:!1,package:5,duration:""},newTypeIsEmpty:!0,durations:[{length:15,selected:!1},{length:30,selected:!1},{length:45,selected:!1},{length:60,selected:!1},{length:75,selected:!1},{length:90,selected:!1},{length:105,selected:!1},{length:120,selected:!1}],instruments:c["a"].instruments,users:[{name:"student1",email:"student1@tunekey.app"},{name:"student2",email:"student2@tunekey.app"},{name:"student3",email:"student3@tunekey.app"},{name:"student4",email:"student4@tunekey.app"},{name:"student5",email:"student5@tunekey.app"},{name:"student6",email:"student6@tunekey.app"},{name:"student7",email:"student7@tunekey.app"},{name:"student8",email:"student8@tunekey.app"},{name:"student9",email:"student9@tunekey.app"}],selectedUser:{},availableTime:1}},created:function(){},mounted:function(){var t=this;t.init()},watch:{contactData:{deep:!0,handler:function(t,e){this.selectedUser=t}},newType:{deep:!0,handler:function(t,e){var a=this;a.$tools.isNull(a.newType.name)||a.$tools.isNull(a.newType.price)||a.$tools.isNull(a.newType.duration)||a.$tools.isNull(a.newType.price)?a.newTypeIsEmpty=!0:a.newTypeIsEmpty=!1}}},methods:{addLessonType:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s=parseInt((new Date).getTime()/1e3).toString(),n={id:p["a"].generateId(),teacherId:a.lessonData.teacherId,instrumentId:a.lessonData.instrumentId,timeLength:a.newType.duration,price:a.newType.price,type:1,name:a.newType.name,deleted:!1,package:a.newType.packageOpen?a.newType.package:0,createTime:s,updateTime:s},e.next=5,l["a"].addLessonType(n);case 5:if(o=e.sent,a.isButtonLoadingComplete=!0,!o){e.next=16;break}return a.$notify({message:"Add Success!",type:"success"}),a.isLoading=!0,e.next=12,a.initLessonType();case 12:a.showAddLessonType=!1,a.showLessonType=!0,e.next=17;break;case 16:a.$notify({message:"Add failed, try it again",type:"error"});case 17:a.isButtonLoadingComplete=!1;case 18:case"end":return e.stop()}}),e)})))()},updateLessonConfig:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,s=a.$firebase.functions().httpsCallable("deleteLessonsAfterSpecificTimeBasedOnConfigId"),n=[],a.week.some((function(t){t.selected&&n.push(t.value)})),r={time:parseInt(new Date(a.startsOn).getTime()/1e3),configId:a.lessonData.originData.lessonScheduleConfigId,isUpdate:!0,studentId:a.lessonData.studentId,teacherId:a.lessonData.teacherId,newScheduleData:JSON.stringify({teacherId:a.lessonData.teacherId,studentId:a.lessonData.studentId,lessonTypeId:a.currentLessonType.id,startDateTime:parseInt(new Date(a.startsOn).getTime()/1e3),repeatType:a.recurrenceOpen?a.weekly?1:2:0,repeatTypeWeekDay:n,endType:a.endsOpen?"endsOn1"===a.ends.radio?1:2:0,endDate:parseInt(new Date(a.$tools.formatYYMMDD(new Date(a.ends.date).getTime())).getTime()/1e3),lessonStatus:1,endCount:a.ends.count,delete:!1})},console.log(r),s(r).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.data.data),a.isButtonLoadingComplete=!0,a.$notify({message:"Update Success!",type:"success"}),a.$emit("update"),a.modalClose();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t),a.$notify({message:"Update failed, try it again!",type:"error"}),a.isButtonLoadingComplete=!0})),a.isButtonLoadingComplete=!1;case 8:case"end":return e.stop()}}),e)})))()},addLessonConfig:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,s=parseInt((new Date).getTime()/1e3),n=a.$firebase.functions().httpsCallable("setLessonScheduleConfig"),r=[],a.week.some((function(t){t.selected&&r.push(t.value)})),i={invitedStatusIsinviteAndResend:0===a.selectedUser.invitedStatus,configs:[{lessonType:a.currentLessonType,lessonScheduleConfig:{teacherId:a.selectedUser.teacherId,studentId:a.selectedUser.studentId,lessonTypeId:a.currentLessonType.id,startDateTime:parseInt(new Date(a.startsOn).getTime()/1e3),repeatType:a.recurrenceOpen?a.weekly?1:2:0,repeatTypeWeekDay:r,lessonStatus:1,endType:a.endsOpen?"endsOn1"===a.ends.radio?1:2:0,endDate:parseInt(new Date(a.$tools.formatYYMMDD(new Date(a.ends.date).getTime())).getTime()/1e3),endCount:a.ends.count,delete:!1,createTime:s,updateTime:s}}]},console.log(i),console.log(JSON.stringify(i)),n(i).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(s.data.data),a.isButtonLoadingComplete=!0,a.$notify({message:"Add Success!",type:"success"}),t.$emit("add"),t.modalClose();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.log(t),a.$notify({message:"Add failed, try it again!",type:"error"}),a.isButtonLoadingComplete=!0})),a.isButtonLoadingComplete=!1;case 10:case"end":return e.stop()}}),e)})))()},selectLessonType:function(t,e){var a=this;a.lessonTypes.some((function(t){t.selected=!1})),t.selected=!0,a.currentLessonType=t},selectWeekday:function(t){},getAvailableTime:function(t){console.log(t),this.availableTime=t.availableTime,this.startsOn=t.selectedTimeStr},selectUsers:function(t){var e=this;e.selectUser&&(e.$tools.isNull(t)?(e.showSelectUser=!0,e.showBasic=!1):(e.selectedUser=t,e.showSelectUser=!1,e.showBasic=!0))},close:function(){this.$emit("close"),this.modalClose()},modalClose:function(){document.getElementsByTagName("body")[0].classList.remove("modal-open")},init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,setTimeout((function(){a.show=!0}),50),a.$tools.isNull(a.name)||(a.fullName=a.name),a.$tools.isNull(a.data)||(a.fullName=a.data.name,a.phone=a.data.phone,a.email=a.data.email),a.$tools.isNull(a.contactData)||(a.selectedUser=a.contactData),e.next=7,a.initStudents();case 7:return e.next=9,a.initLessonType();case 9:case"end":return e.stop()}}),e)})))()},initStudents:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].listStudentsOfTeacher(t.lessonData.teacherId);case 2:t.users=e.sent;case 3:case"end":return e.stop()}}),e)})))()},initLessonType:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n,o,r,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,a.$tools.isNull(a.lessonData)){e.next=34;break}return e.next=4,i["a"].getLessonTypesByTeacherId(a.lessonData.teacherId);case 4:if(a.lessonTypes=e.sent,a.lessonTypes.sort((function(t,e){return parseInt(t.createTime)-parseInt(e.createTime)})),!a.lessonData.originData){e.next=34;break}s=0;case 8:if(!(s<a.lessonTypes.length)){e.next=23;break}if(n=a.lessonTypes[s],console.log("lesson type",n),n.id!==a.lessonData.originData.lessonTypeId){e.next=20;break}if(n.selected=!0,a.currentLessonType=n,console.log("currentType: ",a.currentLessonType),!(a.currentLessonType.package>0)){e.next=19;break}return e.next=18,i["a"].getPackageLessonLeftCountById(a.currentLessonType.id,a.lessonData.originData.lessonScheduleConfigId);case 18:a.currentLessonType.leftCount=e.sent;case 19:return e.abrupt("break",23);case 20:s++,e.next=8;break;case 23:return e.next=25,i["a"].getLessonScheduleConfigById(a.lessonData.originData.lessonScheduleConfigId);case 25:for(o=e.sent,a.$tools.isNull(o)||(r=1e3*o.startDateTime,a.startsOn=a.$tools.formatYYMMDD(r)+" "+a.$tools.formatHHMM(r)),a.recurrenceOpen=0!==o.repeatType,a.weekly=1===o.repeatType,a.resetWeek(),l=function(t){var e=o.repeatTypeWeekDay[t];a.week.some((function(t){e===t.value&&(t.selected=!0)}))},c=0;c<o.repeatTypeWeekDay.length;c++)l(c);a.endsOpen=0!==o.endType,a.ends={radio:"endsOn"+o.endType,date:a.$tools.formatYYMMDD(1e3*o.endDate),count:o.endCount};case 34:a.isLoading=!1;case 35:case"end":return e.stop()}}),e)})))()},resetWeek:function(){this.week.some((function(t){t.selected=!1}))},selectDuration:function(t){var e=this;e.durations.some((function(t){t.selected=!1})),t.selected=!0,e.newType.duration=t.length}}},u=d,k=a("5d22"),m=Object(k["a"])(u,s,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-77fea936.f71232af.js.map