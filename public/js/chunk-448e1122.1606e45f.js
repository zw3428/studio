(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-448e1122"],{"05f2":function(e,t,a){(function(){var t=a("8937"),i={},n=["tap","pinchstart","pinch","pinchend","pinchin","pinchout","rotateleft","rotateright","rotate","swipestart","swiping","swipeend","swipeleft","swiperight","swipeup","swipedown","swipe","drag","dragstart","dragend","hold","tap","doubletap"];if(!t)throw new Error("[vue-touch] cannot locate Touch.js.");i.config={},i.install=function(e){e.directive("touch",{isFn:!0,acceptStatement:!0,bind:function(e,t,a,i){t.modifiers;var s,r=t.arg;r||console.warn("[vue-touch] event type argument is required.");for(var o=0;o<n.length;o++)if(r===n[o]){s=n[o];break}s?this.recognizerType=s:console.warn("[vue-touch] invalid event type: "+r)},update:function(e,a,i,n){var s=a.arg,r=a.expression,o=a.modifiers;e._handler=e._handler||{},e._handler[s]=e._handler[s]||[];var l=0!==e._handler[s].filter((function(e){return e.name===r})).length;if(!l){var c=a.value,d=function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);c.apply(null,t);if(o.stop)return!1};e._handler[s].push({name:r,handler:d}),"function"!==typeof c?console.warn("[vue-touch] invalid handler function for v-touch: "+s+'="'+a.rawName):t.on(e,s,d)}},unbind:function(e,a,i,n){var s=a.arg;a.expression;e._handler=e._handler||{},e._handler[s]=e._handler[s]||[],e._handler[s].forEach((function(a){t.off(e,s,a.handler)}))}})},e.exports=i})()},"0e4d":function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return i}))},"10d9":function(e,t,a){"use strict";a.r(t);var i,n,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{"padding-left":"10px !important","padding-right":"10px !important","overflow-x":"hidden"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("inline-actions-table",{on:{preview:e.preview}})],1),a("div",{staticClass:"col-lg-8 tk-table-max-height"},[a("search-bar-with-avatar"),e.showPreview?a("div",{staticClass:"card-wrapper"},[a("div",{staticClass:"card tk-no-shadow tk-bg-color-bg tk-px-margin-bottom-px0",staticStyle:{width:"calc(100% - 20px)","margin-right":"20px"}},[a("div",{staticClass:"card-body"},[a("user-basic-info",{attrs:{data:e.previewData,inline:!0,toolTip:!0},on:{onEdit:function(t){e.showEditTeacher=!0},onArchive:e.onArchive,onDelete:e.onDelete,onDeleteArchive:e.onDeleteArchive,onActive:e.onActive}})],1)]),a("div",{staticClass:"tk-teacher-detail",staticStyle:{height:"calc(100vh - 8px - 204px)",overflow:"auto"}},[a("div",{staticClass:"card tk-no-shadow tk-border-color-gray-200 tk-px-margin-bottom-px20",staticStyle:{width:"calc(100% - 20px)","margin-right":"20px"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row align-items-center"},[e._m(0),a("div",{staticClass:"col-4 text-right"},[e.editLesson?a("span",{staticClass:"btn btn-sm btn-neutral tk-font-color-main",on:{click:function(t){return t.preventDefault(),e.toggleEditLesson(t)}}},[e._v("Done")]):a("span",{staticClass:"btn btn-sm btn-neutral tk-font-color-main",on:{click:function(t){return t.preventDefault(),e.toggleEditLesson(t)}}},[e._v("Add / Delete")])])])]),a("div",{staticClass:"card-body tk-px-padding-top-px0"},[e._l(e.lessons,(function(t,i){return[a("div",{key:i},[a("teacher-lesson-item",{staticClass:"tk-layout-inline-block",class:{"tk-cursor-pointer":!e.editLesson},staticStyle:{width:"calc(100% - 20px)"},attrs:{data:t},on:{showLessonDetail:e.showLessonDetail}}),a("div",{staticClass:"tk-layout-inline-block tk-px-width-px20 tk-font-color-main text-lg"},[e.editLesson?a("i",{staticClass:"fas fa-trash tk-font-color-red",on:{click:function(t){return t.preventDefault(),e.deleteLesson(i)}}}):a("i",{staticClass:"fas fa-chevron-right"})])],1)]})),a("div",{staticClass:"tk-px-padding-px20 tk-px-padding-left-px0 tk-px-padding-right-px0 tk-px-padding-bottom-px0 tk-cursor-pointer",staticStyle:{display:"none"},attrs:{id:"addNewLesson"},on:{click:function(t){t.preventDefault(),e.showAddNewLesson=!0}}},[e._m(1),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-weight-bold tk-font-color-main",staticStyle:{width:"calc(100% - 48px - 16px)"}},[e._v(" New Lesson ")])])],2)]),e._m(2)])]):a("div",{staticClass:"tk-text-center",staticStyle:{height:"calc(100vh - 80px)","line-height":"calc(100vh - 160px)"}},[a("img",{staticStyle:{width:"80%"},attrs:{src:"/img/icons/tk/img_teachers.png"}})])],1)])]),a("modal",{staticClass:"tk-popup-outer",attrs:{show:e.showCreateNewTeacher},on:{"update:show":function(t){e.showCreateNewTeacher=t}}},[a("template",{slot:"header"},[a("h5",{staticClass:"modal-title"},[e._v("New Teacher")])]),a("div",{staticClass:"tk-popup-content"},[a("form",{staticClass:"card-wrapper"},[a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Full Name")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName,expression:"fullName"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.fullName},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.fullName=t.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Email")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control tk-font-color-black1",class:{"is-invalid":e.isInvalid},attrs:{type:"text"},domProps:{value:e.email},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},blur:function(t){return t.preventDefault(),e.validationEmail(t)},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v(" The email is not correct. ")])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Phone")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.phone},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.phone=t.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Url")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.url},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.url=t.target.value)}}})])])])])])]),a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(t){t.preventDefault(),e.showCreateNewTeacher=!1}}},[e._v("Close")]),a("base-button",{staticClass:"tk-font-color-white tk-bg-color-main tk-border-none",attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.showCreateNewTeacher=!1}}},[e._v("Create")])],1)],2),a("modal",{staticClass:"tk-popup-outer",staticStyle:{"z-index":"2020"},attrs:{show:e.showEditTeacher},on:{"update:show":function(t){e.showEditTeacher=t}}},[a("template",{slot:"header"},[a("h5",{staticClass:"modal-title"},[e._v("Edit Teacher")])]),a("div",{staticClass:"tk-popup-content"},[a("form",{staticClass:"card-wrapper"},[a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Full Name")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName,expression:"fullName"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.fullName},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.fullName=t.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Email")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control tk-font-color-black1",class:{"is-invalid":e.isInvalid},attrs:{type:"text"},domProps:{value:e.email},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},blur:function(t){return t.preventDefault(),e.validationEmail(t)},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v(" The email is not correct. ")])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Phone")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.phone},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.phone=t.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Url")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.url},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.url=t.target.value)}}})])])])])])]),a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(t){t.preventDefault(),e.showEditTeacher=!1}}},[e._v("Close")]),a("base-button",{staticClass:"tk-font-color-white tk-bg-color-main tk-border-none",attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.showEditTeacher=!1}}},[e._v("Update")])],1)],2),a("modal",{staticStyle:{"z-index":"2020"},attrs:{show:e.showDelete},on:{"update:show":function(t){e.showDelete=t}}},[a("template",{slot:"header"},[a("h5",{staticClass:"modal-title"},[e._v("Delete Teacher")])]),a("div",{staticClass:"tk-popup-content"},[e._v(" Do you want to delete the teacher "),a("strong",{staticClass:"tk-font-color-black1"},[e._v("["+e._s(e.fullName)+"]")]),e._v(" ? ")]),a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(t){t.preventDefault(),e.showDelete=!1}}},[e._v("Close")]),a("base-button",{staticClass:"tk-font-color-white tk-bg-color-red tk-border-none",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.confirmDelete(t)}}},[e._v("Delete")])],1)],2),e.showEditLessonDetail?a("create-student",{attrs:{title:"Lessons",showContact:!1,showContactCard:!0,isEdit:!0,contactData:e.testStudentData,contactLabel:"Student"},on:{close:function(t){e.showEditLessonDetail=!1},update:function(t){e.showEditLessonDetail=!1}}}):e._e(),e.showAddNewLesson?a("create-student",{attrs:{title:"Add Lessons",showContact:!1,showContactCard:!0,selectUser:!0,contactLabel:"Select student",footBtn:"Add"},on:{close:function(t){e.showAddNewLesson=!1},update:function(t){e.showAddNewLesson=!1}}}):e._e()],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-8"},[a("h5",{staticClass:"h3 mb-0"},[a("i",{staticClass:"fas fa-calendar-alt tk-font-color-card5 tk-px-width-px24 tk-px-margin-right-px8",staticStyle:{"font-size":"1.2rem"}}),a("span",[e._v("Lesson")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-border-color-gray-300 tk-font-color-main tk-bg-color-white tk-text-center",staticStyle:{"line-height":"48px"}},[a("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card tk-no-shadow tk-border-color-gray-200 tk-px-margin-bottom-px20",staticStyle:{width:"calc(100% - 20px)","margin-right":"20px"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-8"},[a("h5",{staticClass:"h3 mb-0"},[a("i",{staticClass:"fas fa-wallet tk-font-color-orange tk-px-width-px24 tk-px-margin-right-px8",staticStyle:{"font-size":"1.2rem"}}),a("span",[e._v("Payout")])])]),a("div",{staticClass:"col-4 text-right"},[a("span",{staticClass:"btn btn-sm btn-neutral tk-font-color-main"},[e._v("More")])])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",[a("span",{staticClass:"tk-font-color-lightGray tk-px-margin-right-px16"},[e._v("No131 | 05/24:")]),a("span",{staticClass:"tk-font-color-black2"},[e._v("Guitar Basic, 30min")])]),a("div",[a("span",{staticClass:"tk-font-color-lightGray tk-px-margin-right-px16"},[e._v("Auto payment:")]),a("span",{staticClass:"tk-font-color-black2 tk-px-margin-right-px16"},[e._v("Wellsfargo, checking, ****7832")]),a("span",{staticClass:"tk-font-color-main tk-font-underline tk-cursor-pointer"},[e._v("Edit")])])]),a("div",{staticClass:"col-md-4 text-right"},[a("div",{staticClass:"font-weight-bold tk-font-color-default tk-text-base tk-layout-inline-block text-xl"},[e._v(" $100.00 ")])])])])])}],o=(a("b526"),a("eb5b"),a("28f8")),l=(a("ca6c"),a("2984"),a("2c83")),c=a.n(l),d=(a("31d0"),a("60bf")),u=a.n(d),p=(a("cc43"),a("855f")),h=a.n(p),m=(a("567e"),a("2b3e")),v=a.n(m),g=(a("93fd"),a("60cf")),f=a.n(g),k=a("f5ef"),y=a("a336"),b=a.n(y),x=(a("642c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tk-px-padding-px20 tk-px-padding-left-px0 tk-table-radio-button text-center"},[a("div",{staticClass:"tk-bg-color-gray-100 tk-border-color-gray-200 tk-px-radius-px40 tk-px-padding-px2 tk-layout-width-fit tk-layout-inline-block"},[a("button-radio-group",{attrs:{options:e.teacherListOptions,"button-classes":"btn-secondary tk-px-radius-px40"},model:{value:e.currentGroup,callback:function(t){e.currentGroup=t},expression:"currentGroup"}})],1)]),a("div",{staticClass:"card-wrapper"},[a("div",{staticClass:"card tk-px-margin-bottom-px0 tk-layout-inline-block tk-no-shadow tk-border-color-gray-200",staticStyle:{height:"calc(100vh - 90px)",width:"calc(100% - 28px)"}},[a("el-table",{ref:"teacherList",staticClass:"table-responsive align-items-center table-flush tk-table-max-height",attrs:{"header-row-class-name":"thead-light",data:"active"==e.currentGroup?e.users:e.archive,id:"teacherList"}},[a("el-table-column",{attrs:{"min-width":"160px",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("img",{staticClass:"avatar rounded-circle mr-3 tk-cursor-pointer tk-layout-inline-block",attrs:{src:i.avatar},on:{click:function(t){return t.preventDefault(),e.preview(i)}}}),a("div",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px - 1rem)"}},[a("b",{staticClass:"tk-text-wrap tk-cursor-pointer text-sm",on:{click:function(t){return t.preventDefault(),e.preview(i)}}},[e._v(e._s(i.name))]),i.studentCount>0?a("div",[a("div",{staticClass:"avatar-group tk-layout-inline-block",staticStyle:{opacity:"0.48"}},[a("a",{staticClass:"avatar avatar-xs rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Ryan Tompson"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-4.jpg"}})]),a("a",{staticClass:"avatar avatar-xs rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Romina Hadid"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-2.jpg"}})]),a("a",{staticClass:"avatar avatar-xs rounded-circle",attrs:{href:"#","data-toggle":"tooltip","data-original-title":"Romina Hadid"}},[a("img",{attrs:{alt:"Image placeholder",src:"img/theme/team-3.jpg"}})])]),a("span",{staticClass:"font-weight-bold tk-layout-inline-block tk-layout-prompt-text"},[e._v(" ("+e._s(i.studentCount)+") ")])]):e._e()])]}}])}),a("el-table-column",{attrs:{width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[0!=i.studentCount||i.needInvite?e._e():a("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block",attrs:{size:"sm",type:"main"},on:{click:function(t){return t.preventDefault(),e.addLesson(i)}}},[e._v("Add Lesson")]),i.needInvite?a("base-button",{staticClass:"tk-font-color-white tk-layout-inline-block",attrs:{size:"sm",type:"resend"},on:{click:function(t){return t.preventDefault(),e.invite(i)}}},[e._v("Invite")]):e._e()]}}])})],1)],1),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-left-px4"},[a("letter-index",{attrs:{value:e.letter},on:{indexByLetter:e.indexByLetter}})],1)])])}),C=[],w=(a("9f1b"),a("a088"),a("4f55"),a("c944")),D=a.n(w),T=[{userId:1,name:"John Michael",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:0,phone:"+1 400 820 8820",email:"john234@gmail.com",website:"john234.com",active:!0},{userId:2,name:"Alexandra Smith",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:0,phone:"+1 400 820 8820",email:"alexsmith@gmail.com",website:"",active:!0,needInvite:!0},{userId:3,name:"Samantha Ivy",avatar:"img/theme/team-3.jpg",createTime:"",updateTime:"",studentCount:6,phone:"",email:"samanth@gmail.com",website:"samanth.com",active:!0},{userId:4,name:"Kavin Michael",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:23,phone:"",email:"johnmichael@gmail.com",website:"",active:!0},{userId:5,name:"Ella Smith",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:10,phone:"",email:"alexandra@gmail.com",website:"",active:!0},{userId:6,name:"Martin Michael",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:17,phone:"+1 400 820 8820",email:"john234@gmail.com",website:"john234.com",active:!0},{userId:7,name:"Kelly Smith",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:12,phone:"+1 400 820 8820",email:"alexsmith@gmail.com",website:"",active:!0},{userId:8,name:"Monica Ivy",avatar:"img/theme/team-3.jpg",createTime:"",updateTime:"",studentCount:6,phone:"",email:"samanth@gmail.com",website:"samanth.com",active:!0},{userId:9,name:"Maurice Michael",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:23,phone:"",email:"johnmichael@gmail.com",website:"",active:!0},{userId:10,name:"Aleno Smith",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:10,phone:"",email:"alexandra@gmail.com",website:"",active:!0},{userId:11,name:"Jack Michael",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:17,phone:"+1 400 820 8820",email:"john234@gmail.com",website:"john234.com",active:!0},{userId:12,name:"Sophia",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:12,phone:"+1 400 820 8820",email:"alexsmith@gmail.com",website:"",active:!0},{userId:13,name:"Vivian",avatar:"img/theme/team-3.jpg",createTime:"",updateTime:"",studentCount:6,phone:"",email:"samanth@gmail.com",website:"samanth.com",active:!0},{userId:14,name:"Simon",avatar:"img/theme/team-1.jpg",createTime:"",updateTime:"",studentCount:23,phone:"",email:"johnmichael@gmail.com",website:"",active:!0},{userId:15,name:"Susan",avatar:"img/theme/team-2.jpg",createTime:"",updateTime:"",studentCount:10,phone:"",email:"alexandra@gmail.com",website:"",active:!0}].sort((function(e,t){return(e.name+"").localeCompare(t.name+"")})),E=[],S=a("93d5"),_=a("cd92"),M={name:"inline-actions-table",components:(i={},Object(o["a"])(i,D.a.name,D.a),Object(o["a"])(i,u.a.name,u.a),Object(o["a"])(i,c.a.name,c.a),Object(o["a"])(i,f.a.name,f.a),Object(o["a"])(i,v.a.name,v.a),Object(o["a"])(i,h.a.name,h.a),Object(o["a"])(i,"letterIndex",S["a"]),Object(o["a"])(i,"ButtonRadioGroup",_["a"]),i),data:function(){return{letter:"",users:T,archive:E,currentPage:1,currentPage2:1,isInvalid:!1,deleteArchive:!1,fullName:"",phone:"",email:"",url:"",index:-1,currentGroup:"active",teacherListOptions:[{value:"active",label:"Active"},{value:"archived",label:"Archived"}]}},mounted:function(){var e=this;k["a"].$on("onActive",(function(t){e.onActive(t),console.log(e.archive)})),k["a"].$on("onArchive",(function(t){e.onArchive(t)})),k["a"].$on("confirmDelete",(function(t){t.active?e.onDelete(t):e.onDeleteArchive(t),e.confirmDelete()})),e.users.length>0&&(e.letter=e.users[0].name.substring(0,1).toUpperCase()),b()("#teacherList").find(".el-table__body-wrapper").eq(0).scroll((function(){var t=b()("#teacherList").find(".el-table__body-wrapper").eq(0),a=t.scrollTop(),i=parseInt(a/80);e.letter=e.users[i].name.substring(0,1).toUpperCase()})),e.initClick()},watch:{currentGroup:function(e,t){var a=this;setTimeout((function(){a.initClick()}),500)}},methods:{initClick:function(){for(var e=this,t=document.getElementById("teacherList"),a=t.getElementsByClassName("el-table__row"),i=function(){var t=n;a[n].onclick=function(i){"button"!==i.target.localName&&(b()(".tk-selected").removeClass("tk-selected"),a[t].classList.add("tk-selected"),e.preview(e.users[t]))}},n=0;n<a.length;n++)i()},addLesson:function(e){console.log(e)},invite:function(e){console.log(e)},indexByLetter:function(e){for(var t=this,a=e.letter,i=0,n=0;n<t.users.length;n++)if(t.users[n].name.substring(0,1).toUpperCase()==a){i=n;break}b()("#teacherList").find(".el-table__body-wrapper").eq(0).scrollTop(80*i)},preview:function(e){this.$emit("preview",e)},onDelete:function(e){var t=this;t.users.some((function(a,i){a.id===e.id&&(t.index=i)}))},onDeleteArchive:function(e){var t=this;t.archive.some((function(a,i){a.id===e.id&&(t.index=i,t.deleteArchive=!0)}))},confirmDelete:function(){var e=this;e.deleteArchive?(e.archive.splice(e.index,1),e.deleteArchive=!1):e.users.splice(e.index,1),e.index=-1},onArchive:function(e){},onActive:function(e){}}},A=M,L=a("c701"),N=Object(L["a"])(A,x,C,!1,null,null,null),Y=N.exports,O=a("db0b"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tk-px-padding-top-px20 tk-px-padding-bottom-px20 tk-border-bottom-color-gray-200",on:{click:function(t){return t.preventDefault(),e.showLessonDetail(t)}}},[a("span",{staticClass:"avatar avatar-lg rounded-circle tk-layout-inline-block tk-border-color-white tk-text-center text-lg",class:{"tk-bg-color-card8 tk-font-color-white":e.isNull(e.data.avatar),"tk-bg-color-gray-200":!e.isNull(e.data.avatar)},staticStyle:{"line-height":"58px"}},[e.isNull(e.data.avatar)?a("span",[e._v(e._s(e.getFirstLetter(e.data.name)))]):e._e(),a("img",{attrs:{src:e.data.avatar}})]),a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px20",staticStyle:{width:"calc(100% - 20px - 80px)"}},[a("div",{staticClass:"tk-font-weight-bold"},[a("span",{staticClass:"tk-layout-inline-block lh-1",staticStyle:{width:"calc(100% - 32px)"}},[e._v(e._s(e.data.name))])]),a("div",{staticClass:"tk-px-margin-top-px5"},[a("span",{staticClass:"avatar avatar-xs rounded-circle tk-layout-inline-block tk-px-margin-right-px8 tk-text-center text-xs"},[a("img",{attrs:{src:e.data.icon}})]),a("span",{staticClass:"tk-layout-inline-block tk-font-color-gray lh-120",staticStyle:{width:"calc(100% - 32px)"}},[e._v(e._s(e.data.lessonTypeName))])]),a("div",{staticClass:"tk-font-color-lightGray tk-px-margin-right-px24 lh-120 tk-px-margin-top-px8"},[a("span",[e._v(e._s(e.data.schedule)+", "+e._s(e.data.repeat)+" "+e._s(e.data.timeLength)+", "+e._s(e.data.price))])])])])},q=[],I={props:{data:{default:function(){return{}}}},created:function(){},methods:{showLessonDetail:function(){this.$emit("showLessonDetail",this.data)},isNull:function(e){return this.$tools.isNull(e)},getFirstLetter:function(e){return this.$tools.getFirstLetter(e)}}},F=I,R=Object(L["a"])(F,P,q,!1,null,null,null),j=R.exports,U=[{id:1,name:"Kelly K.",avatar:"/img/theme/team-4.jpg",instrument:"Piano",icon:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FPiano.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",lessonTypeName:"Standard Theory",price:"$65.00",timeLength:"60min",repeatType:"Weekly",schedule:"Sat. 6pm"},{id:2,name:"Kelly K.",avatar:"",instrument:"Piano",icon:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FPiano.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",lessonTypeName:"Standard Theory",price:"$65.00",timeLength:"60min",repeatType:"Weekly",schedule:"Sat. 6pm"},{id:3,name:"Kelly K.",avatar:"",instrument:"Piano",icon:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FPiano.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",lessonTypeName:"Standard Theory",price:"$65.00",timeLength:"60min",repeatType:"Weekly",schedule:"Sat. 6pm"}],W=a("a6a9"),G=a("6e4c"),H={components:(n={InlineActionsTable:Y},Object(o["a"])(n,f.a.name,f.a),Object(o["a"])(n,v.a.name,v.a),Object(o["a"])(n,h.a.name,h.a),Object(o["a"])(n,u.a.name,u.a),Object(o["a"])(n,c.a.name,c.a),Object(o["a"])(n,"UserBasicInfo",O["a"]),Object(o["a"])(n,"CreateStudent",W["a"]),Object(o["a"])(n,"TeacherLessonItem",j),Object(o["a"])(n,"SearchBarWithAvatar",G["a"]),n),data:function(){return{showCreateNewTeacher:!1,showDelete:!1,showEditTeacher:!1,deleteActive:!1,fullName:"",phone:"",email:"",url:"",isInvalid:!1,showPreview:!1,previewData:{},testStudentData:{},lessons:U,editLesson:!1,showEditLessonDetail:!1,showAddNewLesson:!1}},methods:{showLessonDetail:function(e){var t=this;t.editLesson||(t.showEditLessonDetail=!0,t.testStudentData.name=e.name,t.testStudentData.image="",t.testStudentData.email="test-email@tunkey.app")},deleteLesson:function(e){this.lessons.splice(e,1)},toggleEditLesson:function(){var e=this;e.editLesson=!e.editLesson,b()("#addNewLesson").slideToggle()},validationEmail:function(){var e=this;e.$tools.isNull(e.email)?e.isInvalid=!1:e.isInvalid=!e.$tools.isEmail(e.email)},preview:function(e){var t=this;t.showPreview=!0,t.previewData=e,t.fullName=t.previewData.name,t.email=t.previewData.email,t.phone=t.previewData.phone,t.url=t.previewData.url},onActive:function(){var e=this;e.previewData.active=!0,k["a"].$emit("onActive",e.previewData)},onDeleteArchive:function(){var e=this;e.deleteActive=!1,e.showDelete=!0},onDelete:function(){var e=this;e.deleteActive=!0,e.showDelete=!0},onArchive:function(){var e=this;e.previewData.active=!1,k["a"].$emit("onArchive",e.previewData)},confirmDelete:function(){var e=this;k["a"].$emit("confirmDelete",e.previewData),e.showDelete=!1,e.showPreview=!1}}},B=H,$=Object(L["a"])(B,s,r,!1,null,null,null);t["default"]=$.exports},"17c9":function(e,t,a){var i=a("aad0"),n=a("7b58"),s="​᠎";e.exports=function(e){return i((function(){return!!n[e]()||s[e]()!=s||n[e].name!==e}))}},"3e83":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("2522"),a("de78"),a("6019"),a("c585"),a("a0ef"),a("281b");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}},"65fa":function(e,t,a){var i=a("35a9"),n=a("efd0"),s=a("1b38"),r=a("5cd0"),o=a("30cf").f,l=a("6b64").f,c=a("123c"),d=a("2d0b"),u=a("d8cf"),p=a("d496"),h=a("aad0"),m=a("f806").set,v=a("47c3"),g=a("6d05"),f=g("match"),k=n.RegExp,y=k.prototype,b=/a/g,x=/a/g,C=new k(b)!==b,w=u.UNSUPPORTED_Y,D=i&&s("RegExp",!C||w||h((function(){return x[f]=!1,k(b)!=b||k(x)==x||"/a/i"!=k(b,"i")})));if(D){var T=function(e,t){var a,i=this instanceof T,n=c(e),s=void 0===t;if(!i&&n&&e.constructor===T&&s)return e;C?n&&!s&&(e=e.source):e instanceof T&&(s&&(t=d.call(e)),e=e.source),w&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var o=r(C?new k(e,t):k(e,t),i?this:y,T);return w&&a&&m(o,{sticky:a}),o},E=function(e){e in T||o(T,e,{configurable:!0,get:function(){return k[e]},set:function(t){k[e]=t}})},S=l(k),_=0;while(S.length>_)E(S[_++]);y.constructor=T,T.prototype=y,p(n,"RegExp",T)}v("RegExp")},"6e4c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tk-px-padding-px20"},[e._m(0),a("div",{staticClass:"avatar avatar-sm rounded-circle tk-bg-color-lightGray tk-layout-inline-block tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.showProfile(t)}}},[a("img",{attrs:{src:"https://demos.creative-tim.com/vue-argon-dashboard-pro//img/theme/team-4.jpg"}})])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"navbar-search tk-layout-inline-block",staticStyle:{width:"calc(100% - 36px - 1rem)","margin-right":"1rem"}},[a("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[a("div",{staticClass:"input-group input-group-alternative input-group-merge tk-border-color-gray-200",staticStyle:{"box-shadow":"none",height:"38px","background-color":"#eff7f5"}},[a("div",{staticClass:"input-group-prepend tk-layout-full-height"},[a("span",{staticClass:"input-group-text",staticStyle:{"padding-top":"6px","padding-bottom":"4px"}},[a("i",{staticClass:"fas fa-search"})])]),a("input",{staticClass:"form-control text-left tk-layout-full-height tk-font-color-gray ls-15",staticStyle:{"padding-top":"5px","padding-bottom":"5px",width:"calc(100% - 54px)"},attrs:{placeholder:"Search",type:"text"}})])])])}],s=a("f5ef"),r={methods:{showProfile:function(){s["a"].$emit("showProfile")}}},o=r,l=a("c701"),c=Object(l["a"])(o,i,n,!1,null,null,null);t["a"]=c.exports},8937:function(e,t){var a=a||{};(function(e,t){"use strict";var a=function(){var e=window.navigator,t=e.userAgent,a=t.match(/(Android)[\s\/]+([\d\.]+)/),i=t.match(/(iPad|iPhone|iPod)\s+OS\s([\d_\.]+)/),n=t.match(/(Windows\s+Phone)\s([\d\.]+)/),s=/WebKit\/[\d.]+/i.test(t),r=!!i&&(e.standalone?s:/Safari/i.test(t)&&!/CriOS/i.test(t)&&!/MQQBrowser/i.test(t)),o={};return a&&(o.android=!0,o.version=a[2]),i&&(o.ios=!0,o.version=i[2].replace(/_/g,"."),o.ios7=/^7/.test(o.version),"iPad"===i[1]?o.ipad=!0:"iPhone"===i[1]?(o.iphone=!0,o.iphone5=568==screen.height):"iPod"===i[1]&&(o.ipod=!0)),n&&(o.wp=!0,o.version=n[2],o.wp8=/^8/.test(o.version)),s&&(o.webkit=!0),r&&(o.safari=!0),o}(),i={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"mouseout"},n={getType:function(e){return Object.prototype.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},getSelector:function(e){if(e.id)return"#"+e.id;if(e.className){var t=e.className.split(/\s+/);return"."+t.join(".")}return e===document?"body":e.tagName.toLowerCase()},matchSelector:function(e,t){return e.webkitMatchesSelector(t)},getEventListeners:function(e){return e.listeners},getPCevts:function(e){return i[e]||e},forceReflow:function(){var e=document.getElementById("domTreeOp");e||(e=document.createElement("div"),e.id="domTreeOp",document.body.appendChild(e));var t=e.parentNode,a=e.nextSibling;t.removeChild(e),t.insertBefore(e,a)},simpleClone:function(e){return JSON.parse(JSON.stringify(e))}},s={start:null,move:null,end:null},r=0,o=!1,l=!1,c=!1,d={},u=!1,p=null,h=!1,m=null,v=1,g=!1,f=[],k=0,y=0,b=0,x=null,C=0,w=[],D=function(e,t,a){a=a||{};var i,n={bubbles:!0,cancelable:!0,detail:a};"undefined"!==typeof CustomEvent?(i=new CustomEvent(t,n),e&&e.dispatchEvent(i)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,a),e&&e.dispatchEvent(i))},T=function(e,t,i){e.listeners=e.listeners||{},e.listeners[t]?e.listeners[t].push(i):e.listeners[t]=[i];var s=function(e){for(var t in a.ios7&&n.forceReflow(),e.originEvent=e,e.startRotate=function(){g=!0},e.detail)"type"!==t&&(e[t]=e.detail[t]);var s=i.call(e.target,e);"undefined"===typeof s||s||(e.stopPropagation(),e.preventDefault())};i.proxy=i.proxy||{},i.proxy[t]?i.proxy[t].push(C++):i.proxy[t]=[C++],w.push(s),e.addEventListener&&e.addEventListener(t,s,!1)},E=function(e,t,a){if(a){var i=a.proxy[t];i&&i.length&&i.forEach((function(a){e.removeEventListener&&e.removeEventListener(t,w[a],!1)}))}else{var n=e.listeners[t];n&&n.length&&n.forEach((function(a){e.removeEventListener(t,a,!1)}))}},S=function(e,t,i,s){var r=function(t){var r,o;for(var l in t.originEvent=t,t.startRotate=function(){g=!0},t.detail)"type"!==l&&(t[l]=t.detail[l]);var c=n.getSelector(e)+" "+i,d=n.matchSelector(t.target,c),u=n.matchSelector(t.target,c+" "+t.target.nodeName);if(!d&&u){a.ios7&&n.forceReflow(),r=t.target;while(!n.matchSelector(r,c))r=r.parentNode;o=s.call(t.target,t),"undefined"===typeof o||o||(t.stopPropagation(),t.preventDefault())}else a.ios7&&n.forceReflow(),(d||u)&&(o=s.call(t.target,t),"undefined"===typeof o||o||(t.stopPropagation(),t.preventDefault()))};s.proxy=s.proxy||{},s.proxy[t]?s.proxy[t].push(C++):s.proxy[t]=[C++],w.push(r),e.listeners=e.listeners||{},e.listeners[t]?e.listeners[t].push(r):e.listeners[t]=[r],e.addEventListener&&e.addEventListener(t,r,!1)},_=function(e,t,a,i){if(i){var n=i.proxy[t];n.length&&n.forEach((function(a){e.removeEventListener&&e.removeEventListener(t,w[a],!1)}))}else{var s=e.listeners[t];s.forEach((function(a){e.removeEventListener(t,a,!1)}))}},M={tap:!0,doubleTap:!0,tapMaxDistance:10,hold:!0,holdTime:650,maxDoubleTapInterval:300,swipe:!0,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:!0,pinch:!0,minScaleRate:0,minRotationAngle:0},A="ontouchstart"in window,L={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",PINCH_START:"pinchstart",PINCH_END:"pinchend",PINCH:"pinch",PINCH_IN:"pinchin",PINCH_OUT:"pinchout",ROTATION_LEFT:"rotateleft",ROTATION_RIGHT:"rotateright",ROTATION:"rotate",SWIPE_START:"swipestart",SWIPING:"swiping",SWIPE_END:"swipeend",SWIPE_LEFT:"swipeleft",SWIPE_RIGHT:"swiperight",SWIPE_UP:"swipeup",SWIPE_DOWN:"swipedown",SWIPE:"swipe",DRAG:"drag",DRAGSTART:"dragstart",DRAGEND:"dragend",HOLD:"hold",TAP:"tap",DOUBLE_TAP:"doubletap"};function N(e){if(A){for(var t=[],a=null,i=0,n=e.touches.length;i<n;i++)a=e.touches[i],t.push({x:a.pageX,y:a.pageY});return t}return[{x:e.pageX,y:e.pageY}]}function Y(e,t){var a=t.x-e.x,i=t.y-e.y;return Math.sqrt(a*a+i*i)}function O(e){return e.touches?e.touches.length:1}function P(e,t){if(e.length>=2&&t.length>=2){var a=Y(e[1],e[0]),i=Y(t[1],t[0]);return i/a}return 1}function q(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function I(e,t){var a=Math.atan(-1*(t.y-e.y)/(t.x-e.x))*(180/Math.PI);return a<0?a+180:a}function F(e){var t={up:e<-45&&e>-135,down:e>=45&&e<135,left:e>=135||e<=-135,right:e>=-45&&e<=45};for(var a in t)if(t[a])return a;return null}function R(e){var t=0,a=0;while(e.offsetParent)t+=e.offsetLeft,a+=e.offsetTop,e=e.offsetParent;return{left:t,top:a}}function j(){null,h=u=o=l=!1,c=!1,s={},g=!1}function U(e){return"touchmove"===e.type||"mousemove"===e.type}function W(e){return"touchend"===e.type||"mouseup"===e.type||"touchcancel"===e.type}var G={_getAngleDiff:function(e){var t=parseInt(k-I(e[0],e[1]),10),a=0;while(Math.abs(t-y)>90&&a++<50)y<0?t-=180:t+=180;return y=parseInt(t,10),y},pinch:function(e){var t=e.target;if(M.pinch){if(!u)return;if(O(e)<2&&!W(e))return;var a=P(s.start,s.move),i=this._getAngleDiff(s.move),r={type:"",originEvent:e,scale:a,rotation:i,direction:i>0?"right":"left",fingersCount:O(e)};if(l?U(e)?(r.fingerStatus="move",D(t,L.PINCH,r)):W(e)&&(r.fingerStatus="end",D(t,L.PINCH_END,r),j()):(l=!0,r.fingerStatus="start",D(t,L.PINCH_START,r)),Math.abs(1-a)>M.minScaleRate){var o=n.simpleClone(r),c=1e-11;a>v?(v=a-c,D(t,L.PINCH_OUT,o,!1)):a<v&&(v=a+c,D(t,L.PINCH_IN,o,!1)),W(e)&&(v=1)}if(Math.abs(i)>M.minRotationAngle){var d,p=n.simpleClone(r);d=i>0?L.ROTATION_RIGHT:L.ROTATION_LEFT,D(t,d,p,!1),D(t,L.ROTATION,r)}}},rotateSingleFinger:function(e){var t=e.target;if(g&&O(e)<2){if(!s.move)return;if(f.length<2){var a=R(t);f=[{x:a.left+t.offsetWidth/2,y:a.top+t.offsetHeight/2},s.move[0]],k=parseInt(I(f[0],f[1]),10)}var i=[f[0],s.move[0]],n=this._getAngleDiff(i),r={type:"",originEvent:e,rotation:n,direction:n>0?"right":"left",fingersCount:O(e)};U(e)?r.fingerStatus="move":(W(e)||"mouseout"===e.type)&&(r.fingerStatus="end",D(t,L.PINCH_END,r),j());var o=n>0?L.ROTATION_RIGHT:L.ROTATION_LEFT;D(t,o,r),D(t,L.ROTATION,r)}},swipe:function(e){var t=e.target;if(u&&s.move&&!(O(e)>1)){var a=Date.now(),i=a-r,n=Y(s.start[0],s.move[0]),l={x:s.move[0].x-d.left,y:s.move[0].y-d.top},p=q(s.start[0],s.move[0]),h=F(p),m=i/1e3,v=10*(10-M.swipeFactor)*m*m,g={type:L.SWIPE,originEvent:e,position:l,direction:h,distance:n,distanceX:s.move[0].x-s.start[0].x,distanceY:s.move[0].y-s.start[0].y,x:s.move[0].x-s.start[0].x,y:s.move[0].y-s.start[0].y,angle:p,duration:i,fingersCount:O(e),factor:v};if(M.swipe){var f=function(){var e=L;switch(h){case"up":D(t,e.SWIPE_UP,g);break;case"down":D(t,e.SWIPE_DOWN,g);break;case"left":D(t,e.SWIPE_LEFT,g);break;case"right":D(t,e.SWIPE_RIGHT,g);break}};o?U(e)?(e.preventDefault(),g.fingerStatus=g.swipe="move",D(t,L.SWIPING,g),i>M.swipeTime&&i<M.swipeTime+50&&n>M.swipeMinDistance&&(f(),D(t,L.SWIPE,g,!1))):(W(e)||"mouseout"===e.type)&&(g.fingerStatus=g.swipe="end",D(t,L.SWIPE_END,g),M.swipeTime>i&&n>M.swipeMinDistance&&(f(),D(t,L.SWIPE,g,!1))):(g.fingerStatus=g.swipe="start",o=!0,D(t,L.SWIPE_START,g))}M.drag&&(c?U(e)?(g.fingerStatus=g.swipe="move",D(t,L.DRAG,g)):W(e)&&(g.fingerStatus=g.swipe="end",D(t,L.DRAGEND,g)):(g.fingerStatus=g.swipe="start",c=!0,D(t,L.DRAGSTART,g)))}},tap:function(e){var t=e.target;if(M.tap){var a=Date.now(),i=a-r,n=Y(s.start[0],s.move?s.move[0]:s.start[0]);clearTimeout(p);var o=function(){if(x&&M.doubleTap&&r-b<M.maxDoubleTapInterval){var e=Y(x,s.start[0]);if(e<16)return!0}return!1}();if(o)return clearTimeout(m),void D(t,L.DOUBLE_TAP,{type:L.DOUBLE_TAP,originEvent:e,position:s.start[0]});if(M.tapMaxDistance<n)return;M.holdTime>i&&O(e)<=1&&(h=!0,b=a,x=s.start[0],m=setTimeout((function(){D(t,L.TAP,{type:L.TAP,originEvent:e,fingersCount:O(e),position:x})}),220))}},hold:function(e){var t=e.target;M.hold&&(clearTimeout(p),p=setTimeout((function(){if(s.start){var a=Y(s.start[0],s.move?s.move[0]:s.start[0]);M.tapMaxDistance<a||h||D(t,"hold",{type:"hold",originEvent:e,fingersCount:O(e),position:s.start[0]})}}),M.holdTime))}},H=function(e){var t=e.target;switch(e.type){case"touchstart":case"mousedown":f=[],u=!0,(!s.start||s.start.length<2)&&(s.start=N(e)),O(e)>=2&&(k=parseInt(I(s.start[0],s.start[1]),10)),r=Date.now(),e,d={};var a=t.getBoundingClientRect(),i=document.documentElement;d={top:a.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:a.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)},G.hold(e);break;case"touchmove":case"mousemove":if(!u||!s.start)return;s.move=N(e),O(e)>=2?G.pinch(e):g?G.rotateSingleFinger(e):G.swipe(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":if(!u)return;e,l?G.pinch(e):g?G.rotateSingleFinger(e):o?G.swipe(e):G.tap(e),j(),k=0,y=0,e.touches&&1===e.touches.length&&(u=!0,g=!0);break}},B=function(){var t,a,i,s,r=arguments;if(r.length<2||r>4)return console.error("unexpected arguments!");var o="string"===n.getType(r[0])?e.querySelectorAll(r[0]):r[0];if(o=o.length?Array.prototype.slice.call(o):[o],3===r.length&&"string"===n.getType(r[1]))return t=r[1].split(" "),a=r[2],void t.forEach((function(e){A||(e=n.getPCevts(e)),o.forEach((function(t){T(t,e,a)}))}));function l(e){A||(e=n.getPCevts(e)),o.forEach((function(t){S(t,e,s,i[e])}))}if(3!==r.length||"object"!==n.getType(r[1]))if(2!==r.length||"object"!==n.getType(r[1])){if(4===r.length&&"object"===n.getType(r[2]))return t=r[1].split(" "),a=r[3],void t.forEach((function(e){A||(e=n.getPCevts(e)),o.forEach((function(t){T(t,e,a)}))}));if(4===r.length){var c=o[0];return t=r[1].split(" "),s=r[2],a=r[3],void t.forEach((function(e){A||(e=n.getPCevts(e)),S(c,e,s,a)}))}}else for(var d in i=r[1],i)p(d);else for(var u in i=r[1],s=r[2],i)l(u);function p(e){A||(e=n.getPCevts(e)),o.forEach((function(t){T(t,e,i[e])}))}},$=function(){var t,a,i=arguments;if(i.length<1||i.length>4)return console.error("unexpected arguments!");var s="string"===n.getType(i[0])?e.querySelectorAll(i[0]):i[0];if(s=s.length?Array.prototype.slice.call(s):[s],1!==i.length&&2!==i.length){if(3===i.length&&"function"===n.getType(i[2]))return a=i[2],void s.forEach((function(e){t=i[1].split(" "),t.forEach((function(t){A||(t=n.getPCevts(t)),E(e,t,a)}))}));if(3!==i.length||"string"!==n.getType(i[2]))return 4===i.length?(a=i[3],void s.forEach((function(e){t=i[1].split(" "),t.forEach((function(t){A||(t=n.getPCevts(t)),_(e,t,r,a)}))}))):void 0;var r=i[2];s.forEach((function(e){t=i[1].split(" "),t.forEach((function(t){A||(t=n.getPCevts(t)),_(e,t,r)}))}))}else s.forEach((function(e){t=i[1]?i[1].split(" "):Object.keys(e.listeners),t.length&&t.forEach((function(t){A||(t=n.getPCevts(t)),E(e,t),_(e,t)}))}))},X=function(t,a,i){var s=arguments;A||(a=n.getPCevts(a));var r="string"===n.getType(s[0])?e.querySelectorAll(s[0]):s[0];r=r.length?Array.prototype.call(r):[r],r.forEach((function(e){D(e,a,i)}))};function K(){var t=A?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout";B(e,t,H)}K(),t.on=B,t.off=$,t.bind=B,t.unbind=$,t.live=B,t.die=$,t.config=M,t.trigger=X})(document,a),e.exports=a},"93d5":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"tk-letter-index pagination-xs"},e._l(e.letters,(function(t,i){return a("li",{key:t,staticClass:"page-item tk-cursor-pointer"},[a("a",{staticClass:"page-link",on:{click:function(a){return e.indexByLetter(t,i)}}},[e._v(e._s(t))])])})),0)},n=[],s=(a("bfa6"),a("a336")),r=a.n(s),o={name:"letter-index",props:{value:{type:String,default:""}},data:function(){return{letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},mounted:function(){},watch:{value:function(){""!==this.value&&this.indexByLetter(this.value,this.letters.indexOf(this.value))}},methods:{indexByLetter:function(e,t){r()(".tk-letter-index > li").removeClass("active"),r()(".tk-letter-index > li").eq(t).addClass("active"),this.$emit("indexByLetter",{letter:e,index:t})}}},l=o,c=a("c701"),d=Object(c["a"])(l,i,n,!1,null,null,null);t["a"]=d.exports},"948b":function(e,t,a){"use strict";var i=a("3124"),n=a("b973"),s=a("3c6b"),r=a("4a35"),o=a("b804"),l=a("21e0"),c=a("7d5b"),d=a("4057"),u=Math.max,p=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};i("replace",2,(function(e,t,a,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=i.REPLACE_KEEPS_$0,y=f?"$":"$0";return[function(a,i){var n=l(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,n,i):t.call(String(n),a,i)},function(e,i){if(!f&&k||"string"===typeof i&&-1===i.indexOf(y)){var s=a(t,e,this,i);if(s.done)return s.value}var l=n(e),h=String(this),m="function"===typeof i;m||(i=String(i));var v=l.global;if(v){var x=l.unicode;l.lastIndex=0}var C=[];while(1){var w=d(l,h);if(null===w)break;if(C.push(w),!v)break;var D=String(w[0]);""===D&&(l.lastIndex=c(h,r(l.lastIndex),x))}for(var T="",E=0,S=0;S<C.length;S++){w=C[S];for(var _=String(w[0]),M=u(p(o(w.index),h.length),0),A=[],L=1;L<w.length;L++)A.push(g(w[L]));var N=w.groups;if(m){var Y=[_].concat(A,M,h);void 0!==N&&Y.push(N);var O=String(i.apply(void 0,Y))}else O=b(_,h,M,A,N,i);M>=E&&(T+=h.slice(E,M)+O,E=M+_.length)}return T+h.slice(E)}];function b(e,a,i,n,r,o){var l=i+e.length,c=n.length,d=v;return void 0!==r&&(r=s(r),d=m),t.call(o,d,(function(t,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,i);case"'":return a.slice(l);case"<":o=r[s.slice(1,-1)];break;default:var d=+s;if(0===d)return t;if(d>c){var u=h(d/10);return 0===u?t:u<=c?void 0===n[u-1]?s.charAt(1):n[u-1]+s.charAt(1):t}o=n[d-1]}return void 0===o?"":o}))}}))},"94ef":function(e,t,a){"use strict";function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}a.d(t,"a",(function(){return n}))},a6a9:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{staticClass:"tk-popup-outer",attrs:{show:e.show},on:{"update:show":function(t){e.show=t},close:e.close}},[a("template",{on:{close:e.close},slot:"header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e.showBasic?a("span",[e._v(e._s(e.title))]):e._e(),e.showLessonType?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(t){e.showBasic=!0,e.showLessonType=!1}}}),a("span",[e._v("Lesson Types")])]:e._e(),e.showAddLessonType?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(t){e.showAddLessonType=!1,e.showLessonType=!0}}}),a("span",[e._v("Add Lesson Type")])]:e._e(),e.showSelectUser?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(t){e.showBasic=!0,e.showSelectUser=!1}}}),a("span",[e._v(e._s(e.contactLabel))])]:e._e(),e.showSelectStartTime?[a("i",{staticClass:"fas fa-arrow-left tk-font-color-main tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(t){e.showBasic=!0,e.showSelectStartTime=!1}}}),a("span",[e._v("Start On")])]:e._e()],2)]),a("div",{staticClass:"tk-popup-content tk-days",style:{overflowY:e.showSelectStartTime?"hidden":"auto"}},[e.showBasic?a("form",{staticClass:"card-wrapper"},[e.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Full Name")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName,expression:"fullName"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.fullName},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.fullName=t.target.value)}}})])])])]):e._e(),e.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Phone")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.phone},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.phone=t.target.value)}}})])])])]):e._e(),e.showContact?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Email Address")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control tk-font-color-black1",class:{"is-invalid":e.isInvalid},attrs:{type:"text"},domProps:{value:e.email},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},blur:function(t){return t.preventDefault(),e.validationEmail(t)},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isInvalid,expression:"isInvalid"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v(" The email is not correct. ")])])])]):e._e(),e.showContactCard?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v(e._s(e.contactLabel))]),a("div",{staticClass:"card tk-px-margin-bottom-px16 tk-border-color-gray-300"},[a("div",{staticClass:"has-label card-body tk-px-padding-px10"},[a("user-basic-info",{class:{"tk-cursor-pointer":e.selectUser},attrs:{data:e.selectedUser,avatar:"",selectUser:e.selectUser,avatarWidth:48},on:{selectUsers:e.selectUsers}})],1)])])]):e._e(),e.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Lesson type")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label tk-position-relative card-body tk-px-padding-px0"},[[a("div",{staticClass:"form-control tk-cursor-pointer",staticStyle:{height:"auto"},on:{click:function(t){t.preventDefault(),e.showBasic=!1,e.showLessonType=!0}}},[a("div",[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px16"},[a("img",{attrs:{src:e.lessonTypes[0].icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-right-px10",staticStyle:{width:"calc(100% - 48px - 24px - 24px)"}},[a("div",{staticClass:"tk-font-color-black2 h3 tk-px-margin-bottom-px0"},[e._v(" "+e._s(e.lessonTypes[0].name)+" ")]),a("div",{staticClass:"tk-font-color-gray"},[e._v(" "+e._s(e.lessonTypes[0].type)+" ")])]),e.lessonTypes[0].selected?a("div",{staticClass:"tk-layout-inline-block tk-text-right tk-font-color-main tk-text-base",staticStyle:{width:"20px"}},[a("i",{staticClass:"fas fa-angle-right tk-font-color-lightGray"})]):e._e()])])]],2)])])]):e._e(),e.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Starts on")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label tk-position-relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.startsOn,expression:"startsOn"}],staticClass:"form-control tk-font-color-black1 tk-cursor-pointer",attrs:{type:"text"},domProps:{value:e.startsOn},on:{focus:function(t){e.showSelectStartTime=!0,e.showBasic=!1},input:function(t){t.target.composing||(e.startsOn=t.target.value)}}}),a("i",{staticClass:"fas fa-angle-right tk-position-absolute tk-font-color-lightGray",staticStyle:{right:"16px",top:"16px"}})])])])]):e._e(),e.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"form-control",staticStyle:{height:"auto"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Recurrence")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:e.recurrenceOpen,callback:function(t){e.recurrenceOpen=t},expression:"recurrenceOpen"}}),e.recurrenceOpen?[a("div",[a("div",{staticClass:"tk-cursor-pointer tk-border-bottom-color-gray-200 tk-px-padding-top-px24 tk-px-padding-bottom-px16",on:{click:function(t){t.preventDefault(),e.weekly=!0}}},[a("span",{staticClass:"tk-font-color-black1"},[e._v("Weekly")]),e.weekly?a("i",{staticClass:"fas fa-check tk-font-color-main tk-px-margin-top-px5 tk-px-margin-right-px8",staticStyle:{float:"right"}}):e._e(),e.weekly?a("div",{staticClass:"tk-text-center tk-px-margin-top-px10"},[e._l(e.week,(function(t,i){return[a("div",{key:i,staticClass:"tk-px-width-px40 tk-px-height-px40 tk-border-color-gray-200 tk-px-radius-px5 tk-cursor-pointer tk-layout-inline-block",class:{"tk-bg-color-main tk-border-color-main tk-font-color-white":t.selected},staticStyle:{"line-height":"40px","user-select":"none"},on:{click:function(e){e.preventDefault(),t.selected=!t.selected}}},[e._v(" "+e._s(t.label)+" ")])]}))],2):e._e()])]),a("div",[a("div",{staticClass:"tk-cursor-pointer tk-px-padding-top-px16 tk-px-padding-bottom-px10",on:{click:function(t){t.preventDefault(),e.weekly=!1}}},[a("span",{staticClass:"tk-font-color-black1"},[e._v("Bi-weekly")]),e.weekly?e._e():a("i",{staticClass:"fas fa-check tk-font-color-main tk-px-margin-top-px5 tk-px-margin-right-px8",staticStyle:{float:"right"}}),e.weekly?e._e():a("div",{staticClass:"tk-text-center tk-px-margin-top-px10"},[e._l(e.week,(function(t,i){return[a("div",{key:i,staticClass:"tk-px-width-px40 tk-px-height-px40 tk-border-color-gray-200 tk-px-radius-px5 tk-cursor-pointer tk-layout-inline-block",class:{"tk-bg-color-main tk-border-color-main tk-font-color-white":t.selected},staticStyle:{"line-height":"40px","user-select":"none"},on:{click:function(e){e.preventDefault(),t.selected=!t.selected}}},[e._v(" "+e._s(t.label)+" ")])]}))],2)])])]:e._e()],2)])])]):e._e(),e.recurrenceOpen&&e.showLessonConfig?a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"form-control",staticStyle:{height:"auto"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Ends")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:e.endsOpen,callback:function(t){e.endsOpen=t},expression:"endsOpen"}}),e.endsOpen?[a("div",{staticClass:"tk-px-margin-top-px20 tk-px-margin-bottom-px10"},[a("base-radio",{staticClass:"tk-layout-inline-block",attrs:{name:"endsOn1"},model:{value:e.ends.radio,callback:function(t){e.$set(e.ends,"radio",t)},expression:"ends.radio"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[e._v("Ends on")])]),a("flat-picker",{staticClass:"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-left-px10 tk-px-height-px36",attrs:{config:{allowInput:!0}},model:{value:e.ends.date,callback:function(t){e.$set(e.ends,"date",t)},expression:"ends.date"}})],1),a("div",[a("base-radio",{staticClass:"tk-layout-inline-block",attrs:{name:"endsOn2"},model:{value:e.ends.radio,callback:function(t){e.$set(e.ends,"radio",t)},expression:"ends.radio"}},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[e._v("Ends after")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ends.count,expression:"ends.count"}],staticClass:"form-control form-control-muted tk-px-width-px48 tk-px-height-px36 tk-px-margin-left-px10 tk-px-margin-right-px10 tk-layout-inline-block tk-text-center tk-font-color-gray",attrs:{type:"text"},domProps:{value:e.ends.count},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.ends,"count",t.target.value)}}}),a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1"},[e._v("currence")])],1)]:e._e()],2)])])]):e._e()]):e._e(),e.showLessonType?a("div",{staticClass:"card-wrapper"},[e._l(e.lessonTypes,(function(t,i){return[a("div",{key:i,staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16 tk-cursor-pointer",on:{click:function(a){a.preventDefault(),t.selected=!t.selected,e.lessonType=t.type}}},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px16"},[a("img",{attrs:{src:t.icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-px-margin-right-px10",staticStyle:{width:"calc(100% - 48px - 24px - 24px)"}},[a("div",{staticClass:"tk-font-color-black2 h3 tk-px-margin-bottom-px0"},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"tk-font-color-gray"},[e._v(" "+e._s(t.type)+" ")])]),t.selected?a("div",{staticClass:"tk-layout-inline-block tk-text-center tk-font-color-main",staticStyle:{width:"20px"}},[a("i",{staticClass:"fas fa-check"})]):e._e()])])]})),a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16 tk-cursor-pointer",on:{click:function(t){t.preventDefault(),e.showLessonType=!1,e.showAddLessonType=!0}}},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px10 tk-bg-color-white tk-text-center tk-font-color-main tk-border-color-gray-200",staticStyle:{"line-height":"46px"}},[a("i",{staticClass:"fas fa-plus"})]),a("div",{staticClass:"tk-layout-inline-block tk-font-color-main h3 tk-px-margin-bottom-px0",staticStyle:{width:"calc(100% - 50px - 10px)"}},[e._v(" New type ")])])])],2):e._e(),e.showAddLessonType?a("div",{staticClass:"card-wrapper"},[a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Name of lesson type")]),a("div",{staticClass:"card tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newType.name,expression:"newType.name"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.newType.name},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.newType,"name",t.target.value)}}})])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("div",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-px-margin-right-px10 tk-bg-color-gray-200 tk-border-color-gray-200"},[a("img",{attrs:{src:e.newType.icon}})]),a("div",{staticClass:"tk-layout-inline-block tk-font-color-main tk-text-right tk-cursor-pointer",staticStyle:{width:"calc(100% - 64px)"},on:{click:function(t){t.preventDefault(),e.showInstruments=!e.showInstruments}}},[a("span",{staticClass:"tk-layout-inline-block text-xs"},[e._v("Select an icon")]),a("i",{staticClass:"fas fa-angle-down tk-layout-inline-block tk-px-margin-left-px8"})]),e.showInstruments?a("div",{staticClass:"tk-text-center"},[e._l(e.instruments,(function(t,i){return[a("div",{key:i,staticClass:"tk-layout-inline-block tk-px-margin-top-px16 tk-px-margin-right-px16 tk-cursor-pointer",on:{click:function(a){a.preventDefault(),e.newType.icon=t.url,e.showInstruments=!1}}},[a("div",{staticClass:"avatar avatar-lg rounded-circle tk-bg-color-gray-200 tk-border-color-gray-200"},[a("img",{attrs:{src:t.url}})]),a("div",{staticClass:"tk-font-color-lightGray text-xs"},[e._v(" "+e._s(t.name)+" ")])])]}))],2):e._e()])])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Duration(min)")]),a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"has-label card-body tk-px-padding-px16"},[e._l(e.durations,(function(t,i){return[a("div",{key:i,staticClass:"tk-layout-inline-block tk-px-radius-px5 tk-px-padding-top-px10 tk-px-margin-right-px10 tk-px-padding-bottom-px10 tk-text-center tk-cursor-pointer",class:{"tk-border-color-main tk-font-color-main":t.selected,"tk-border-color-gray-300 tk-font-color-gray":!t.selected,"tk-px-margin-bottom-px10":i<4},staticStyle:{width:"calc(25% - 10px)"},on:{click:function(a){return a.preventDefault(),e.selectDuration(t)}}},[e._v(" "+e._s(t.length)+" ")])]}))],2)])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-border-color-gray-300 tk-px-margin-bottom-px16"},[a("div",{staticClass:"card-body tk-px-padding-px16"},[a("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[e._v("Package option")]),a("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:e.newType.packageOpen,callback:function(t){e.$set(e.newType,"packageOpen",t)},expression:"newType.packageOpen"}}),e.newType.packageOpen?a("div",{staticClass:"invalid-feedback tk-font-color-gray tk-px-margin-top-px10",staticStyle:{display:"block"}},[a("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"}},[a("span",[e._v(e._s(e.newType.package)+" lessons")]),a("i",{staticClass:"fas fa-caret-down"})]),a("span",[e._v("required")])],1):e._e()],1)])])]),a("span",[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("label",{staticClass:"form-control-label"},[e._v("Price / lesson")]),a("div",{staticClass:"card tk-px-margin-bottom-px8"},[a("div",{staticClass:"has-label card-body tk-px-padding-px0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newType.price,expression:"newType.price"}],staticClass:"form-control tk-font-color-black1",attrs:{type:"text"},domProps:{value:e.newType.price},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.newType,"price",t.target.value)}}})])]),a("div",{staticClass:"invalid-feedback tk-font-color-lightGray",staticStyle:{display:"block"}},[e._v(" Invisible for students ")])])])]):e._e(),e.showSelectUser?a("div",{staticClass:"card-wrapper"},e._l(e.users,(function(t,i){return a("span",{key:i},[a("div",{staticClass:"form-group card-wrapper tk-px-margin-bottom-px0"},[a("div",{staticClass:"card tk-px-margin-bottom-px16 tk-border-color-gray-300"},[a("div",{staticClass:"card-body tk-px-padding-px10"},[a("user-basic-info",{staticClass:"tk-cursor-pointer",attrs:{data:t,compareData:e.selectedUser,avatar:"",avatarWidth:48,checkUser:!0},on:{selectUsers:e.selectUsers}})],1)])])])})),0):e._e(),e.showSelectStartTime?a("div",[a("lesson-time",{on:{getAvailableTime:e.getAvailableTime}})],1):e._e()]),e.showBasic?a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("Close")]),e.isEdit?a("base-button",{staticClass:"tk-font-color-white tk-bg-color-main tk-border-none",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v("Update")]):a("base-button",{staticClass:"tk-font-color-white tk-bg-color-main tk-border-none",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.sendInvite(t)}}},[e._v(e._s(e.footBtn))])],1):e._e(),e.showAddLessonType?a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-font-color-white tk-bg-color-main tk-border-none",attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.showAddLessonType=!1,e.showLessonType=!0}}},[e._v("Save")])],1):e._e(),e.showSelectStartTime?a("template",{slot:"footer"},[a("base-button",{staticClass:"tk-border-none",class:{"tk-font-color-lightGray tk-bg-color-gray-200":0===e.availableTime,"tk-font-color-white tk-bg-color-main":0!==e.availableTime},attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.showSelectStartTime=!1,e.showBasic=!0}}},[e._v("Confirm")])],1):e._e()],2)},n=[],s=(a("a088"),a("eb5b"),a("28f8")),r=a("85db"),o=a.n(r),l=(a("ca72"),a("db0b")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.ready?a("div",{staticStyle:{"user-select":"none"},attrs:{id:"container"}},[e._m(0),e._m(1),a("div",{attrs:{id:"bottom"}},[a("div",{attrs:{id:"left"}}),a("div",{attrs:{id:"middle"}},[a("div",{attrs:{id:"middleContainer"},on:{swiping:function(t){return t.stopPropagation(),e.swipingMiddle(t)},swipeend:function(t){return t.stopPropagation(),e.swipeendMiddle(t)}}})])])]):a("div",{attrs:{id:"loadingContainer"}},[a("svg",{staticStyle:{position:"absolute",top:"50%",left:"50%",width:"48px",height:"48px",transform:"translate(-50%, -50%)"},attrs:{version:"1.1",id:"L9",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[a("path",{attrs:{fill:"#71d9c2",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(188.223 50 50)"}},[a("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])])])},d=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"topYM"}},[a("div",{attrs:{id:"topYear"}}),a("div",{attrs:{id:"topMonth"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"top"}},[a("div",{attrs:{id:"topContainer"}})])}],u=(a("d174"),a("a336")),p=a.n(u),h=(a("d40d"),a("e539"),a("e845")),m=a("a593"),v=a("05f2"),g=a.n(v);m["default"].use(g.a);var f={props:{originTimeLength:{type:Number,default:30},originGridCount:{type:Number,default:2},lessonDays:{type:Number,default:3}},data:function(){return{ready:!0,d:new Date,currentYear:"",currentMonth:"",currentDate:"",currentFormat:"",currentTimestamp:"",firstFormatStr:"",lastFormatStr:"",movable:!0,selectedDayClickable:!0,startIndex:24,endIndex:0,data:[],mergedData:[],allDayData:[],testData:[],isLoaded:!1,startFromTimestamp:0,w:0,marginLeft:0,moveType:0,event:""}},created:function(){var e=this;e.currentYear=e.d.getFullYear(),e.currentMonth=e.d.getMonth()+1,e.currentDate=e.d.getDate(),e.currentFormat=h["a"].getFormatYYMMDD(e.d),e.currentTimestamp=new Date(e.currentFormat).getTime(),console.log("currentFormat: ",e.currentFormat),e.endIndex=96-e.originGridCount,e.startFromTimestamp=e.d.getTime()},mounted:function(){var e=this;h["a"].setVariable(this),h["a"].init(0,e.data,e.startFromTimestamp),e.w=p()("#middleContainer").width()/3,e.marginLeft=parseFloat(p()("#middleContainer").css("marginLeft")),p()("#loadingContainer").remove(),h["a"].addCurrentDayMark(),e.getAgenda([],0,e.originTimeLength),document.addEventListener("touchmove",(function(e){})),document.addEventListener("touchstart",(function(e){})),p()(document).off("click").on("click",".middle-day-time",(function(t){t.stopPropagation(),t.preventDefault();var a=p()(t.target),i=a.parent().index(),n=a.index(),s=p()(".day").eq(i).data("ymd"),r=new Date(s),o=r.getTime()+15*n*60*1e3,l=r.getTime()+15*(n+e.originGridCount)*60*1e3,c=new Date(o).getHours(),d=(new Date(l).getHours(),a.children().length);console.log(a.children());var u=n%4==0?c:(n-1)%4==0?c+.25:(n-2)%4==0?c+.5:c+.75;new Date(s).getTime();if(p()(".selected-day-time").remove(),d>0)for(var m=0;m<d;m++){if(a.children().eq(m).hasClass("middle-day-event-gray")){a.children().eq(0).append("<div class='selected-day-time'></div>");break}m==d-1&&a.append("<div class='selected-day-time'></div>")}else a.append("<div class='selected-day-time'></div>");o<(new Date).getTime()?d>0?(console.log(1),1==d&&"currentTimeMark"==p()(".selected-day-time").eq(0).prev().attr("id")?(console.log(2,e.originGridCount),p()(".selected-day-time").eq(0).addClass("selected-past-day-time"),p()(".selected-day-time").eq(0).css("height",22*e.originGridCount-4),h["a"].findRecentAvailableTime(p()(".selected-day-time").eq(0))):(console.log(3),p()(".selected-day-time").eq(0).addClass("selected-event-day-time"))):(console.log(4),p()(".selected-day-time").eq(0).addClass("selected-past-day-time"),p()(".selected-day-time").eq(0).css("height",22*e.originGridCount-4),h["a"].findRecentAvailableTime(p()(".selected-day-time").eq(0))):(console.log(5),d>0?(console.log(6),p()(".selected-day-time").eq(0).addClass("selected-event-day-time")):(console.log(7,e.originGridCount),p()(".selected-day-time").eq(0).css("height",22*e.originGridCount-4)),1440==a.children().eq(0).data("length")?console.log("block: ",0):(console.log(8),h["a"].avoidConflictTime(p()(".selected-day-time").eq(0))))}))},methods:{getAgenda:function(e,t,a){var i=this;i.isLoaded=!0,a&&(i.originTimeLength=a,i.originGridCount=i.originTimeLength/15),t&&(i.startFromTimestamp=t),i.updateData(e)},updateData:function(e){var t=this;t.data=JSON.parse(JSON.stringify(e)),h["a"].addData(0,t.data)},swipingMiddle:function(e){var t=this;t.currentTimestamp>=new Date(p()(".day").eq(t.lessonDays).data("ymd")).getTime()&&"right"===e.detail.direction||(0===t.moveType&&(t.moveType="left"===e.detail.direction||"right"===e.detail.direction?2:1),2===t.moveType&&h["a"].isHorizontal(e.detail)&&t.movable&&t.moving(e.detail.distanceX))},swipeendMiddle:function(e){var t=this;t.movable&&(t.currentTimestamp>=new Date(p()(".day").eq(t.lessonDays).data("ymd")).getTime()&&"right"===e.detail.direction||(2===t.moveType&&t.moveEnd(e.detail.distanceX),t.moveType=0))},moveEnd:function(e){var t=this;p()("#bottom").css("overflow","auto");var a=!(e>0),i=Math.abs(e),n=i<=t.w/3&&i>=t.w/6,s=i<=t.w/3*2&&i>t.w/3,r=i>t.w/3*2;n&&(t.marginLeft=a?t.marginLeft-t.w/3:t.marginLeft+t.w/3),s&&(t.marginLeft=a?t.marginLeft-t.w/3*2:t.marginLeft+t.w/3*2),r&&(t.marginLeft=a?t.marginLeft-t.w:t.marginLeft+t.w),p()("#middleContainer").animate({marginLeft:t.marginLeft}),p()("#topContainer").animate({marginLeft:t.marginLeft},(function(){n&&(h["a"].updateTableAndDay(1,a,a?t.lastFormatStr:t.firstFormatStr,3),t.updateMarginLeft()),s&&(h["a"].updateTableAndDay(2,a,a?t.lastFormatStr:t.firstFormatStr,3),t.updateMarginLeft()),r&&(h["a"].updateTableAndDay(3,a,a?t.lastFormatStr:t.firstFormatStr,3),t.updateMarginLeft())}))},moving:function(e){var t=this;p()("#middleContainer").css("marginLeft",t.marginLeft+e),p()("#topContainer").css("marginLeft",t.marginLeft+e),p()("#bottom").css("overflow","hidden")},updateMarginLeft:function(){var e=this;e.marginLeft=-e.w,p()("#middleContainer").css("marginLeft",e.marginLeft),p()("#topContainer").css("marginLeft",e.marginLeft);var t=p()(".day.day-3").eq(p()(".day.day-3").length/3).data("ymd");new Date(t).getTime()}}},k=f,y=(a("b85e"),a("c701")),b=Object(y["a"])(k,c,d,!1,null,null,null),x=b.exports,C={props:{data:{default:function(){return null}},contactData:{default:function(){return{}}},footBtn:{type:String,default:"Send Invite"},title:{type:String,default:""},name:{type:String,default:""},contactLabel:{type:String,default:""},isEdit:{type:Boolean,default:!1},showContact:{type:Boolean,default:!0},showLessonConfig:{type:Boolean,default:!0},showContactCard:{type:Boolean,default:!1},selectUser:Object(s["a"])({type:Boolean},"type",!1)},components:{flatPicker:o.a,UserBasicInfo:l["a"],lessonTime:x},data:function(){return{show:!1,showSelectStartTime:!1,showSelectUser:!1,showBasic:!0,showLessonType:!1,showAddLessonType:!1,checked:!1,isInvalid:!1,recurrenceOpen:!0,endsOpen:!1,showInstruments:!1,weekly:!0,fullName:"",phone:"",email:"",lessonType:"",schedule:"",startsOn:"2020/12/12 14:00",repeat:"",lessonTypes:[{icon:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/images%2Finstruments%2F1.png?alt=media&token=9b3f075c-645d-4e1a-bba0-104f504786ee",name:"Standard Private",type:"60minutes, $100",selected:!0}],week:[{label:"Sun",selected:!1,value:0},{label:"Mon",selected:!0,value:1},{label:"Tue",selected:!1,value:2},{label:"Wed",selected:!1,value:3},{label:"Thu",selected:!1,value:4},{label:"Fri",selected:!1,value:5},{label:"Sat",selected:!1,value:6}],ends:{radio:"endsOn1",date:"2020-12-12",count:10},newType:{name:"Standard",price:"",icon:"",packageOpen:!1,package:5,duration:""},durations:[{length:15,selected:!1},{length:30,selected:!1},{length:45,selected:!1},{length:60,selected:!1},{length:75,selected:!1},{length:90,selected:!1},{length:105,selected:!1},{length:120,selected:!1}],instruments:[{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FBass.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Bass Guitar"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FGuitar.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Guitar"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FKeyboard.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Keyboard"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FPiano.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Piano"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FCello.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Cello"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FHarp.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Harp"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FViolin.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Violin"},{url:"https://firebasestorage.googleapis.com/v0/b/tunekey-2019.appspot.com/o/instruments%2FBanjo.png?alt=media&token=6a0f3204-8672-4e8a-82d5-a0511d6b1d39",name:"Banjo"}],users:[{name:"student1",email:"student1@tunekey.app"},{name:"student2",email:"student2@tunekey.app"},{name:"student3",email:"student3@tunekey.app"},{name:"student4",email:"student4@tunekey.app"},{name:"student5",email:"student5@tunekey.app"},{name:"student6",email:"student6@tunekey.app"},{name:"student7",email:"student7@tunekey.app"},{name:"student8",email:"student8@tunekey.app"},{name:"student9",email:"student9@tunekey.app"}],selectedUser:{},availableTime:1}},created:function(){},mounted:function(){var e=this;e.init()},methods:{selectWeekday:function(e){},getAvailableTime:function(e){this.availableTime=e},selectUsers:function(e){var t=this;t.selectUser&&(t.$tools.isNull(e)?(t.showSelectUser=!0,t.showBasic=!1):(t.selectedUser=e,t.showSelectUser=!1,t.showBasic=!0))},close:function(){this.$emit("close"),this.modalClose()},sendInvite:function(){this.$emit("sendInvite"),this.modalClose()},update:function(){this.$emit("update"),this.modalClose()},modalClose:function(){document.getElementsByTagName("body")[0].classList.remove("modal-open")},init:function(){var e=this;e.$tools.isNull(e.name)||(e.fullName=e.name),e.$tools.isNull(e.contactData)||(e.selectedUser=e.contactData),e.$tools.isNull(e.data)||(e.fullName=e.data.name,e.phone=e.data.phone,e.email=e.data.email),setTimeout((function(){e.show=!0}),200)},selectDuration:function(e){var t=this;t.durations.some((function(e){e.selected=!1})),e.selected=!0,t.newType.duration=e.length}}},w=C,D=Object(y["a"])(w,i,n,!1,null,null,null);t["a"]=D.exports},a733:function(e,t,a){"use strict";var i=a("485e"),n=a("0610").trim,s=a("17c9");i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},affd:function(e,t,a){},b85e:function(e,t,a){"use strict";a("affd")},cd92:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn-group-toggle",attrs:{"data-toggle":"buttons"}},e._l(e.options,(function(t,i){return a("label",{key:i,staticClass:"btn",class:[{active:e.value===t.value},e.buttonClasses]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"radio",id:"option1",autocomplete:"off",checked:""},domProps:{value:t.value,checked:e._q(e.model,t.value)},on:{change:function(a){e.model=t.value}}}),e._v(" "+e._s(t.label)+" ")])})),0)},n=[],s={name:"button-radio-group",props:{options:{type:Array,description:'Radio options. Should be an array of objects {value: "", label: ""}',default:function(){return[]}},value:{type:String,description:"Radio value"},buttonClasses:{type:[String,Object],description:"Inner button css classes"}},model:{prop:"value",event:"change"},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("change",e)}}}},r=s,o=a("c701"),l=Object(o["a"])(r,i,n,!1,null,null,null);t["a"]=l.exports},d40d:function(e,t,a){"use strict";(function(e){a("3610"),a("bfa6"),a("eb09"),a("b526"),a("c585"),a("65fa"),a("c368"),a("e412"),a("0416"),a("948b"),a("a870"),a("a733"),a("f644");var t=a("0e4d"),i=a("94ef"),n=function(){function a(e){return Object(t["a"])(this,a),this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null},this.data={minYear:0,maxYear:0,year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this.initialize(e).render().addEventListeners(),this}return Object(i["a"])(a,[{key:"initialize",value:function(e){var t,i,n,s,r,o,l,c=a.getYear().value;switch(this.set(a.defaults).set(e),i=this.get("time"),t=this.get("pickMode"),n=a.getMonth(i),s=n.text,this.setYear(i).setMonth(i).setDate(i)._setYears(i),t){case"multiple":this.data.picked.push(this.getDate().text);break;case"range":o=s+"-1",l=s+"-"+this.get("DATES")[n.value-1],this.data.picked=[o,l];break;case"week":r=a.getWeekRanges(i),o=r[0],l=r[r.length-1],this.data.picked=[o,l];break}return this.data.minYear=c-100,this.data.maxYear=c+100,this._createElements(),this}},{key:"render",value:function(){var e=this.getEls(),t=e.wrap,a=e.header,i=e.switcher,n=e.body,s=e.footer,r=document.createDocumentFragment();return this._renderTitle(),a.appendChild(e.title),this.get("hasSwitcher")&&(i.appendChild(e.prev),i.appendChild(e.next),a.appendChild(i)),this._renderDays(),n.appendChild(e.week),this._renderDates(),n.appendChild(e.dates),this._renderMonths(),n.appendChild(e.months),this._renderYears(),n.appendChild(e.years),this.get("hasFooter")&&(this._renderFooter(),s.appendChild(e.today),this.get("hasClock")&&s.appendChild(e.time)),t.appendChild(a),t.appendChild(n),this.get("hasFooter")&&t.appendChild(s),r.appendChild(t),e.parent.appendChild(r),this}},{key:"addEventListeners",value:function(){var e=".",t=this.get("STYLES"),i="click",n=e+t.TITLE,s=e+t.PREV,r=e+t.NEXT,o=e+t.DATE,l=e+t.MONTH,c=e+t.YEAR,d=e+t.TODAY,u=a.Delegate,p=this.getEls().wrap;return u.on(p,n,i,this._titleClick,this),this.get("hasSwitcher")&&(u.on(p,s,i,this._prevClick,this),u.on(p,r,i,this._nextClick,this)),u.on(p,o,i,this._dateClick,this),u.on(p,l,i,this._monthClick,this),u.on(p,c,i,this._yearClick,this),this.get("hasClock")&&u.on(p,d,i,this._todayClick,this),this}},{key:"reload",value:function(e){return this.destroy().initialize(e).render().addEventListeners(),this}},{key:"destroy",value:function(){return this.removeEventListeners().hide().remove().reset(),this}},{key:"removeEventListeners",value:function(){var e="click",t=a.Delegate,i=this.getEls().wrap;return t.off(i,e,this._titleClick),this.get("hasSwitcher")&&(t.off(i,e,this._prevClick),t.off(i,e,this._nextClick)),t.off(i,e,this._dateClick),t.off(i,e,this._monthClick),t.off(i,e,this._yearClick),this.get("hasClock")&&t.off(i,e,this._todayClick),this}},{key:"remove",value:function(){var e=this.getEls();return e.parent.removeChild(e.wrap),this}},{key:"reset",value:function(){return this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null,year:null,month:null,date:null},this.data={minYear:0,maxYear:0,years:{start:0,end:0},year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this}},{key:"get",value:function(e){return this.attributes[e]}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.attributes,e),this}},{key:"getEls",value:function(){return this.elements}},{key:"getYear",value:function(){return this.data.year}},{key:"setYear",value:function(e){return this.data.year=a.getYear(e).value,this}},{key:"getMonth",value:function(){return this.data.month}},{key:"setMonth",value:function(e){return this.data.month=a.getMonth(e).value,this}},{key:"getDate",value:function(){return this.data.date}},{key:"setDate",value:function(e){return this.data.date=a.getDate(e),this}},{key:"getYears",value:function(){return this.data.years}},{key:"getPicked",value:function(){return this.data.picked}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.updateViewMode(e).updateView(),this}},{key:"updateViewMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e;return t>2?t=2:t<0&&(t=0),this.set({viewMode:t}),this}},{key:"updateView",value:function(){var e=this.get("STYLES"),t=e.HIDDEN,i=a.DOM,n=i.addClass,s=i.removeClass,r=this.getEls(),o=r.week,l=r.dates,c=r.months,d=r.years;switch(this._renderTitle(),this.get("viewMode")){case 0:n(c,t),n(d,t),s(o,t),s(l,t),this._repaintDates();break;case 1:n(o,t),n(l,t),n(d,t),s(c,t),this._repaintMonths();break;case 2:n(o,t),n(l,t),n(c,t),s(d,t),this._repaintYears();break}return this}},{key:"prev",value:function(){var e,t=this.getYears(),a=t.start,i=this.getYear(),n=this.getMonth(),s=this.data.minYear;switch(this.get("viewMode")){case 0:n-=1,n<1&&(n=12,i-=1,i<s&&(i=s)),e=i+"-"+n+"-1",this.setYear(e).setMonth(e);break;case 1:i-=1,i<s&&(i=s),this.setYear(i+"-1-1");break;case 2:a-=10,a<s&&(a=s+9),this._setYears(a.toString());break}return this.updateView(),this}},{key:"next",value:function(){var e,t=this.getYears(),a=t.start,i=this.getYear(),n=this.getMonth(),s=this.data.maxYear;switch(this.get("viewMode")){case 0:n+=1,n>12&&(n=1,i+=1,i>s&&(i=s)),e=i+"-"+n+"-1",this.setYear(e).setMonth(e);break;case 1:i+=1,i>s&&(i=s),this.setYear(i+"-1-1");break;case 2:a+=10,a>s&&(a=s-9),this._setYears(a.toString());break}return this.updateView(),this}},{key:"pickDate",value:function(e){var t,i=this.get("STYLES"),n=i.PICKED,s=a.DOM,r=s.hasClass,o=s.addClass,l=s.removeClass,c=a.Utils.isFunction,d=this.get("pickMode"),u=this.getEls(),p=e.getAttribute("data-date"),h=this.get("onDatePick"),m=null;if(r(e,n))switch(d){case"single":case"week":return!1;case"multiple":l(e,n),this._removePicked(p),t=this.getPicked(),this.setDate(t[t.length-1]),c(h)&&h(t,e,this);break;case"range":this.data.picked=[],this.data.picked.push(p),this.setDate(p),u.date=e,this._updateDateRanges(),c(h)&&h(this.getPicked(),e,this);break}else switch(this.setYear(p).setMonth(p),d){case"single":m=u.date,m&&l(m,n),o(e,n),u.date=e,this.setDate(p),c(h)&&h(p,e,this);break;case"multiple":this.data.picked.push(p),this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),o(e,n),c(h)&&h(this.getPicked(),e,this);break;case"range":switch(this.data.picked.length){case 0:case 1:this.data.picked.push(p),2===this.data.picked.length&&this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),u.date=e,this._updateDateRanges(),c(h)&&h(t,e,this);break;case 2:this.data.picked=[],this.data.picked.push(p),u.date=e,this._updateDateRanges();break}break;case"week":var v=a.getWeekRanges(p);this.data.picked=[v[0],v[v.length-1]],this.setDate(v[v.length-1]),u.date=e,this._updateWeekRanges(),c(h)&&h(this.getPicked(),e,this);break}return this}},{key:"pickMonth",value:function(e){var t=this.get("STYLES").PICKED,i=a.DOM,n=this.getEls(),s=n.month,r=e.getAttribute("data-month"),o=this.get("onMonthPick");return i.hasClass(e,t)?this.update():(s&&i.removeClass(s,t),i.addClass(e,t),n.month=e,this.setYear(r).setMonth(r)._setYears(r).update()),a.Utils.isFunction(o)&&o(r,e,this),this}},{key:"pickYear",value:function(e){var t=this.get("STYLES").PICKED,i=a.DOM,n=this.getEls(),s=n.year,r=e.getAttribute("data-year"),o=this.get("onYearPick");return i.hasClass(e,t)?this.setYear(r).update(1):(s&&i.removeClass(s,t),i.addClass(e,t),n.year=e,this.setYear(r)._setYears(r).update(1)),a.Utils.isFunction(o)&&o(r,e,this),this}},{key:"pickToday",value:function(){var e=a.getToday().value,t=this.get("onTodayPick");return this.setYear(e).setMonth(e).setDate(e)._setYears(e).update(),a.Utils.isFunction(t)&&t(e,this.getEls().dates.querySelector("[data-date="+e+"]"),this),this}},{key:"hide",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return a.DOM.addClass(t,e),this}},{key:"show",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return a.DOM.removeClass(t,e),this}},{key:"toggle",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return a.DOM.hasClass(t,e)?this.show():this.hide(),this}},{key:"_setYears",value:function(e){return this.data.years=a.getYears(e),this}},{key:"_removePicked",value:function(e){var t=this.getPicked(),a=t.indexOf(e);return a>-1&&t.splice(a,1),this}},{key:"_createElements",value:function(){var e=this.get("STYLES"),t=e.WRAP,i=e.WRAP_WITHOUT_FOOTER,n=e.HEADER,s=e.TITLE,r=e.SWITCHER,o=e.PREV,l=e.ICON_PREV,c=e.NEXT,d=e.ICON_NEXT,u=e.BODY,p=e.WEEK,h=e.DATES,m=e.MONTHS,v=e.YEARS,g=e.FOOTER,f=e.FOOTER_DATE,k=e.TODAY,y=e.FOOTER_TIME,b=e.TIME,x=e.TEXT,C=e.HIDDEN,w=" ",D=this.get("hasFooter"),T=this.getEls(),E=a.DOM.createElement,S=t,_=p,M=h,A=m,L=v;switch(this.get("viewMode")){case 0:A+=w+C,L+=w+C;break;case 1:_+=w+C,M+=w+C,L+=w+C;break;case 2:_+=w+C,M+=w+C,A+=w+C;break}return D||(S+=w+i),T.parent=document.getElementById(this.get("parent")),T.wrap=E("div",{id:a.Utils.guid("calendar"),className:S}),T.header=E("div",{className:n}),T.title=E("h4",{className:s},[E("span",{className:x})]),this.get("hasSwitcher")&&(T.switcher=E("div",{className:r}),T.prev=E("div",{className:o},[E("span",{className:x},[E("i",{className:l})])]),T.next=E("div",{className:c},[E("span",{className:x},[E("i",{className:d})])])),T.body=E("div",{className:u}),T.week=E("div",{className:_}),T.dates=E("div",{className:M}),T.months=E("div",{className:A}),T.years=E("div",{className:L}),D&&(T.footer=E("div",{className:g}),T.today=E("div",{className:f},[E("p",{className:k},[E("span",{className:x})])]),this.get("hasClock")&&(T.time=E("div",{className:y},[E("p",{className:b},[E("span",{className:x})])]))),this}},{key:"_renderTitle",value:function(){var e=this.getEls().title.querySelector("."+this.get("STYLES").TEXT),t=this.getYears(),i=this.getYear(),n="";switch(this.get("viewMode")){case 0:n=a.getMonth(i+"-"+this.getMonth()+"-1").fullText;break;case 1:n=a.getYear(i+"-1-1").fullText;break;case 2:n=t.start+" - "+t.end;break}return e.innerHTML=n,this}},{key:"_renderDays",value:function(){var e=this.get("STYLES"),t=e.DAY,i=e.WEEKEND,n=e.TEXT,s=this.get("DAYS"),r=a.DOM.createElement,o=document.createDocumentFragment();return s.forEach((function(e,a){var l=0===a||a===s.length-1?t+" "+i:t;o.appendChild(r("div",{className:l},[r("span",{className:n},[e])]))})),this.getEls().week.appendChild(o),this}},{key:"_renderDates",value:function(){var e,t=this.get("DATES"),i=a.isLeapYear,n=document.createDocumentFragment(),s=this.getYear(),r=this.getMonth(),o=t[r-1],l=a.getDay(s+"-"+r+"-1").value,c=r-2<0?s-1:s,d=r-2<0?12:r-1,u=t[d-1],p=12===r?s+1:s,h=12===r?1:r+1;return i(s)&&2===d?u+=1:i(s)&&2===r&&(o+=1),e=42-(l+o),0!==l&&n.appendChild(this._getDatesFragment({year:c,month:d,start:u-(l-1),end:u,isPrev:!0,isNext:!1})),n.appendChild(this._getDatesFragment({year:s,month:r,start:1,end:o,isPrev:!1,isNext:!1})),e>0&&n.appendChild(this._getDatesFragment({year:p,month:h,start:1,end:e,isPrev:!1,isNext:!0})),this.getEls().dates.appendChild(n),this}},{key:"_repaintDates",value:function(){var e=this.get("STYLES").HIDDEN,t=a.DOM,i=this.getEls().dates;return t.addClass(i,e),i.innerHTML="",t.removeClass(i,e),this._renderDates(),this}},{key:"_getDatesFragment",value:function(e){for(var t=this,i=e.year,n=e.month,s=e.start,r=e.end,o=e.isPrev,l=e.isNext,c=" ",d=this.get("STYLES"),u=d.DATE,p=d.DATE_PAST,h=d.DATE_PREV,m=d.DATE_NEXT,v=d.CURRENT,g=d.PICKED,f=d.PICKED_RANGE,k=d.WEEKEND,y=d.TEXT,b=a.DOM.createElement,x=a.isDatesEqual,C=document.createDocumentFragment(),w=this.getEls(),D=s,T=this.get("pickMode"),E=this.getPicked(),S=new Date,_=S.getMonth()+1,M=S.getDate(),A=S.getFullYear(),L=function(){var e=i+"-"+n+"-"+D,s=a.isToday(e),r=a.getDay(e),d=A>i||!(A<i)&&(_>n||!(_<n)&&M>D),S=[b("span",{className:y},[D])],L="",N=void 0;switch(N=b("div",{"data-date":e},S),L+=u,o?L+=c+h:l&&(L+=c+m),s&&(L+=c+v),0!==r.value&&6!==r.value||(L+=c+k),T){case"single":var Y=t.getDate().text,O=x(e,Y);O&&(L+=c+g,w.date=N);break;case"multiple":E.forEach((function(t){var a=x(e,t);a&&(L+=c+g)}));break;case"range":case"week":var P=[];2===E.length?(P=a.getRanges(E[0],E[1]),P.forEach((function(t,a){var i=x(e,t);if(!i)return!1;0!==a&&a!==P.length-1?(L+=c+g,L+=c+f):0!==a&&a!==P.length-1||(L+=c+g)}))):1===E.length&&(L+=c+g);break}d&&(L+=c+p),N.className=L,C.appendChild(N)};D<=r;D+=1)L();return C}},{key:"_updateDateRanges",value:function(){var e=this.get("STYLES"),t=e.PICKED,i=e.PICKED_RANGE,n=a.DOM,s=n.hasClass,r=n.removeClass,o=n.addClass,l=this.getEls(),c=this.elements.date,d=l.dates,u=d.querySelectorAll("."+t);switch(this.data.picked.length){case 1:u.forEach((function(e){r(e,t),s(e,i)&&r(e,i)})),o(c,t);break;case 2:var p=a.getRanges(this.data.picked[0],this.data.picked[1]);p.forEach((function(e,a){var n=d.querySelector('[data-date="'+e+'"]');a>0&&a<p.length-1&&(o(n,t),o(n,i))})),o(c,t)}return this}},{key:"_updateWeekRanges",value:function(){var e=this.get("STYLES"),t=e.PICKED,i=e.PICKED_RANGE,n=a.DOM,s=n.removeClass,r=n.addClass,o=this.getEls(),l=o.dates,c=l.querySelectorAll("."+t),d=this.getPicked(),u=a.getWeekRanges(d[0]);return c.forEach((function(e){s(e,i),s(e,t)})),u.forEach((function(e,a){var n=l.querySelector('[data-date="'+e+'"]');a>0&&a<u.length-1?(r(n,t),r(n,i)):0!==a&&a!==u.length-1||r(n,t)})),this}},{key:"_renderMonths",value:function(){var e=this,t=" ",i=this.get("STYLES"),n=i.CURRENT,s=i.PICKED,r=i.MONTH,o=i.MONTH_PREV,l=i.MONTH_NEXT,c=i.TEXT,d=this.get("MONTHS"),u=a.DOM,p=u.createElement,h=document.createDocumentFragment(),m=this.getEls(),v=this.getYear(),g=a.getToday();return d.forEach((function(a,i){var d,u=e.getDate(),m=r;i<2?(m+=t+o,v-1===u.year&&a===u.month&&(m+=t+s),d=p("div",{className:m,"data-month":v-1+"-"+a+"-1"},[p("span",{className:c},[a])])):i>=2&&i<=13?(v===g.year&&a===g.month&&(m+=" "+n),v===u.year&&a===u.month&&(m+=t+s),d=p("div",{className:m,"data-month":v+"-"+a+"-1"},[p("span",{className:c},[v+"-"+a])])):i>13&&i<=15&&(m+=t+l,v+1===u.year&&a===u.month&&(m+=t+s),d=p("div",{className:m,"data-month":v+1+"-"+a+"-1"},[p("span",{className:c},[a])])),h.appendChild(d)})),m.months.appendChild(h),this}},{key:"_repaintMonths",value:function(){var e=this.get("STYLES").HIDDEN,t=a.DOM,i=this.getEls().months;return t.addClass(i,e),i.innerHTML="",t.removeClass(i,e),this._renderMonths(),this}},{key:"_renderYears",value:function(){var e=this.getYears(),t=e.start,a=e.end,i=t-3,n=t-1,s=a+1,r=a+3,o=document.createDocumentFragment();return o.appendChild(this._getYearsFragment({start:i,end:n,isPrev:!0,isNext:!1})),o.appendChild(this._getYearsFragment({start:t,end:a,isPrev:!1,isNext:!1})),o.appendChild(this._getYearsFragment({start:s,end:r,isPrev:!1,isNext:!0})),this.getEls().years.appendChild(o),this}},{key:"_repaintYears",value:function(){var e=this.get("STYLES").HIDDEN,t=a.DOM,i=this.getEls().years;return t.addClass(i,e),i.innerHTML="",t.removeClass(i,e),this._renderYears(),this}},{key:"_getYearsFragment",value:function(e){for(var t=e.start,i=e.end,n=e.isPrev,s=e.isNext,r=this.get("STYLES"),o=r.YEAR,l=r.YEAR_PREV,c=r.YEAR_NEXT,d=r.CURRENT,u=r.PICKED,p=r.DISABLED,h=r.TEXT,m=a.DOM,v=m.createElement,g=document.createDocumentFragment(),f=this.getEls(),k=this.data.minYear,y=this.data.maxYear,b=t;b<=i;b+=1){var x=this.getDate(),C=b===a.getToday().year,w=b===x.year,D=o,T=v("div",{"data-year":b+"-1-1"},[v("span",{className:h},[b])]);n?D+=" "+l:s&&(D+=" "+c),C&&(D+=" "+d),w&&(D+=" "+u,f.year=T),(b<k||b>y)&&(D+=" "+p),T.className=D,g.appendChild(T)}return g}},{key:"_renderFooter",value:function(){var e=this.get("STYLES"),t=e.TEXT,i=this.getEls(),n=i.today.querySelector("."+t),s=a.getToday(),r=null,o=function e(){var a=i.time.querySelector("."+t),n=new Date,s=n.getHours(),o=n.getMinutes(),l=n.getSeconds();r&&clearTimeout(r),s<10&&(s="0"+s),o<10&&(o="0"+o),l<10&&(l="0"+l),a.innerHTML=s+":"+o+":"+l,r=setTimeout(e,1e3)};return n.innerHTML="今天："+s.text,a.DOM.setAttribute(n,"data-date",s.value),this.get("hasClock")&&o(),this}},{key:"_titleClick",value:function(){var e=this.get("viewMode");return e+=1,e>2&&(e=2),this.update(e),this}},{key:"_prevClick",value:function(){return this.prev(),this}},{key:"_nextClick",value:function(){return this.next(),this}},{key:"_dateClick",value:function(t){var i=t.delegateTarget,n=i.getAttribute("data-date");if(null!==rangeStartTime&&null!==rangeEndTime?-1===i.className.indexOf("cal-date-prev")&&(console.log("11111"),e(".cal-date").removeClass("cal-picked"),rangeStartTime=new Date(a.toAllSupported(n)).getTime(),rangeEndTime=null):-1!==i.className.indexOf("cal-date-prev")&&(console.log("22222"),e(".cal-range-bg").hide(),e("#btnRight").addClass("btn-unclickable").removeClass("btn-clickable"),e(".cal-text").removeClass("cal-range-light-bg")),previousPickable)this.pickDate(i);else{var s=i.classList.value;s.indexOf("cal-date-past")<0&&s.indexOf("cal-date-prev")&&this.pickDate(i)}return this.getPicked(),this.get("pickMode"),this}},{key:"_monthClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-month");return this.pickMonth(t),console.log("------------- _monthClick -------------"),console.log(a),this}},{key:"_yearClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-year");return this.pickYear(t),console.log("------------- _yearClick -------------"),console.log(a),this}},{key:"_todayClick",value:function(){var e=this.getEls(),t=a.getToday().text;return this.pickToday(),this.pickDate(e.dates.querySelector('[data-date="'+t+'"]')),console.log("------------- _todayClick -------------"),console.log(t),this}}],[{key:"getYear",value:function(e){var t=e?new Date(a.toAllSupported(e)):new Date,i=t.getFullYear();return{value:i,text:i.toString(),fullText:i+"年"}}},{key:"getMonth",value:function(e){var t=e?new Date(a.toAllSupported(e)):new Date,i=a.getYear(e),n=t.getMonth();return n+=1,{value:n,text:i.text+"-"+n,fullText:i.fullText+n+"月"}}},{key:"getDate",value:function(e){var t=e?new Date(a.toAllSupported(e)):new Date,i=a.getYear(e),n=a.getMonth(e),s=t.getDate(),r=a.getDay(e),o=i.value+"-"+n.value+"-"+s,l=n.fullText+s+"日";return{year:i.value,month:n.value,date:s,day:r.value,text:o,fullText:l+" "+r.fullText}}},{key:"getDay",value:function(e){var t=e?new Date(a.toAllSupported(e)):new Date,i=t.getDay(),n=a.defaults.DAYS[i];return{value:i,text:n,fullText:"星期"+n}}},{key:"getToday",value:function(){return a.getDate()}},{key:"getYears",value:function(e){var t=a.getYear(e).value,i=t.toString().split(""),n=parseInt(i[i.length-1],10),s=0,r=0;return 0===n?(s=t,r=t+9):9===n?(s=t-9,r=t):(s=t-n,r=t+(9-n)),{start:s,end:r}}},{key:"getWeekRanges",value:function(e){var t=a.defaults.DATES,i=a.isLeapYear,n=a.getDay(e).value,s=e.split("-"),r=parseInt(s[0],10),o=parseInt(s[1],10),l=parseInt(s[2],10),c=t[o-1],d=r,u=o,p=l-n,h=r,m=o,v=l+(6-n),g=0;return i(r)&&2===o&&(c+=1),p<1&&(g=o-2,u-=1,g<0?(d-=1,u=12,p=t[11]+p):p=t[g]+p),v>c&&(m+=1,v-=c,g>11&&(h+=1,m=1)),a.getRanges(d+"-"+u+"-"+p,h+"-"+m+"-"+v)}},{key:"getRanges",value:function(e,t){var i,n,s,r=864e5,o=[],l=e.split("-"),c=t.split("-"),d=new Date,u=new Date;for(d.setUTCFullYear(parseInt(l[0],10),parseInt(l[1],10)-1,parseInt(l[2],10)),u.setUTCFullYear(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10)),i=d.getTime(),n=u.getTime(),s=i;s<=n;s+=r)o.push(a.getDate(s).text);return o}},{key:"isLeapYear",value:function(e){return(e%4===0||e%400===0)&&e%100!==0}},{key:"isToday",value:function(e){return a.isDatesEqual(e)}},{key:"isDatesEqual",value:function(e,t){var i=a.getDate;return a.isEqual(i(e).text,i(t).text)}},{key:"isEqual",value:function(e,t){var i=a.toAllSupported;return new Date(i(e)).getTime()===new Date(i(t)).getTime()}},{key:"toAllSupported",value:function(e){var t=a.Utils,i=[];return t.isNumber(e)?e:t.isString(e)?(e.indexOf("-")?i=e.split("-"):e.indexOf("/")&&(i=e.split("/")),1===i.length?(i.push("1"),i.push("1")):2===i.length&&(4===i[0].length?i.push("1"):4===data[1].length&&i.unshift("1")),i.join("/")):void 0}}]),a}();n.defaults={parent:"calendar",time:"",viewMode:0,pickMode:"single",hasSwitcher:!0,hasFooter:!0,hasClock:!0,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,MONTHS:[11,12,1,2,3,4,5,6,7,8,9,10,11,12,1,2],DAYS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DATES:[31,28,31,30,31,30,31,31,30,31,30,31],STYLES:{WRAP:"cal-md",WRAP_WITHOUT_FOOTER:"cal-md-without-footer",HEADER:"cal-hd",TITLE:"cal-title",SWITCHER:"cal-switcher",PREV:"cal-prev",ICON_PREV:"icon-angle-up",NEXT:"cal-next",ICON_NEXT:"icon-angle-down",BODY:"cal-bd",WEEK:"cal-week",WEEKEND:"cal-weekend",DAY:"cal-day",DATES:"cal-dates",DATE:"cal-date",DATE_PAST:"cal-date-past",DATE_PREV:"cal-date-prev",DATE_NEXT:"cal-date-next",MONTHS:"cal-months",MONTH:"cal-month",MONTH_PREV:"cal-month-prev",MONTH_NEXT:"cal-month-next",YEARS:"cal-years",YEAR:"cal-year",YEAR_PREV:"cal-year-prev",YEAR_NEXT:"cal-year-next",FOOTER:"cal-ft",FOOTER_DATE:"cal-ft-date",TODAY:"cal-today",FOOTER_TIME:"cal-ft-time",TIME:"cal-time",TEXT:"cal-text",CURRENT:"cal-current",PICKED:"cal-picked",PICKED_RANGE:"cal-picked-range",PICKED_POINT:"cal-picked-point",DISABLED:"cal-disabled",HIDDEN:"cal-hidden",TEXTCONTAINER:"cal-text-container",TEXTPONITER:"cal-text-pointer"}},n.Utils={uuid:0,isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.apply(e)},isFunction:function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.apply(e)},isElement:function(e){return e&&e.nodeName&&e.tagName&&1===e.nodeType},guid:function(e){var t=n.Utils;return t.uuid+=1,e?e+"-"+t.uuid:"guid-"+t.uuid},trim:function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},stripTags:function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}},n.DOM={createElement:function(e,t,a){var i=n.Utils,s=document.createElement(e);for(var r in t)t.hasOwnProperty(r)&&n.DOM.setAttribute(s,r,t[r]);return i.isArray(a)&&a.forEach((function(e){var t;if(i.isElement(e))t=e;else if(i.isString(e)||i.isNumber(e)){var a=i.isString(e)?i.trim(i.stripTags(e)):e.toString();t=document.createTextNode(a)}s.appendChild(t)})),s},setAttribute:function(e,t,a){var i=e.tagName.toLowerCase();switch(t){case"style":e.style.cssText=a;break;case"value":"input"===i||"textarea"===i?e.value=a:e.setAttribute(t,a);break;case"className":e.className=a;break;default:e.setAttribute(t,a);break}},hasClass:function(e,t){var a=e.className;return!!a&&a.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){var a=e.className;if(n.DOM.hasClass(e,t))return!1;a+=a.length>0?" "+t:t,e.className=a},removeClass:function(e,t){var a=e.className;if(!a||!n.DOM.hasClass(e,t))return!1;a=n.Utils.trim(a.replace(t,"")),e.className=a}},n.Delegate={on:function(e,t,a,i,s,r,o){var l=n.Delegate,c=function n(r){var c=l.getDelegateTarget(e,r.target,t);r.delegateTarget=c,c&&(!0===o&&l.off(e,a,n),i.call(s||e,r))};return"mouseenter"!==a&&"mouseleave"!==a||(r=!0),i._delegateWrapper=i,e.addEventListener(a,c,r||!1),i},once:function(e,t,a,i,s,r){n.Delegate.on(e,t,a,i,s,r,!0)},off:function(e,t,a,i){a._delegateWrapper&&(a=a._delegateWrapper,delete a._delegateWrapper),"mouseenter"!==t&&"mouseleave"!==t||(i=!0),e.removeEventListener(t,a,i||!1)},stop:function(e){var t=n.Delegate;t.stopPropagation(e),t.preventDefault(e)},stopPropagation:function(e){var t=window.event;e.stopPropagation?e.stopPropagation():t.cancelBubble=!0},preventDefault:function(e){var t=window.event;e.preventDefault?e.preventDefault():t.returnValue=!1},getDelegateTarget:function(e,t,a){while(t&&t!==e){if(n.DOM.hasClass(t,a.replace(".","")))return t;t=t.parentElement}return null}},n.Utils.isFunction(Object.assign)||Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},writable:!0,configurable:!0})}).call(this,a("a336"))},db0b:function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){return t.preventDefault(),e.selectUsers(t)}}},[a("span",{staticClass:"avatar rounded-circle tk-layout-inline-block tk-border-color-white tk-text-center text-lg",class:{"avatar-sm text-xs":"sm"===e.avatar,"avatar-lg text-xxl":"lg"===e.avatar,"avatar-xl text-xxl":"xl"===e.avatar,"tk-bg-color-card8 tk-font-color-white":e.isNull(e.data.avatar),"tk-bg-color-gray-200":!e.isNull(e.data.avatar)}},[e.isNull(e.data.avatar)?a("span",{style:{lineHeight:e.getAvatarLineHeight(e.avatar)+"px"}},[e._v(e._s(e.getFirstLetter(e.data.name)))]):a("img",{staticStyle:{"line-height":"1"},attrs:{src:e.data.avatar}})]),a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px20",style:{width:e.toolTip||e.selectUser||e.checkUser?"calc(100% - 20px - "+e.avatarWidth+"px - 24px)":"calc(100% - 20px - "+e.avatarWidth+"px)"}},[a("div",{staticClass:"tk-font-weight-bold"},[e._v(e._s(e.data.name))]),e.isNull(e.data.email)?e._e():a("div",{staticClass:"tk-font-color-gray",class:{"tk-layout-inline-block tk-px-margin-right-px24":e.inline,"tk-text-overflow":!e.inline},attrs:{title:e.data.email}},[a("i",{staticClass:"fas fa-envelope tk-layout-inline-block"}),a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px10"},[e._v(e._s(e.data.email))])]),e.isNull(e.data.phone)?e._e():a("div",{staticClass:"tk-font-color-gray",class:{"tk-layout-inline-block tk-px-margin-right-px24":e.inline,"tk-text-overflow":!e.inline},attrs:{title:e.data.phone}},[a("i",{staticClass:"fas fa-phone tk-layout-inline-block"}),a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px10"},[e._v(e._s(e.data.phone))])]),e.isNull(e.data.website)?e._e():a("div",{staticClass:"tk-font-color-gray",class:{"tk-layout-inline-block  tk-px-margin-right-px24":e.inline,"tk-text-overflow":!e.inline},attrs:{title:e.data.website}},[a("i",{staticClass:"fas fa-link tk-layout-inline-block"}),a("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px10"},[e._v(e._s(e.data.website))])])]),e.toolTip||e.selectUser||e.checkUser?a("span",{staticClass:"tk-layout-inline-block tk-px-width-px20 tk-text-right tk-text-base"},[e.toolTip?a("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"hover"}},[a("span",{staticClass:"btn btn-sm btn-icon-only text-light tk-font-color-gray lh-200"},[a("i",{staticClass:"fas fa-ellipsis-v"})]),a("el-dropdown-menu",{staticClass:"dropdown-menu dropdown-menu-arrow show",attrs:{slot:"dropdown"},slot:"dropdown"},[a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onEdit(t)}}},[a("i",{staticClass:"fas fa-user-edit tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Edit")])]),void 0===e.data.archive?[e.data.active?a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onArchive(t)}}},[a("i",{staticClass:"fas fa-inbox tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Archive")])]):e._e(),e.data.active?e._e():a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onActive(t)}}},[a("i",{staticClass:"fas fa-undo-alt tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Active")])])]:[e.data.archive?a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onActive(t)}}},[a("i",{staticClass:"fas fa-undo-alt tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Active")])]):a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onArchive(t)}}},[a("i",{staticClass:"fas fa-inbox tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Archive")])])],a("span",{staticClass:"dropdown-item tk-cursor-pointer",on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[a("i",{staticClass:"fas fa-trash tk-layout-inline-block tk-px-width-px16 tk-font-color-gray"}),a("span",{staticClass:"tk-layout-inline-block"},[e._v("Delete")])])],2)],1):e._e(),e.selectUser?a("span",{staticClass:"tk-font-color-lightGray lh-200"},[a("i",{staticClass:"fas fa-angle-right"})]):e._e(),e.checkUser?a("span",{staticClass:"tk-font-color-main lh-200"},[e.checked?a("i",{staticClass:"fas fa-check"}):e._e()]):e._e()],1):e._e()])},s=[],r=(a("eb5b"),a("28f8")),o=(a("cc43"),a("2984"),a("855f")),l=a.n(o),c=(a("567e"),a("2b3e")),d=a.n(c),u=(a("93fd"),a("60cf")),p=a.n(u),h=a("a336"),m=a.n(h),v={props:{data:{default:function(){return{}}},compareData:{default:function(){return{}}},avatarWidth:{default:80},avatar:{type:String,default:"xl"},inline:{type:Boolean,default:!1},toolTip:{type:Boolean,default:!1},selectUser:{type:Boolean,default:!1},checkUser:{type:Boolean,default:!1}},data:function(){return{checked:!1}},components:(i={},Object(r["a"])(i,p.a.name,p.a),Object(r["a"])(i,d.a.name,d.a),Object(r["a"])(i,l.a.name,l.a),i),created:function(){var e=this;e.compare()},methods:{compare:function(){var e=this;e.checkUser&&e.data.name===e.compareData.name&&e.data.email===e.compareData.email&&(e.checked=!0)},selectUsers:function(){var e=this;e.checkUser?e.$emit("selectUsers",this.data):e.$emit("selectUsers")},hideDropdownMenu:function(){m()(".dropdown-menu").slideUp()},onEdit:function(){this.$emit("onEdit",this.data),this.hideDropdownMenu()},onArchive:function(){this.$emit("onArchive",this.data),this.hideDropdownMenu()},onDelete:function(){this.$emit("onDelete",this.data),this.hideDropdownMenu()},onDeleteArchive:function(){this.$emit("onDeleteArchive",this.data),this.hideDropdownMenu()},onActive:function(){this.$emit("onActive",this.data),this.hideDropdownMenu()},isNull:function(e){return this.$tools.isNull(e)},getFirstLetter:function(e){return this.$tools.getFirstLetter(e)},getAvatarLineHeight:function(e){return this.$tools.getAvatarLineHeight(e)}}},g=v,f=a("c701"),k=Object(f["a"])(g,n,s,!1,null,null,null);t["a"]=k.exports},e539:function(e,t,a){"use strict";(function(e){a("9f1b"),a("3610"),a("eb5b"),a("c368"),a("a870"),a("f644");var i=!1,n=null,s=null,r=!1,o={initWeekDay:function(t){for(var a=void 0==t?30:t,i="<div class='cal-week cal-week-outer' style='position: absolute;z-index: 10; top: "+a+"px;left: 0;background-color: white;width: 100%;'>",n=0;n<7;n++)i+="<div class='cal-day cal-weekend'><span class='cal-text'>"+lessonTools.getDayStr(n)+"</span></div>";i+="</div>",e("#demo").prepend(i)},removeOtherSingleCurrentAndPicked:function(t,a){e(".cal-reschedule-picked").removeClass("cal-reschedule-picked"),this.compareWithYYMMDD(this.getCalendarYYMMDD(calSingle1),t,!0,!0)?0==a?(this.removeCurrent("#single-pick2"),this.removeCurrent("#single-pick3")):1==a?(this.removePicked("#single-pick2"),this.removePicked("#single-pick3")):2==a&&(this.removeCurrentAndPicked("#single-pick2"),this.removeCurrentAndPicked("#single-pick3")):this.compareWithYYMMDD(this.getCalendarYYMMDD(calSingle2),t,!0,!0)?0==a?(this.removeCurrent("#single-pick1"),this.removeCurrent("#single-pick3")):1==a?(this.removePicked("#single-pick1"),this.removePicked("#single-pick3")):2==a&&(this.removeCurrentAndPicked("#single-pick1"),this.removeCurrentAndPicked("#single-pick3")):this.compareWithYYMMDD(this.getCalendarYYMMDD(calSingle3),t,!0,!0)?0==a?(this.removeCurrent("#single-pick2"),this.removeCurrent("#single-pick1")):1==a?(this.removePicked("#single-pick2"),this.removePicked("#single-pick1")):2==a&&(this.removeCurrentAndPicked("#single-pick2"),this.removeCurrentAndPicked("#single-pick1")):0==a?(this.removeCurrent("#single-pick2"),this.removeCurrent("#single-pick1"),this.removeCurrent("#single-pick3")):1==a?(this.removePicked("#single-pick2"),this.removePicked("#single-pick1"),this.removePicked("#single-pick3")):2==a&&(this.removeCurrentAndPicked("#single-pick2"),this.removeCurrentAndPicked("#single-pick1"),this.removeCurrentAndPicked("#single-pick3")),this.addPicked()},removeCurrent:function(t){e(t).find(".cal-current").eq(0).removeClass("cal-current")},removePicked:function(t){e(t).find(".cal-picked").eq(0).removeClass("cal-picked")},removeCurrentAndPicked:function(e){this.removeCurrent(e),this.removePicked(e)},addPicked:function(){for(var t=e(".cal-date"),a=0;a<t.length;a++)t.eq(a).removeClass("cal-picked"),t.eq(a).data("date")==pickedFormatStr&&t.eq(a).addClass("cal-picked")},initCalConfig:function(t,a){var l=new Calendar({parent:t,time:a,viewMode:0,pickMode:"single",hasSwicher:!1,hasFooter:!1,hasClock:!1,DAYS:["S","M","T","W","T","F","S"],onDatePick:function(t,a,l){console.log("选择时间----：",t),pickedFormatStr=t,o.removeOtherSingleCurrentAndPicked(pickedFormatStr,1),e(".cal-picked").find(".cal-point").hasClass("cal-reschedule-point")&&e(".cal-picked").addClass("cal-reschedule-picked"),isAndroid&&(console.log("is android"),window.js.consoleLog("选择的时间:"+t),window.js.onDatePick(t)),null!==dataFromNative&&(isAndroid&&window.js.updateCalendarFirstDay(parseInt(new Date(t).getTime()/1e3)),dataFromNative.length>0&&o.initSchedules(dataFromNative,pickedFormatStr)),r&&(i?new Date(Calendar.toAllSupported(t)).getTime()<=n?(n=new Date(Calendar.toAllSupported(t)).getTime(),s=null,e(".cal-range-bg").hide(),e("#btnRight").addClass("btn-unclickable").removeClass("btn-clickable"),e(".cal-text").removeClass("cal-range-light-bg")):(i=!1,s=new Date(Calendar.toAllSupported(t)).getTime(),initRange(n,s)):(i=!0,n=new Date(Calendar.toAllSupported(t)).getTime(),s=null,e(".cal-range-bg").hide(),e("#btnRight").addClass("btn-unclickable").removeClass("btn-clickable"),e(".cal-text").removeClass("cal-range-light-bg"),e(".cal-range-bg").removeClass("cal-range-light-bg")))},onTodayPick:function(e,t,a){console.log("选择了今天的时间：",e)}});return l},initCalendar:function(e){calSingle1=this.initCalConfig("single-pick1",firstFormatYYMMStr),calSingle2=this.initCalConfig("single-pick2",void 0==e?currentFormat:e),calSingle3=this.initCalConfig("single-pick3",lastFormatYYMMStr),this.removeOtherSingleCurrentAndPicked(currentFormat,2),this.addPoint(),this.changeFirstDayDisplay()},initWeekCalendar:function(t){e("#week1").html(this.initWeekCalendarDays(firstWeekFormatYYMMStr)),e("#week2").html(this.initWeekCalendarDays(void 0===t?currentFormat:t)),e("#week3").html(this.initWeekCalendarDays(lastWeekFormatYYMMStr)),this.changeFirstDayDisplay()},initWeekCalendarDays:function(e){for(var t="",a=new Date,i=this.formatYMDToAllSupport(e),n=new Date(i),s=n.getDate(),r=n.getDay(),o=0;o<7;o++){var l=!1,c=!1,d=new Date(n);d.setDate(s+o-r),a.getFullYear()===d.getFullYear()&&a.getMonth()===d.getMonth()&&a.getDate()==d.getDate()?l=!0:a.getTime()>d.getTime()?c=!0:!0,t+='<div class="wk-date '+(l?"wk-current":c?"wk-past":"")+'" data-date="'+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+'"><span class="wk-text">'+d.getDate()+'</span><div class="wk-point"></div></div>'}return t},limitDaysCannotSelect:function(t){for(var a=new Date(t).getTime(),i=0;i<e(".cal-date").length;i++)new Date(e(".cal-date").eq(i).data("date")).getTime()<a&&(e(".cal-date").eq(i).addClass("cal-date-past"),e(".cal-date").eq(i).hasClass("cal-current")&&e(".cal-date").eq(i).removeClass("cal-current").addClass("cal-current"))},formatYMDToAllSupport:function(e){var t=e.substring(4,5);if("/"===t)return e;if("-"===t){var a=e.split("-");return a[0]+"/"+a[1]+"/"+a[2]}},changeFirstDayDisplay:function(){for(var t,a,i=0;i<e(".cal-date").length;i++)if("1"==e(".cal-date").eq(i).find(".cal-text").eq(0).text()){a=e(".cal-date").eq(i).data("date"),t=this.getMonthStr(new Date(this.formatYMDToAllSupport(a)).getMonth()+1);var n="<div>"+new Date(this.formatYMDToAllSupport(a)).getFullYear()+"</div><div>"+t+"</div>";"Jan"===t&&e(".cal-date").eq(i).addClass("cal-jan"),e(".cal-date").eq(i).find(".cal-text").eq(0).html(n)}for(var s=0;s<e(".wk-date").length;s++)if("1"==e(".wk-date").eq(s).find(".wk-text").eq(0).text()){a=e(".wk-date").eq(s).data("date"),t=this.getMonthStr(new Date(this.formatYMDToAllSupport(a)).getMonth()+1);var r="<div>"+new Date(this.formatYMDToAllSupport(a)).getFullYear()+"</div><div>"+t+"</div>";"Jan"===t&&e(".wk-date").eq(s).addClass("cal-jan"),e(".wk-date").eq(s).find(".wk-text").eq(0).html(r)}},updateCalendar:function(t,a){var i=t.substring(4,5),n=t.split("/"),s="/"===i?n[0]+"-"+n[1]+"-"+n[2]:t;1==a?(e("#single-pick1").html(""),calSingle1=this.initCalConfig("single-pick1",s)):2==a?(e("#single-pick2").html(""),calSingle2=this.initCalConfig("single-pick2",s)):3==a&&(e("#single-pick3").html(""),calSingle3=this.initCalConfig("single-pick3",s));var r=e(".demo-example").eq(0).find(".cal-date").eq(7).data("date"),o=e(".demo-example").eq(1).find(".cal-date").eq(7).data("date"),l=e(".demo-example").eq(2).find(".cal-date").eq(7).data("date"),c=new Date(this.formatYMDToAllSupport(r)),d=new Date(this.formatYMDToAllSupport(o)),u=new Date(this.formatYMDToAllSupport(l)),p=c.getFullYear(),h=c.getMonth()+1,m=d.getFullYear(),v=d.getMonth()+1;u.getFullYear(),u.getMonth();firstFormatYYMMStr=this.getNearMonthYYMMStr(m,v,!1),this.getNearMonthYYMMStr(p,h,!0),lastFormatYYMMStr=this.getNearMonthYYMMStr(m,v,!0),this.removeOtherSingleCurrentAndPicked(pickedFormatStr,1),this.addPoint(),this.changeFirstDayDisplay()},updateWeekCalendar:function(t,a){var i=t.substring(4,5),n=t.split("/"),s="/"===i?n[0]+"-"+n[1]+"-"+n[2]:t;1==a?e("#week1").html(this.initWeekCalendarDays(s)):2==a?e("#week2").html(this.initWeekCalendarDays(s)):3==a&&e("#week3").html(this.initWeekCalendarDays(s));var r=e(".week-demo-per").eq(0).find(".wk-date").eq(0).data("date"),o=e(".week-demo-per").eq(1).find(".wk-date").eq(0).data("date"),l=e(".week-demo-per").eq(2).find(".wk-date").eq(0).data("date"),c=new Date(this.formatYMDToAllSupport(r)),d=new Date(this.formatYMDToAllSupport(o)),u=(new Date(this.formatYMDToAllSupport(l)),c.getFullYear()),p=c.getMonth()+1,h=c.getDate(),m=d.getFullYear(),v=d.getMonth()+1,g=d.getDate();firstWeekFormatYYMMStr=this.getNearWeekYYMMStr(m,v,g,!1),middleWeekFormatYYMMStr=this.getNearWeekYYMMStr(u,p,h,!0),lastWeekFormatYYMMStr=this.getNearWeekYYMMStr(m,v,g,!0),this.changeFirstDayDisplay()},addPoint:function(){for(var t="<div class='cal-point'></div><div class='cal-range-bg'></div>",a=e(".cal-date"),i=0;i<a.length;i++)1===a.eq(i).children().length&&a.eq(i).append(t)},getCalendarYYMMDD:function(e){return{year:e.getYear(),month:e.getMonth(),date:e.getDate().date,day:e.getDate().day,text:e.getDate().text}},compareWithYYMMDD:function(e,t,a,i,n){var s,r,o,l=lessonTools.getDateBeforeAndAfter(t,0);return s=e.year==l.year,r=e.month==l.month,o=e.date==l.date,a&&i&&n?s&&r&&o:a&&i?s&&r:a?s:void 0},getNearMonthYYMMStr:function(e,t,a){var i="";return i=a?t+1<13?e+"-"+(parseInt(t)+1)+"-1":parseInt(e)+1+"-1-1":t-1>0?e+"-"+(parseInt(t)-1)+"-1":parseInt(e)-1+"-12-1",i},getNearWeekYYMMStr:function(e,t,a,i){var n="",s=new Date(e+"/"+t+"/"+a),r=new Date(s);return i?r.setDate(s.getDate()+7):r.setDate(s.getDate()-7),n=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),n},initSchedules:function(t,a){console.log("lesson schedules");var i=new Date(this.formatYMDToAllSupport(a)).getTime(),n=0;e("#list").html(""),t.forEach((function(t,a){if(t.shouldDateTime>=i&&t.shouldDateTime<=i+864e5){var s="";0===t.type||1===t.type?s+="<div class='schedule"+(t.rescheduled?" reschedule":"")+"' data-index='"+a+"' data-i='"+n+"'><div class='schedule-avatar'><img class='schedule-avatar-img'"+(lessonTools.imageUrlIsExist(t.url)?" style='display:block'":"display:none")+" src='"+t.url+"' /><span class='schedule-avatar-text'"+(lessonTools.imageUrlIsExist(t.url)?" style='display:none'":"display:block")+">"+o.formatSplitName(t.name)+"</span></div><div class='schedule-info'><div class='schedule-student-name'>"+t.name+"</div><div class='schedule-time'>"+o.formatLessonTimeRange(t.shouldDateTime,t.shouldTimeLength)+"</div></div><div class='schedule-icon'></div></div>":2===t.type&&(s+="<div class='schedule event' data-index='"+a+"' data-i='"+n+"'><div class='schedule-avatar'><span class='schedule-avatar-text'>Event</span></div><div class='schedule-info'><div class='schedule-student-name'>"+t.name+"</div><div class='schedule-time'>"+o.formatLessonTimeRange(t.shouldDateTime,t.shouldTimeLength)+"</div></div><div class='schedule-icon'></div></div>"),e("#list").append(s),n++}}))},formatLessonTimeRange:function(e,t){var a="",i=e+60*t*1e3;return a=this.formatHHMM(e)+" - "+this.formatHHMM(i),a},formatHHMM:function(e){var t="",a=new Date(e).getHours(),i=new Date(e).getMinutes();return t+=a<10?"0"+a:a,t+=":",t+=i<10?"0"+i:i,t+=" "+(a<12?"AM":"PM"),t},formatSplitName:function(e){for(var t=e.split(" "),a="",i=0;i<t.length;i++)a+=String(t[i].substring(0,1)).toUpperCase();return a},getMonthStr:function(e){switch(e-1){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}},getMonthFullStr:function(e){switch(e-1){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December"}},initAllMonths:function(t){for(var a="",i="",n="",s=1;s<=12;s++)s==t?(a+="<div class='month-per' data-y='"+(currentYear-1)+"' data-m='"+s+"'>",i+="<div class='month-per month-per-selected' data-y='"+currentYear+"' data-m='"+s+"'>",n+="<div class='month-per' data-y='"+(currentYear+1)+"' data-m='"+s+"'>"):(a+="<div class='month-per' data-y='"+(currentYear-1)+"' data-m='"+s+"'>",i+="<div class='month-per' data-y='"+currentYear+"' data-m='"+s+"'>",n+="<div class='month-per' data-y='"+(currentYear+1)+"' data-m='"+s+"'>"),1==s?(a+=currentYear-1+"</div>",i+=currentYear+"</div>",n+=currentYear+1+"</div>"):(a+=this.getMonthStr(s)+"</div>",i+=this.getMonthStr(s)+"</div>",n+=this.getMonthStr(s)+"</div>");e("#monthsContainer").append(a),e("#monthsContainer").append(i),e("#monthsContainer").append(n);for(var r=0,o=0;o<e("#monthsContainer").children().length;o++)r+=e("#monthsContainer").children().eq(o).width();e("#monthsContainer").css("width",r)},getNextMonthLastDay:function(e,t){var a=t+1<12?new Date(e,t+1,0).getDate():new Date(e+1,1,0).getDate(),i=t+1<12?t+1:1,n=t+1<12?e:e+1;return{year:n,month:i,lastDay:a,formatYMD1:n+"/"+i+"/"+(a-1),formatYMD2:n+"/"+i+"/"+a}}};t["a"]=o}).call(this,a("a336"))},e845:function(e,t,a){"use strict";(function(e){a("9f1b"),a("eb5b"),a("c368"),a("a870");var i=a("3e83"),n=a("e539"),s={variable:{},timeListener:null,setVariable:function(e){this.variable=e,console.log("this ---- ",this.variable)},getElement:function(t){return e(t)},getFormatYYMMDD:function(e,t){var a="";return e?a=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate():t&&(a=t.year+"/"+t.month+"/"+t.date),a},getDateBeforeAndAfter:function(e,t){var a=e.substring(4,5),i=e.split("-"),n=new Date("-"===a?i[0]+"/"+i[1]+"/"+i[2]:e),s=(this.getFormatYYMMDD(n),new Date(n));s.setDate(n.getDate()+t);var r=this.getFormatYYMMDD(s),o=new Date(r);return{year:o.getFullYear(),month:o.getMonth()+1,date:o.getDate(),day:o.getDay()}},getDayStr:function(e){switch(e){case 1:return"Mo";case 2:return"Tu";case 3:return"We";case 4:return"Th";case 5:return"Fr";case 6:return"Sa";case 0:return"Su"}},initTime:function(){for(var t=1;t<24;t++){var a="<div class='time'><span>",i="AM",n=0;t<12?n=t:12===t?(n=t,i="PM"):t>12&&(i="PM",n=t-12),a+=n+"<span class='time-ap'>"+i+"</span></span></div>",e("#left").append(a)}},addDay:function(t,a,i,n){for(var s=0;s<t;s++){var r=this.getDateBeforeAndAfter(i,0===a?-1*(s+1):s+1),o=this.getFormatYYMMDD(null,r),l="<div class='day day-"+n+(o===this.variable.currentFormat?" current-day":"")+"' data-ymd='"+o+"'>";l+="<div class='day-container"+(o===this.variable.currentFormat?" day-container-current":"")+"'><div class='day-top'>"+this.getDayStr(this.getDateBeforeAndAfter(o,0).day)+"</div><div class='day-bottom'>"+this.getDateBeforeAndAfter(o,0).date+"</div><div class='day-point'></div></div></div>";var c=this.getDateBeforeAndAfter(o,1===a?-3*n+1:3*n-1),d=this.getFormatYYMMDD(null,c),u="<div class='all-day all-day-"+n+"' data-ymd='"+o+"'></div>",p=e("#topContainer"),h=e("#allDayContainer");0===a?(p.prepend(l),h.prepend(u),this.variable.firstFormatStr=o,this.variable.lastFormatStr=d):1===a&&(p.append(l),h.append(u),this.variable.lastFormatStr=o,this.variable.firstFormatStr=d)}this.addCurrentDayMark()},initDay:function(t,a,i){var n=new Date;i&&(n=0===i?new Date:new Date(i));for(var s=this.getFormatYYMMDD(n),r=e("#topContainer"),o=e("#allDayContainer"),l=0;l<3*this.variable.lessonDays;l++){var c=this.getDateBeforeAndAfter(s,l-this.variable.lessonDays),d=this.getFormatYYMMDD(null,c),u="<div class='day day-"+this.variable.lessonDays+"' data-ymd='"+d+"'>",p="<div class='all-day all-day-"+this.variable.lessonDays+"' data-ymd='"+d+"'></div>";0===l?this.variable.firstFormatStr=d:l===3*this.variable.lessonDays-1&&(this.variable.lastFormatStr=d),u+="<div class='day-container"+(d===this.variable.currentFormat?" day-container-current":"")+"'><div class='day-top'>"+this.getDayStr(this.getDateBeforeAndAfter(d,0).day)+"</div><div class='day-bottom'>"+this.getDateBeforeAndAfter(d,0).date+"</div><div class='day-point'></div></div></div>",r.append(u),o.append(p)}var h=e(".day").eq(0).width()*this.variable.lessonDays;r.css("marginLeft",-1*h),o.css("marginLeft",-1*h)},initTable:function(t){for(var a=e("#middleContainer"),i=0;i<3*t;i++){for(var n="<div class='middle-day middle-day-"+t+"'>",s=0;s<96;s++)n+=s%4===0?"<div class='middle-day-time middle-day-hour-time'":"<div class='middle-day-time'",n+="data-hour='"+parseInt(s/4)+"' data-minute='"+s%4*15+"'></div>";n+="</div>",a.append(n)}var r=e(".middle-day").eq(0).width()*t;a.css("marginLeft",-1*r)},addTable:function(t,a,i){for(var n=e("#middleContainer"),s=0;s<t;s++){for(var r="<div class='middle-day middle-day-"+i+"'>",o=0;o<96;o++)r+=o%4===0?"<div class='middle-day-time middle-day-hour-time'":"<div class='middle-day-time'",r+="data-hour='"+parseInt(o/4)+"' data-minute='"+o%4*15+"'></div>";r+="</div>",0===a?n.prepend(r):1===a&&n.append(r)}},init:function(e,t,a){this.initTime(),this.initTable(this.variable.lessonDays),this.initDay(e,t,a),this.addData(e,t),this.addCurrentDayMark(!0,a,e)},updateTableAndDay:function(t,a,i,n){for(var s=e("#middleContainer"),r=e("#topContainer"),o=e("#allDayContainer"),l=0;l<t;l++)a?(s.children().eq(0).remove(),r.children().eq(0).remove(),o.children().eq(0).remove(),this.addTable(1,1,n),this.addDay(1,1,this.getFormatYYMMDD(null,this.getDateBeforeAndAfter(i,l)),n)):(s.children().eq(s.children().length-1).remove(),r.children().eq(r.children().length-1).remove(),o.children().eq(o.children().length-1).remove(),this.addTable(1,0,n),this.addDay(1,0,this.getFormatYYMMDD(null,this.getDateBeforeAndAfter(i,-l)),n))},addCurrentTimeMark:function(t){var a=e(".day.current-day").eq(0).index(),i=e(".day").length/3,n=e("#currentTimeMark"),r=e(".middle-day"),o=e("#bottom");n.remove(),clearInterval(this.timeListener);var l=new Date,c=l.getHours(),d=l.getMinutes(),u="<div id='currentTimeMark'><div class='mark-circle'></div><div class='mark-line'></div></div>",p=r.eq(a).children();d<=15?(p.eq(4*c).append(u),n.css("margin-top",d/15*20)):d>15&&d<=30?(p.eq(4*c+1).append(u),n.css("margin-top",(d-15)/15*20)):d>30&&d<=45?(p.eq(4*c+2).append(u),n.css("margin-top",(d-30)/15*20)):(p.eq(4*c+3).append(u),n.css("margin-top",(d-45)/15*20)),t&&a<=2*i-1&&a>=i&&o.animate({scrollTop:r.eq(a).children().eq(c>0?4*c-4:0).offset().top+o.scrollTop()},250),this.timeListener=setInterval((function(){s.addCurrentTimeMark()}),6e4)},addCurrentDayMark:function(t,a,i){var n=e(".day"),r=e(".middle-day"),o=e("#bottom");if(0==i){if(0!==parseInt(a)){var l=new Date(parseInt(a)),c=4*l.getHours()+parseInt(l.getMinutes()/15),d=r.eq(r.length/3).children().eq(c);if(d.children().length>0)for(var u=0;u<d.children().length();u++)d.children().eq(u).hasClass("middle-day-event-green")?d.children().eq(u).append("<div class='selected-day-time'></div>"):d.children().eq(u).hasClass("middle-day-event-gray")&&d.children().eq(u).append("<div class='selected-day-time selected-event-day-time'></div>");else a<this.variable.d.getTime()?d.append("<div class='selected-day-time selected-past-day-time'></div>"):d.append("<div class='selected-day-time'></div>");e(".selected-day-time").eq(0).css("height",22*this.variable.originGridCount-4),o.animate({scrollTop:r.eq(r.length/3).children().eq(c>4?c-4:0).offset().top+o.scrollTop()},250)}else for(var p=0;p<n.length;p++)if(n.eq(p).removeClass("current-day"),this.variable.currentFormat===n.eq(p).data("ymd")){n.eq(p).addClass("current-day"),s.addCurrentTimeMark(t);break}}else for(var h=0;h<n.length;h++)if(n.eq(h).removeClass("current-day"),this.variable.currentFormat===n.eq(h).data("ymd")){n.eq(h).addClass("current-day"),s.addCurrentTimeMark(t);break}s.updateYearAndMonth(this.variable.lessonDays)},isHorizontal:function(t){if("left"===t.direction||"right"===t.direction)return Math.abs(t.x)<=e("#bottom").width()-e("#left").width()},updateYearAndMonth:function(t){var a=e(".day").eq(t),i=this.getDateBeforeAndAfter(a.data("ymd"),0),s=i.year,r=i.month;e("#topYear").html(s),e("#topMonth").html(n["a"].getMonthStr(r)),1===r?e("#topYear").css("opacity",1):e("#topYear").css("opacity",0)},compare:function(e,t){return e.shouldDateTime-t.shouldDateTime},mergeConflictData:function(e){e.sort(this.compare),console.log("data数: ",e.length);var t=[],a=[];e:for(var i=0;i<e.length;i++){var n=e[i],r=n.shouldDateTime,o=n.shouldTimeLength,l=r+60*o*1e3;if(this.imageUrlIsExist(n.url)||(n.url=""),new Date(l).getDate()!==new Date(r).getDate()||n.isOverDay)a.push({shouldDateTime:r,shouldTimeLength:o,endTime:l,type:n.type,name:n.name});else if(t.length>0)for(var c=0;c<t.length;c++){var d=t[c],u=d.shouldDateTime,p=d.totalLength,h=u+60*p*1e3,m=(r-u)/1e3/60;if(m<p){d.data.push(n),l>h&&(d.totalLength=(l-u)/1e3/60,n.type<2&&(d.type=n.type)),d.name.push(n.name),d.url.push(n.url);continue e}if(c===t.length-1){var v={shouldDateTime:r,totalLength:o,data:[],name:[],type:n.type,url:[]};v.data.push(n),v.name.push(n.name),v.url.push(n.url),v.index=i,v.indexOfDay=s.getFormatYYMMDD(new Date(t[c].shouldDateTime))===s.getFormatYYMMDD(new Date(r))?t[c].indexOfDay+t[c].data.length:0,t.push(v);continue e}}else{var g={shouldDateTime:r,totalLength:o,data:[],name:[],type:n.type,url:[],index:i,indexOfDay:0};g.data.push(n),g.name.push(n.name),g.url.push(n.url),t.push(g)}}return{mergedData:t,allDayData:a}},formatName:function(e){if(1===lessonDays)return e;if(3===lessonDays){var t=e.split(" "),a=t[0];if(t.length>1)for(var i=1;i<t.length;i++)i<t.length-1?a+=" "+t[i]:a+=" "+String(t[i].substring(0,1)).toUpperCase()+".";return a}if(7===lessonDays){for(var n=e.split(" "),s="",r=0;r<n.length;r++)s+=String(n[r].substring(0,1)).toUpperCase();return s}},formatLessonAvatar:function(e,t){for(var a={url:e,name:t,isImage:!0},i=t.split(" "),n="",s=0;s<i.length;s++)n+=String(i[s].substring(0,1)).toUpperCase();return a.name=n,e.length>0?a.isImage=!0:a.isImage=!1,a},addData:function(t,a){e(".middle-day-event-gray").remove(),e(".middle-day-event-gray-under").remove(),e(".all-day-event-gray").remove(),e(".all-day-event-gray-under").remove();var i=this.mergeConflictData(a);this.variable.mergedData=i.mergedData,this.variable.allDayData=i.allDayData,console.log("mergen data: ",this.variable.mergedData);var n=e(".day"),r=e(".middle-day");if(this.variable.allDayData.length>0){for(var o=this.variable.allDayData,l=this.variable.lessonDays,c=n.eq(0).width(),d=e(".all-day"),u=0;u<o.length;u++)for(var p=l;p<2*l;p++){var h=d.eq(p).data("ymd"),m=new Date(h),v=m.getTime(),g=new Date(o[u].shouldDateTime),f=new Date(o[u].endTime),k=s.getFormatYYMMDD(g),y=s.getFormatYYMMDD(f),b=(new Date(y).getTime()-new Date(k).getTime())/864e5+1,x="<div class='all-day-event-gray-under'></div>";if(k===h){if(console.log("-- 中 start"),o[u].endTime<new Date(d.eq(2*l).data("ymd")).getTime()){console.log("---- 中 end");for(var C="<div class='all-day-event-gray all-day-event-gray-radius' style='width: "+c*b+"px'>"+o[u].name+"</div>",w=0;w<3*l;w++)w===p?d.eq(p).append(C):d.eq(w).append(x)}else if(o[u].endTime>=new Date(d.eq(2*l).data("ymd")).getTime()&&o[u].endTime<=new Date(d.eq(3*l-1).data("ymd")+" 23:59:59").getTime()){console.log("---- 后 end");for(var D="<div class='all-day-event-gray all-day-event-gray-radius-left' style='width: "+c*(2*l-p)+"px'>"+o[u].name+"</div>",T="<div class='all-day-event-gray all-day-event-gray-radius-right' style='width: "+c*(b-l+1)+"px'>"+o[u].name+"</div>",E=0;E<3*l;E++)E===p?d.eq(p).append(D):E===2*l?d.eq(2*l).append(T):d.eq(E).append(x)}else if(o[u].endTime>new Date(d.eq(3*l-1).data("ymd")+" 23:59:59").getTime()){console.log("---- 范围外 end");for(var S="<div class='all-day-event-gray all-day-event-gray-radius-left' style='width: "+c*(2*l-p)+"px'>"+o[u].name+"</div>",_="<div class='all-day-event-gray' style='width: "+c*l+"px'>"+o[u].name+"</div>",M=0;M<3*l;M++)M===p?d.eq(p).append(S):M===2*l?d.eq(2*l).append(_):d.eq(M).append(x)}break}if(y===h){if(console.log("-- 中 end"),o[u].shouldDateTime>=new Date(d.eq(l).data("ymd")).getTime()){console.log("---- 中 start");for(var A="<div class='all-day-event-gray all-day-event-gray-radius' style='width: "+c*b+"px'>"+o[u].name+"</div>",L=0;L<3*l;L++)L===p?d.eq(p).append(A):d.eq(L).append(x)}else if(o[u].shouldDateTime<new Date(d.eq(l).data("ymd")).getTime()&&o[u].shouldDateTime>=new Date(d.eq(0).data("ymd")).getTime()){console.log("---- 前 start");for(var N="<div class='all-day-event-gray all-day-event-gray-radius-right' style='width: "+c*(p-l+1)+"px'>"+o[u].name+"</div>",Y="<div class='all-day-event-gray all-day-event-gray-radius-left' style='width: "+c*(b-p+l-1)+"px'>"+o[u].name+"</div>",O=0;O<3*l;O++)O===p-b+1?d.eq(p-b+1).append(Y):O===l?d.eq(l).append(N):d.eq(O).append(x)}else if(o[u].shouldDateTime<new Date(d.eq(0).data("ymd")).getTime()){console.log("---- 范围外 start");for(var P="<div class='all-day-event-gray all-day-event-gray-radius-right' style='width: "+c*(2*l-p)+"px'>"+o[u].name+"</div>",q="<div class='all-day-event-gray' style='width: "+c*l+"px'>"+o[u].name+"</div>",I=0;I<3*l;I++)0===I?d.eq(0).append(q):I===l?d.eq(l).append(P):d.eq(I).append(x)}break}if(v>o[u].shouldDateTime&&v<o[u].endTime){if(console.log("-- 中 during"),o[u].shouldDateTime>=new Date(d.eq(0).data("ymd")).getTime()&&o[u].shouldDateTime<new Date(d.eq(l).data("ymd")).getTime()){console.log("--- 前 start");for(var F=0;F<l;F++)if(d.eq(F).data("ymd")===k){var R="<div class='all-day-event-gray all-day-event-gray-radius-left' style='width: "+(l-F)*c+"px'>"+o[u].name+"</div>";d.eq(F).append(R)}else d.eq(F).append(x)}else if(o[u].shouldDateTime<new Date(d.eq(0).data("ymd")).getTime()){console.log("--- 范围外 start");var j="<div class='all-day-event-gray' style='width:"+c*l+"px'>"+o[u].name+"</div>";d.eq(0).append(j);for(var U=1;U<l;U++)d.eq(U).append(x)}if(o[u].endTime<new Date(d.eq(2*l).data("ymd")).getTime()){console.log("---- 中 end");var W=(new Date(y).getTime()-new Date(d.eq(l).data("ymd")).getTime())/864e5,G="<div class='all-day-event-gray all-day-event-gray-radius-right' style='width:"+c*(W+1)+"px'>"+o[u].name+"</div>";d.eq(l).append(G);for(var H=l+1;H<2*l;H++)d.eq(H).append(x)}else{var B="<div class='all-day-event-gray' style='width:"+c*l+"px'>"+o[u].name+"</div>";d.eq(l).append(B);for(var $=l+1;$<2*l;$++)d.eq($).append(x)}if(o[u].endTime>=new Date(d.eq(2*l).data("ymd")).getTime()&&o[u].endTime<=new Date(d.eq(3*l-1).data("ymd")+"23:59:59").getTime()){console.log("---- 后 end");for(var X=2*l;X<3*l;X++)if(d.eq(X).data("ymd")===y){var K="<div class='all-day-event-gray all-day-event-gray-radius-right' style='width: "+(X-2*l+1)*c+"px'>"+o[u].name+"</div>";d.eq(2*l).append(K)}else d.eq(X).append(x)}else if(o[u].endTime>new Date(d.eq(3*l-1).data("ymd")).getTime()){console.log("---- 范围外 end");var V="<div class='all-day-event-gray' style='width:"+c*l+"px'>"+o[u].name+"</div>";d.eq(2*l).append(V);for(var J=2*l+1;J<3*l;J++)d.eq(J).append(x)}break}}e(".all-day-event-gray").length>0&&(e("#allDayTxt").show(),e("#allDay").show())}for(var z=this.variable.mergedData,Q=0;Q<z.length;Q++)for(var Z=0;Z<e("#topContainer").children().length;Z++){var ee=z[Q].shouldDateTime,te=new Date(ee),ae=te.getHours(),ie=te.getMinutes();if(n.eq(Z).data("ymd")===s.getFormatYYMMDD(te)){n.eq(Z).children().eq(2).show();var ne=ie<15?4*ae:ie<30&&ie>=15?4*ae+1:ie<45&&ie>=30?4*ae+2:4*ae+3,se=z[Q].totalLength/15,re="",oe=z[Q].name,le=z[Q].url,ce=s.getFormatYYMMDD(new Date(z[Q].shouldDateTime)),de=ce!=currentFormat&&z[Q].shouldDateTime<currentTimestamp,ue=22*se-2;if(z[Q].type>1){if(re="<div class='middle-day-event-gray' style='height: "+ue+"px;"+(oe.length>1?"background: white;":"")+"' data-length='"+z[Q].totalLength+"' data-startTime='"+z[Q].shouldDateTime+"' data-index='"+Q+"'>",oe.length>1&&(re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict1'></div>",re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict2'></div>",re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict3'>"),oe.length>1)for(var pe=0;pe<(oe.length>se-1?se-1:oe.length);pe++)this.formatLessonAvatar(le[pe],oe[pe]).isImage&&7!==lessonDays?re+="<div class='middle-day-event-name' "+(0===t?"style='color:rgba(51, 54, 59, 0.48);":"")+"'><div><img src='"+this.formatLessonAvatar(le[pe],oe[pe]).url+"' /></div><div>"+this.formatName(oe[pe])+"</div></div>":re+="<div class='middle-day-event-name' "+(0===t?"style='color:rgba(51, 54, 59, 048);":"")+"'><div class='hide-element'></div><div class='full-width-element'>"+this.formatName(oe[pe])+"</div></div>";else this.formatLessonAvatar(le[0],oe[0]).isImage&&7!==lessonDays?re+="<div class='middle-day-event-name middle-day-event-name-vertical'"+(0===t?"style='color:rgba(51, 54, 59, 0.5);":"")+"margin-top:"+(ue-24)/2+"px;'><div><img src='"+this.formatLessonAvatar(le[0],oe[0]).url+"' /><span>"+this.formatLessonAvatar(le[0],oe[0]).name+"</span></div><div>"+this.formatName(oe[0])+"</div></div>":re+="<div class='middle-day-event-name middle-day-event-name-vertical'"+(0===t?"style='color:rgba(51, 54, 59, 0.5);":"")+"margin-top:"+(ue-24)/2+"px;'><div class='hide-element'></div><div class='full-width-element'>"+this.formatName(oe[0])+"</div></div>";oe.length>1&&(re+="<div class='middle-day-event-name middle-day-event-name-bottom' style='"+(0===t?"color:rgba(51, 54, 59, 0.5);":"")+"margin-top: 0;position:absolute;bottom:5px'><span>...</span><span class='middle-day-event-name-count'>"+oe.length+"</span></div>"),re+="</div>"}else{if(re="<div class='middle-day-event-gray "+(0===t?"":de?"middle-day-event-green middle-day-event-green-previous":"middle-day-event-green")+"' style='height: "+(22*se-2)+"px;"+(oe.length>1?"background: white !important;":"")+"' data-length='"+z[Q].totalLength+"' data-startTime='"+z[Q].shouldDateTime+"' data-index='"+Q+"'>",oe.length>1&&(0===t?(re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict1'></div>",re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict2'></div>",re+="<div class='middle-day-event-gray-conflict middle-day-event-gray-conflict3'>"):(re+="<div class='middle-day-event-green-conflict middle-day-event-green-conflict1'></div>",re+="<div class='middle-day-event-green-conflict middle-day-event-green-conflict2' style='"+(0===t?"":de?"background-color: #BEEDE2 !important":"")+"'></div>",re+="<div class='middle-day-event-green-conflict middle-day-event-green-conflict3 "+(0===t?"":de?"middle-day-event-green middle-day-event-green-previous":"")+"'>")),oe.length>1){re+="<div style='height: calc(100% - 24px);width:100%;overflow:hidden'>";for(var he=0;he<(oe.length>se-1?se-1:oe.length);he++)this.formatLessonAvatar(le[he],oe[he]).isImage&&7!==lessonDays?re+="<div class='middle-day-event-name'><div><img src='"+this.formatLessonAvatar(le[he],oe[he]).url+"' /></div><div>"+this.formatName(oe[he])+"</div></div>":re+="<div class='middle-day-event-name'><div class='hide-element'></div><div class='full-width-element'>"+this.formatName(oe[he])+"</div></div>";re+="</div>"}else this.formatLessonAvatar(le[0],oe[0]).isImage&&7!==lessonDays?re+="<div class='middle-day-event-name middle-day-event-name-vertical' style='margin-top:"+(ue-24)/2+"px;'><div><img src='"+this.formatLessonAvatar(le[0],oe[0]).url+"' /></div><div>"+this.formatName(oe[0])+"</div></div>":re+="<div class='middle-day-event-name middle-day-event-name-vertical' style='margin-top:"+(ue-24)/2+"px;'><div class='hide-element'></div><div class='full-width-element'>"+this.formatName(oe[0])+"</div></div>";oe.length>1&&(re+="<div class='middle-day-event-name middle-day-event-name-bottom' style='position: absolute; bottom: 5px;margin-top: 0'><span>...</span><span class='middle-day-event-name-count'>"+oe.length+"</span></div>"),re+="</div>"}re+=oe.length>1?"</div>":"",r.eq(Z).children().eq(ne).append(re);for(var me=1;me<se;me++)r.eq(Z).children().eq(ne+me).append("<div class='middle-day-event-gray-under' data-length='"+z[Q].totalLength+"' data-startTime="+z[Q].shouldDateTime+"></div>");break}}for(var ve=0;ve<e(".day").length;ve++){var ge=e(".day").eq(ve),fe=ge.data("ymd"),ke=new Date,ye=new Date(fe);ye.getTime()<ke.getTime()&&(ye.getFullYear()===ke.getFullYear()&&ye.getMonth()===ke.getMonth()&&ye.getDate()===ke.getDate()||ge.find(".day-bottom").eq(0).css("color","#b6bec5"))}for(var be=0;be<3*this.variable.lessonDays;be++)e(".middle-day").eq(be).find(".middle-day-event-gray").length>0?e(".day").eq(be).find(".day-point").eq(0).show():e(".day").eq(be).find(".day-point").eq(0).hide()},avoidConflictTime:function(e){this.consoleLog("click 28 -- avoid conflict time");var t=e.parent().parent(),a=e.parent().index(),n=this.variable.originGridCount-1,s=0,r=t.index(),o=t.parent().children().length;if(this.variable.originGridCount>1){this.consoleLog("click 29 -- count > 1"),this.variable.selectedDayClickable=!1;for(var l=0;l<n;l++){if(t.children().eq(a+l+1).children().length>0){var c=t.children().eq(a+l+1).find(".middle-day-event-gray").eq(0),d=c.parent().index(),u=c.data("length")/15;a+this.variable.originGridCount-d;var p=this.isRecentAvailableTime(t,r,a,u,d,0),h=this.isRecentAvailableTime(t,r,a,u,d,1),m=this.isRecentAvailableTime(t,r,a,u,d,2),v=this.isRecentAvailableTime(t,r,a,u,d,3);"object"==Object(i["a"])(p)?(this.consoleLog("click 31"),s=22*(a-p.index),this.moveElToAvailableTime(e,0,-s,200*(s/200+1),r,p.index)):"object"==Object(i["a"])(h)?(this.consoleLog("click 32"),s=22*(h.index-a),this.moveElToAvailableTime(e,0,s,200*(s/200+1),r,h.index)):(this.consoleLog("click 33"),r>=o/3&&r<=o/3*2-1?"object"==Object(i["a"])(v)?(this.consoleLog("click 34"),this.moveElToAvailableTime(e,v.distanceX,v.distanceY,v.duration,v.i,v.j)):"object"==Object(i["a"])(m)&&(this.consoleLog("click 35"),this.moveElToAvailableTime(e,m.distanceX,m.distanceY,m.duration,m.i,m.j)):(this.consoleLog("click 36"),this.getAvailableAgendaTime(-1))),e.removeClass("selected-past-day-time").removeClass("selected-event-day-time");break}if(l===n-1&&(this.consoleLog("click 37"),a>96-this.variable.originGridCount)){var g=this.isRecentAvailableTime(t,r,a,a-96+this.variable.originGridCount,96,0),f=this.isRecentAvailableTime(t,r,a,a-96+this.variable.originGridCount,92,3);"object"==Object(i["a"])(g)?(this.consoleLog("click 38"),s=22*(a-g.index),this.moveElToAvailableTime(e,0,-s,200*(s/200+1),r,g.index)):"object"==Object(i["a"])(f)&&(this.consoleLog("click 39"),this.moveElToAvailableTime(e,f.distanceX,f.distanceY,f.duration,f.i,f.j))}}this.getAvailableAgendaTime(r,a)}else this.getAvailableAgendaTime(r,a)},getAvailableAgendaTime:function(t,a){this.consoleLog("click 17 -- get available agenda time");var i=e("#topContainer"),n=e("#middleContainer");if(t<0);else{var s=i.children().eq(t).data("ymd"),r=n.children().eq(t).children().eq(a),o=r.data("hour")+":"+r.data("minute");console.log(s+" "+o);var l=new Date(s+" "+o).getTime()/1e3;isNaN(l)&&(l="0")}},moveElToAvailableTime:function(t,a,i,n,r,o){this.consoleLog("click 30 -- move to available time");var l=e("#bottom");t.animate({marginTop:i,marginLeft:a},n,(function(){t.parent().parent().parent().children().eq(r).children().eq(o).append(t),t.css({marginTop:0,marginLeft:0}),s.variable.selectedDayClickable=!0,t.removeClass("selected-past-day-time").removeClass("selected-event-day-time")})),l.animate({scrollTop:e(".middle-day").eq(r).children().eq(o-4).offset().top+l.scrollTop()-200},250),this.getAvailableAgendaTime(r,o)},findRecentAvailableTime:function(t){this.consoleLog("click 7 - find recent available time");var a,i,n,r,o=t.parent().parent(),l=t.parent().index(),c=!1,d=o.index(),u=o.parent().children().length,p=e("#currentTimeMark").parent().index(),h=e(".current-day"),m=-1;if(this.consoleLog("click 8"),h.eq(0)&&(this.consoleLog("click 9"),m=h.eq(0).index()),this.consoleLog("click 10"),this.variable.originGridCount>=1){this.consoleLog("click 11"),this.variable.selectedDayClickable=!1,p+1>this.variable.endIndex&&(this.consoleLog("click 12"),c=!0);e:for(var v=p+1;v<=this.variable.endIndex;v++)for(var g=0;g<this.variable.originGridCount;g++){if(o.children().eq(v+g).children().length>0||m!==d){v===s.variable.endIndex-1&&(console.log("转去平移"),c=!0);continue e}if(g===this.variable.originGridCount-1){console.log("向下"),a=22*(v-l),i=0,r=200*(a/200+1),this.moveElToAvailableTime(t,i,a,r,d,v),this.consoleLog("click 13 -- down");break e}}if(c){console.log("需要平移"),console.log("选中的",d),console.log("当前的",m);var f=o.parent();if(d<=u/3*2-1&&m<=u/3*2-1)if(d>=m)e:for(var k=d+1;k<=u/3*2-1;k++)t:for(var y=this.variable.startIndex;y<=this.variable.endIndex;y++)for(var b=0;b<this.variable.originGridCount;b++){if(f.children().eq(k).children().eq(y+b).children().length>0){y+=b;continue t}if(b===this.variable.originGridCount-1){a=22*(y-l),i=e(".middle-day-time").eq(0).width()*(k-d),n=Math.sqrt(i*i+a*a),r=200*(n/200+1),r=r>200?r:200,this.moveElToAvailableTime(t,i,a,r,k,y),this.consoleLog("click 14 -- break find1");break e}}else e:for(var x=m;x<=u/3*2-1;x++)if(x===m)t:for(var C=p+1;C<=this.variable.endIndex;C++)for(var w=0;w<this.variable.originGridCount;w++){if(f.children().eq(x).children().eq(C+w).children().length>0){C+=w;continue t}if(w===this.variable.originGridCount-1){a=22*(C-l),i=e(".middle-day-time").eq(0).width()*(x-d),n=Math.sqrt(i*i+a*a),r=200*(n/200+1),r=r>200?r:200,this.moveElToAvailableTime(t,i,a,r,x,C),this.consoleLog("click 15 -- break find1");break e}}else t:for(var D=this.variable.startIndex;D<=this.variable.endIndex;D++)for(var T=0;T<this.variable.originGridCount;T++){if(f.children().eq(x).children().eq(D+T).children().length>0){D+=T;continue t}if(T===this.variable.originGridCount-1){a=22*(D-l),i=e(".middle-day-time").eq(0).width()*(x-d),n=Math.sqrt(i*i+a*a),r=200*(n/200+1),r=r>200?r:200,this.moveElToAvailableTime(t,i,a,r,x,D),this.consoleLog("click 16 -- break find1");break e}}else this.getAvailableAgendaTime(-1)}}},isRecentAvailableTime:function(t,a,i,n,s,r){var o=e(".day").eq(a).data("ymd"),l=(new Date).getTime(),c=i+this.variable.originGridCount-s,d=e("#topContainer").children().length,u=t.parent();if(console.log("needGridCount",c),0===r)e:for(var p=i;p>=this.variable.startIndex;p--){var h=t.children().eq(p),m=h.data("hour"),v=h.data("minute"),g=new Date(o+" "+m+":"+v).getTime();if(g>l)if(h.children().length>0){if(1===h.children().length&&h.children().eq(0).hasClass("selected-day-time"))for(var f=1;f<this.variable.originGridCount;f++){if(t.children().eq(p-f).children().length>0)continue e;if(f===this.variable.originGridCount-1)return{index:p-f+(this.variable.originGridCount-1-c)}}}else for(var k=1;k<this.variable.originGridCount;k++){if(t.children().eq(p-k).children().length>0)continue e;if(k===this.variable.originGridCount-1)return{index:p-k}}else if(p===this.variable.startIndex)return!1}else if(1===r)e:for(var y=s+n-1;y<=this.variable.endIndex;y++){var b=t.children().eq(y),x=b.data("hour"),C=b.data("minute"),w=new Date(o+" "+x+":"+C).getTime();if(w>l)if(b.children().length>0){if(1===b.children().length&&b.children().eq(0).hasClass("selected-day-time"))for(var D=1;D<this.variable.originGridCount;D++){if(t.children().eq(y+D).children().length>0)continue e;if(D===this.variable.originGridCount-1)return{index:y}}}else for(var T=1;T<this.variable.originGridCount;T++){if(t.children().eq(y+T).children().length>0)continue e;if(T===this.variable.originGridCount-1)return{index:y}}else if(y===this.variable.endIndex)return!1}else if(3===r){var E=a;if(a<d/3*2-1&&a>=d/3){for(var S=E+1;S<=d/3*2-1;S++)e:for(var _=this.variable.startIndex;_<=this.variable.endIndex;_++)for(var M=0;M<this.variable.originGridCount;M++){if(u.children().eq(S).children().eq(_+M).children().length>0){_+=M;continue e}if(M===this.variable.originGridCount-1)return distanceY=22*(_-i),distanceX=e(".middle-day-time").eq(0).width()*(S-E),distanceTotal=Math.sqrt(distanceX*distanceX+distanceY*distanceY),duration=200*(distanceTotal/200+1),{distanceX:distanceX,distanceY:distanceY,distanceTotal:distanceTotal,duration:duration>200?duration:200,i:S,j:_}}return!1}}else if(2===r){var A=a;if(a<=d/3*2-1&&a>d/3)for(var L=d/3;L<a;L++)e:for(var N=this.variable.startIndex;N<=this.variable.endIndex;N++)for(var Y=0;Y<this.variable.originGridCount;Y++){if(u.children().eq(L).children().eq(N+Y).children().length>0){N+=Y;continue e}if(Y===this.variable.originGridCount-1)return distanceY=22*(N-i),distanceX=e(".middle-day-time").eq(0).width()*(L-A),distanceTotal=Math.sqrt(distanceX*distanceX+distanceY*distanceY),duration=200*(distanceTotal/200+1),{distanceX:distanceX,distanceY:distanceY,distanceTotal:distanceTotal,duration:duration>200?duration:200,i:L,j:N}}return!1}return!0},moving:function(t,a){e("#middleContainer").css("marginLeft",t+a),e("#topContainer").css("marginLeft",t+a),e("#allDayContainer").css("marginLeft",t+a),e("#bottom").css("overflow","hidden")},moveEnd:function(t){e("#middleContainer").css("marginLeft",t),e("#topContainer").css("marginLeft",t),e("#allDayContainer").css("marginLeft",t);var a=e(".middle-day").eq(lessonDays).find(".middle-day-event-gray");void 0!==a&&null!==a&&a.eq(0),e(".day").hasClass("current-day"),isAndroid&&(this.consoleLog(e(".day").eq(this.variable.lessonDays).data("ymd")),window.js.updateCalendarFirstDay(parseInt(new Date(e(".day").eq(this.variable.lessonDays).data("ymd")).getTime()/1e3)))},consoleLog:function(e){},getOtherAgendas:function(e,t){this.variable.mergedData.length>0?this.variable.mergedData[0].shouldDateTime:d.getTime(),this.variable.allDayData.length>0?this.variable.allDayData[0].shouldDateTime:d.getTime(),this.variable.mergedData.length>0?this.variable.mergedData[this.variable.mergedData.length-1].shouldDateTime:d.getTime(),this.variable.allDayData.length>0?this.variable.mergedData[this.variable.allDayData.length-1].shouldDateTime:d.getTime()},imageUrlIsExist:function(e){var t=new Image;return t.src=e,t.fileSize>0||t.width>0&&t.height>0}};t["a"]=s}).call(this,a("a336"))}}]);
//# sourceMappingURL=chunk-448e1122.1606e45f.js.map