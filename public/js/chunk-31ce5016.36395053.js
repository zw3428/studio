(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31ce5016"],{6873:function(t,a,e){},"80fe":function(t,a,e){"use strict";e.r(a);var i,s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("base-header",{staticClass:"pb-6"},[e("div",{staticClass:"row align-items-center py-4"},[e("div",{staticClass:"col-lg-6 col-7"},[e("h6",{staticClass:"h2 text-white d-inline-block mb-0"},[t._v("Policies")])]),e("div",{staticClass:"col-lg-6 col-5 text-right"},[e("button-with-loading",{staticStyle:{margin:"0 10px 0 0",display:"inline-block"},attrs:{type:"white",color:"white",size:"40",fontSize:"10",padding:"4px 8px",text:"Save",complete:t.isButtonLoadingComplete},on:{start:t.savePolicy}}),e("base-button",{staticClass:"tk-font-color-main tk-no-shadow",staticStyle:{height:"100%"},attrs:{size:"sm",type:"neutral"},on:{click:function(a){a.preventDefault(),t.showStatement=!0}}},[t._v("View Statement")])],1)])]),t.isLoading?e("div",{staticClass:"container-fluid mt--6",staticStyle:{height:"80vh",position:"relative"}},[e("loading",{attrs:{size:"80"}})],1):e("div",{staticClass:"container-fluid mt--6"},[e("div",{staticClass:"row card-wrapper"},[e("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(0),e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Allow refund")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.allowRefund,callback:function(a){t.$set(t.policy,"allowRefund",a)},expression:"policy.allowRefund"}})],1)])])])]),t.policy.allowRefund?e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Notice required")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.noticeRequired1,callback:function(a){t.noticeRequired1=a},expression:"noticeRequired1"}})],1),t.noticeRequired1?e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationHours?1:0},on:{click:function(a){a.preventDefault(),t.initList(0),t.showCancelationHours=!t.showCancelationHours}}},[e("span",[t._v(t._s(t.policy.refundNoticeRequired)+" hr(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationHours?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.hours,value:t.policy.refundNoticeRequired},on:{select:t.select}}):t._e()],1),e("span",[t._v("in advance")])],1):e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("hours in advance")])])])])])]):t._e(),t.policy.allowRefund?e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Limited refund")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.refundLimitTimes,callback:function(a){t.$set(t.policy,"refundLimitTimes",a)},expression:"policy.refundLimitTimes"}})],1),t.policy.refundLimitTimes?e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationTimes?1:0},on:{click:function(a){a.preventDefault(),t.initList(1),t.showCancelationTimes=!t.showCancelationTimes}}},[e("span",[t._v(t._s(t.policy.refundLimitTimesAmount)+" time(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationTimes?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.times,value:t.policy.refundLimitTimesAmount},on:{select:t.select}}):t._e()],1),e("span",{staticStyle:{"margin-right":"10px"}},[t._v("every")]),e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showCancelationMonths?1:0},on:{click:function(a){a.preventDefault(),t.initList(2),t.showCancelationMonths=!t.showCancelationMonths}}},[e("span",[t._v(t._s(t.cancelationMonths)+" month(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showCancelationMonths?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.months,value:t.cancelationMonths},on:{select:t.select}}):t._e()],1)],1):e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("times every ")]),e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("months")])])])])])]):t._e()]),e("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(1),e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Allow make-ups")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.allowMakeup,callback:function(a){t.$set(t.policy,"allowMakeup",a)},expression:"policy.allowMakeup"}})],1)])])])]),t.policy.allowMakeup?e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Notice required")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.noticeRequired2,callback:function(a){t.noticeRequired2=a},expression:"noticeRequired2"}})],1),t.noticeRequired2?e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupHours?1:0},on:{click:function(a){a.preventDefault(),t.initList(3),t.showMakeupHours=!t.showMakeupHours}}},[e("span",[t._v(t._s(t.policy.makeupNoticeRequired)+" hr(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupHours?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.hours,value:t.policy.makeupNoticeRequired},on:{select:t.select}}):t._e()],1),e("span",[t._v("in advance")])],1):e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("hours in advance")])])])])])]):t._e(),t.policy.allowMakeup?e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px20"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Reschedule limits")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.policy.makeupLimitTimes,callback:function(a){t.$set(t.policy,"makeupLimitTimes",a)},expression:"policy.makeupLimitTimes"}})],1),t.policy.makeupLimitTimes?e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupTimes?1:0},on:{click:function(a){a.preventDefault(),t.initList(4),t.showMakeupTimes=!t.showMakeupTimes}}},[e("span",[t._v(t._s(t.policy.makeupLimitTimesAmount)+" time(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupTimes?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.times,value:t.policy.makeupLimitTimesAmount},on:{select:t.select}}):t._e()],1),e("span",{staticStyle:{"margin-right":"10px"}},[t._v("every")]),e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupMonths?1:0},on:{click:function(a){a.preventDefault(),t.initList(5),t.showMakeupMonths=!t.showMakeupMonths}}},[e("span",[t._v(t._s(t.makeupMonths)+" month(s)")]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupMonths?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.months,value:t.makeupMonths},on:{select:t.select}}):t._e()],1)],1):e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("times every ")]),e("span",{staticClass:"tk-font-weight-bold"},[t._v("# ")]),e("span",[t._v("months")])])])])])]):t._e()]),t.policy.allowRefund||t.policy.allowMakeup?e("div",{staticClass:"col-md-4 tk-px-padding-px8"},[t._m(2)]):t._e()]),t._m(3),e("div",{staticClass:"row card-wrapper"},[e("div",{staticClass:"col-md-6 tk-px-padding-px6"},[e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[t._m(4),e("div",{attrs:{id:"tkPolicyWeeklyBasis"}},t._l(t.makeupHourSliders,(function(a,i){return e("div",{key:i,staticClass:"tk-px-margin-top-px40 tk-px-margin-bottom-px50"},[e("div",{staticClass:"tk-layout-inline-block tk-text-left",staticStyle:{width:"48px","font-size":"14px"}},[t._v(" "+t._s(a.day)+" ")]),e("base-slider",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px - 56px)"},attrs:{disabled:a.disable,start:a.hours,connect:t.formatSliderConnect(a),options:{step:.5,tooltips:t.formatSliderTooltips(a.hours.length),behaviour:"drag",pips:{mode:"positions",density:10,stepped:!0,values:[0,20,40,60,80,100],format:t.formatAP}},range:{min:7.5,max:22.5}},on:{input:function(e){return t.updateWeeklyBasisAvailability(e,a)}}}),a.disable?t._e():e("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-main tk-cursor-pointer text-right tk-font-weight-bold",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(e){a.disable=!0,t.test(a)}}},[t._v("Done")]),a.disable?e("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-main tk-cursor-pointer tk-font-weight-bold text-right",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(e){a.disable=!1,t.test(a)}}},[t._v("Edit")]):t._e()],1)})),0)])])])])]),t.policy.allowMakeup?e("div",{staticClass:"col-md-6 tk-px-padding-px8"},[e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Make-up period")]),e("base-switch",{staticClass:"mr-1 tk-layout-inline-block",attrs:{"on-text":"On","off-text":"Off",type:"main"},model:{value:t.openLimitDays,callback:function(a){t.openLimitDays=a},expression:"openLimitDays"}})],1),-1!==t.policy.limitDays?e("div",{staticClass:"invalid-feedback tk-font-color-gray lh-200",staticStyle:{display:"block"}},[e("span",[t._v("Reschedule to a day that is within")]),e("br"),e("span",{staticStyle:{"margin-right":"10px"}},[t._v("the next")]),e("base-button",{staticClass:"tk-font-color-green tk-border-none tk-px-margin-right-px10 tk-position-relative",staticStyle:{padding:"2px 5px","background-color":"rgba(176, 238, 211, 0.48)","box-shadow":"none"},style:{zIndex:t.showMakeupPeriodMonths?2:0},on:{click:function(a){a.preventDefault(),t.initList(6),t.showMakeupPeriodMonths=!t.showMakeupPeriodMonths}}},[e("span",[t._v(t._s(t.makeupPeriodMonths.label))]),e("i",{staticClass:"fas fa-caret-down tk-px-margin-right-px0"}),t.showMakeupPeriodMonths?e("item-list",{staticClass:"tk-position-absolute",attrs:{data:t.days,value:t.makeupPeriodMonths.value},on:{select:t.select}}):t._e()],1)],1):e("div",{staticClass:"invalid-feedback tk-font-color-gray",staticStyle:{display:"block"}},[e("span",[t._v("Reschedule to a day that is within")]),e("br"),e("span",[t._v("the next")]),e("span",{staticClass:"tk-font-weight-bold"},[t._v(" # ")]),e("span",[t._v("months")])])])])])]),e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[t._m(5),t._l(t.targetHourSliders,(function(a,i){return e("div",{key:i,staticClass:"tk-px-margin-top-px20"},[e("div",{staticClass:"tk-layout-inline-block tk-text-right tk-px-padding-right-px12",staticStyle:{width:"48px","font-size":"14px"}},[e("span",[t._v(t._s(a.day)+": ")])]),e("base-slider",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 48px)"},attrs:{options:{step:1,tooltips:t.formatHour},range:{min:0,max:10}},model:{value:a.hours,callback:function(e){t.$set(a,"hours",e)},expression:"item.hours"}})],1)}))],2)])])]),e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px16"},[e("div",{staticClass:"card-body tk-px-padding-top-px10 tk-px-padding-bottom-px10"},[e("span",[e("div",{staticClass:"form-group tk-px-margin-bottom-px0"},[e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 160px)"}},[t._v("Special days availability")]),e("span",{staticClass:"tk-layout-inline-block text-right",staticStyle:{width:"160px"}},[t.specialIsEdit?t._e():e("flat-picker",{staticClass:"form-control form-control-muted tk-bg-color-gray-100 datepicker tk-layout-inline-block tk-px-width-px100 tk-px-margin-right-px10 tk-px-height-px36",attrs:{config:{allowInput:!0}},model:{value:t.specialDate,callback:function(a){t.specialDate=a},expression:"specialDate"}}),t.specialIsEdit?e("base-button",{staticClass:"tk-font-color-main",attrs:{size:"sm",type:"neutral"},on:{click:function(a){return a.preventDefault(),t.disableSpecialDayAvailability(a)}}},[t._v("Done")]):e("base-button",{staticClass:"tk-font-color-main",attrs:{size:"sm",type:"neutral"},on:{click:function(a){return a.preventDefault(),t.addSpecialDayAvailability(a)}}},[t._v("Add")])],1)])]),e("div",{attrs:{id:"tkPolicySpecialDay"}},t._l(t.specialHoursSliders,(function(a,i){return e("div",{key:i,staticClass:"tk-px-margin-top-px40 tk-px-margin-bottom-px50"},[e("div",{staticClass:"tk-layout-inline-block tk-text-left",staticStyle:{width:"110px","font-size":"14px"}},[e("span",[t._v(t._s(t.formatMMDDYYWD(a.timestamp))+": ")])]),e("base-slider",{staticClass:"tk-layout-inline-block",staticStyle:{width:"calc(100% - 110px - 56px)"},attrs:{disabled:a.disable,start:a.hours,connect:t.formatSliderConnect(a),options:{step:.5,tooltips:t.formatSliderTooltips(a.hours.length),behaviour:"drag",pips:{mode:"positions",density:10,stepped:!0,values:[0,20,40,60,80,100],format:t.formatAP}},range:{min:7.5,max:22.5}},on:{input:function(e){return t.updateSpecialDayAvailability(e,a)}}}),a.disable?t._e():e("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-red tk-cursor-pointer text-right",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(a){return t.deleteSpecialDays(i)}}},[t._v("Delete")]),a.disable?e("span",{staticClass:"tk-layout-inline-block tk-px-margin-left-px16 tk-font-color-main tk-cursor-pointer tk-font-weight-bold text-right",staticStyle:{width:"40px","font-size":"10px"},on:{click:function(e){a.disable=!1,t.specialIsEdit=!0}}},[t._v("Edit")]):t._e()],1)})),0)])])])]):t._e()])]),e("modal",{staticClass:"tk-popup-outer",attrs:{show:t.showStatement},on:{"update:show":function(a){t.showStatement=a}}},[e("template",{slot:"header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Studio Policies")])]),e("div",{staticClass:"tk-popup-content"}),e("template",{slot:"footer"},[e("base-button",{staticClass:"tk-font-color-lightGray tk-border-none",attrs:{type:"secondary"},on:{click:function(a){a.preventDefault(),t.showStatement=!1}}},[t._v("Close")]),e("base-button",{staticClass:"tk-font-color-white tk-border-none",attrs:{type:"main"},on:{click:function(t){t.preventDefault()}}},[t._v("Edit")])],1)],2)],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[e("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[e("h5",{staticClass:"h3 mb-0"},[t._v("Cancelation Policies")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px5 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[e("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[e("h5",{staticClass:"h3 mb-0"},[t._v("Make-up Policies")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"tk-layout-full-height tk-position-relative"},[i("img",{staticClass:"tk-position-absolute",staticStyle:{bottom:"1rem",width:"80%",left:"10%"},attrs:{src:e("8d55")}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row card-wrapper tk-px-margin-top-px20"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card mb-4 tk-px-margin-bottom-px0 tk-no-shadow",staticStyle:{"background-color":"transparent"}},[e("div",{staticClass:"card-header tk-border-none",staticStyle:{"border-radius":"calc(0.375rem - 1px)","background-color":"transparent","padding-bottom":"16px"}},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-8"},[e("h5",{staticClass:"h3 mb-0"},[t._v("Availability")])])])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Make-up availability")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-control tk-border-none"},[e("span",{staticClass:"tk-layout-inline-block tk-font-color-black1",staticStyle:{width:"calc(100% - 56px)"}},[t._v("Target teaching hours")])])}],n=(e("9010"),e("82a8"),e("b34d"),e("6ddf"),e("2a39"),e("96f8"),e("6a61"),e("9ad1")),l=e("2cb5"),r=(e("9102"),e("2984"),e("3aa8")),c=e.n(r),p=(e("086f"),e("ce6c")),u=e.n(p),d=(e("6873"),e("fdc1")),m=e("a125"),h=e("5e3a"),k={components:(i={BaseSlider:function(){return Promise.resolve().then(e.bind(null,"db62"))}},Object(l["a"])(i,u.a.name,u.a),Object(l["a"])(i,c.a.name,c.a),Object(l["a"])(i,"ItemList",(function(){return e.e("chunk-84d59424").then(e.bind(null,"3b77"))})),Object(l["a"])(i,"Loading",(function(){return e.e("chunk-2d22d938").then(e.bind(null,"f7a2"))})),Object(l["a"])(i,"flatPicker",(function(){return e.e("chunk-10f3ed42").then(e.t.bind(null,"85db",7))})),Object(l["a"])(i,"buttonWithLoading",(function(){return e.e("chunk-a8f506b8").then(e.bind(null,"6ea5"))})),i),data:function(){return{allowRefund:!1,allowMakeup:!1,allowMakeupPeriod:!1,limitedRefund:!1,rescheduleLimits:!1,makeupPeriod:!1,setMakeupAvailability:!1,makeupAvailablity:"Sun: 2p-7p; Mon: 10a-6p; Tue: 10a-6p; Wed: 10a-6p; Thu: 10a-6p; Fri: 10a-6p; Sat: 2p-7p; ",targetedHours:"Sun: 4hrs; Mon: 6hrs; Tue: 6hrs; Wed: 6hrs; Thu: 6hrs; Fri: 6hrs; Sat: 4hrs; ",selectsType:0,cancelationMonths:2,makeupMonths:2,makeupPeriodMonths:{label:"1 week",value:7},hours:[],times:[],months:[],days:[{label:"1 week",value:7},{label:"2 weeks",value:14},{label:"3 weeks",value:21},{label:"4 weeks",value:28},{label:"5 weeks",value:35},{label:"6 weeks",value:42},{label:"7 weeks",value:49},{label:"8 weeks",value:56},{label:"3 months",value:90},{label:"4 months",value:120},{label:"5 months",value:150},{label:"6 months",value:180},{label:"7 months",value:210},{label:"8 months",value:240},{label:"9 months",value:270},{label:"10 months",value:300},{label:"11 months",value:330},{label:"1 year",value:365}],makeupHourSliders:[{day:"Sun",hours:[],disable:!0},{day:"Mon",hours:[],disable:!0},{day:"Tue",hours:[],disable:!0},{day:"Wed",hours:[],disable:!0},{day:"Thu",hours:[],disable:!0},{day:"Fri",hours:[],disable:!0},{day:"Sat",hours:[],disable:!0}],targetHourSliders:[{day:"Sun",hours:0},{day:"Mon",hours:0},{day:"Tue",hours:0},{day:"Wed",hours:0},{day:"Thu",hours:0},{day:"Fri",hours:0},{day:"Sat",hours:0}],specialHoursSliders:[],showCancelationHours:!1,showCancelationTimes:!1,showCancelationMonths:!1,showMakeupHours:!1,showMakeupTimes:!1,showMakeupMonths:!1,showMakeupPeriodMonths:!1,noticeRequired1:!1,noticeRequired2:!1,openLimitDays:!1,policy:{},isLoading:!0,formatAP:{to:function(t){var a=String(t);return t<12?a.indexOf(".")>-1?parseInt(a)+":30a":a+":00a":12===t?a+":00p":12.5===t?parseInt(a)+":30p":(a=String(t-12),a.indexOf(".")>-1?parseInt(a)+":30p":a+":00p")},from:Number},formatHour:{to:function(t){var a=parseInt(t);return a<2?a+" hr":a+" hrs"},from:Number},specialDate:"",isButtonLoadingComplete:!1,specialIsEdit:!1,showStatement:!1}},watch:{noticeRequired1:function(t){this.policy.refundNoticeRequired=t?2:0},noticeRequired2:function(t){this.policy.makeupNoticeRequired=t?2:0},openLimitDays:function(t){this.policy.limitDays=t?this.makeupPeriodMonths.value:-1},specialHoursSliders:{handler:function(t){var a=t;t:for(var e=0;e<a.length;e++)for(var i=a[e],s=0;s<i.hours.length;s++)if(s%2===0&&i.hours[s]==i.hours[s+1]&&i.hours.length>2){i.hours.splice(s,2);break t}this.specialHoursSliders=a,this.initClickSpecialDay()},deep:!0}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i,s,o,n,l,r,c,p,u,h,k,b;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(e=t,i=1;i<73;i++)e.hours.push({label:i>1?i+" hours":i+" hour",value:i});for(s=1;s<31;s++)e.times.push({label:s>1?s+" times":s+" time",value:s});for(o=1;o<7;o++)e.months.push({label:o>1?o+" months":o+" month",value:o});return e.specialDate=e.$tools.formatYYMMDD((new Date).getTime()),a.next=7,m["a"].listPolicyByTeacherId(d["a"].userId());case 7:for(n=a.sent,console.log("policy: ",n),e.policy=n,e.noticeRequired1=0!==n.refundNoticeRequired,e.noticeRequired2=0!==n.makeupNoticeRequired,e.openLimitDays=n.limitDays>-1,e.days.some((function(t){t.value==n.limitDays&&(e.makeupPeriodMonths=t)})),e.cancelationMonths=parseInt(n.refundLimitTimesPeriod/30),e.makeupMonths=parseInt(n.makeupLimitTimesPeriod/30),l=0;l<n.weekAvailabilityTimes.length;l++)r=n.weekAvailabilityTimes[l],e.makeupHourSliders[r.dayOfWeek].hours.push(r.timePeriod.from.hour+r.timePeriod.from.minute/60),e.makeupHourSliders[r.dayOfWeek].hours.push(r.timePeriod.to.hour+r.timePeriod.to.minute/60);console.log("weekly basis: ",e.makeupHourSliders),c=0;case 19:if(!(c<n.specialAvailabilityTimes.length)){a.next=36;break}p=n.specialAvailabilityTimes[c],u=!1,h=0;case 23:if(!(h<e.specialHoursSliders.length)){a.next=32;break}if(e.specialHoursSliders[h].timestamp!=1e3*p.specialDay){a.next=29;break}return u=!0,e.specialHoursSliders[h].hours.push(p.timePeriod.from.hour+p.timePeriod.from.minute/60),e.specialHoursSliders[h].hours.push(p.timePeriod.to.hour+p.timePeriod.to.minute/60),a.abrupt("break",32);case 29:h++,a.next=23;break;case 32:u||(k=[],k.push(p.timePeriod.from.hour+p.timePeriod.from.minute/60),k.push(p.timePeriod.to.hour+p.timePeriod.to.minute/60),e.specialHoursSliders.push({disable:!0,timestamp:1e3*p.specialDay,hours:k}));case 33:c++,a.next=19;break;case 36:if(n.lessonHours.length>0)for(b=0;b<n.lessonHours.length;b++)e.targetHourSliders[b].hours=n.lessonHours[b];e.isLoading=!1;case 38:case"end":return a.stop()}}),a)})))()},methods:{test:function(t){console.log(t)},disableSpecialDayAvailability:function(){for(var t=0;t<this.specialHoursSliders.length;t++)this.specialHoursSliders[t].disable=!0;this.specialIsEdit=!1},savePolicy:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,console.log(e.policy),e.policy.refundLimitTimesPeriod=30*e.cancelationMonths,e.policy.makeupLimitTimesPeriod=30*e.makeupMonths,console.log(e.makeupPeriodMonths.value),e.policy.limitDays=e.makeupPeriodMonths.value,i=[],e.targetHourSliders.some((function(t){i.push(parseInt(t.hours))})),e.policy.lessonHours=i,s=[],e.specialHoursSliders.some((function(t){for(var a=0;a<t.hours.length;a++)a%2==0&&s.push({dayOfWeek:new Date(t.timestamp).getDay(),specialDay:parseInt(t.timestamp/1e3),timePeriod:{from:{hour:parseInt(t.hours[a]),minute:String(t.hours[a]).indexOf(".")>-1?30:0,second:0},to:{hour:parseInt(t.hours[a+1]),minute:String(t.hours[a+1]).indexOf(".")>-1?30:0,second:0}}})})),e.policy.specialAvailabilityTimes=s,e.policy.setAvailabilityTimes=!0,e.policy.updateTime=String(parseInt((new Date).getTime()/1e3)),a.next=16,h["a"].policies.doc(e.policy.userId).update(e.policy).then((function(){e.isButtonLoadingComplete=!0,e.$notify({message:"Update Success!",type:"success"})})).catch((function(t){e.$notify({message:"Update faild, try it again!",type:"error"})}));case 16:e.isButtonLoadingComplete=!1;case 17:case"end":return a.stop()}}),a)})))()},saveWeeklyBasisData:function(t){this.policy.weekAvailabilityTimes=t},updateSpecialDayAvailability:function(t,a){this.updateAvailability(t,a)},updateWeeklyBasisAvailability:function(t,a){this.updateAvailability(t,a)},updateAvailability:function(t,a){var e=t;e.forEach((function(t){t=parseFloat(t).toFixed(1)})),a.hours=e},sortAvailabilityHours:function(t){for(var a=[],e=[],i=0;i<t.length;i++)if(i%2==0){var s=[];s.push(t[i]),s.push(t[i+1]),a.push(s)}return a=a.sort((function(t,a){return t[0]-a[0]})),a.some((function(t){t.some((function(t){e.push(t)}))})),e},selectRangeIsAvailable:function(t,a,e){for(var i=!1,s=0;s<t.length;s++){var o=s;if(o%2==0){var n=t[o],l=t[o+1];if(0===o&&e<n){i=!0;break}if(o+2<t.length-1){var r=t[o+2];if(console.log(r),a>l&&e<r){i=!0;break}}if(o===t.length-2&&a>l&&e<=22.5){i=!0;break}}}return i},initClickSpecialDay:function(){var t=this,a=document.getElementById("tkPolicySpecialDay");if(!t.$tools.isNull(a)&&!t.$tools.isNull(a.children))for(var e=function(e){var i=e,s=a.children[i].children[1].children[0].children[0];s.onclick=null,s.onclick=function(a){if(!a.target.classList.contains("noUi-draggable")){var e=parseInt(a.offsetX/a.target.offsetWidth*15)+7.5,s=e+1,o=!1,n=t.sortAvailabilityHours(t.specialHoursSliders[i].hours);o=t.selectRangeIsAvailable(n,e,s),o?(n.push(e),n.push(s)):(s=e,e=s-1,o=t.selectRangeIsAvailable(n,e,s),o&&(n.push(e),n.push(s))),n=t.sortAvailabilityHours(n),t.specialHoursSliders[i].disable||(t.specialHoursSliders[i].hours=n)}}},i=0;i<a.children.length;i++)e(i)},formatSliderTooltips:function(t){for(var a=[],e=0;e<t;e++)a.push(this.formatAP);return a},formatSliderConnect:function(t){var a=[];if(t.hours.length%2===0)for(var e=0;e<=t.hours.length;e++)e%2===0?a.push(!1):a.push(!0);return a},deleteSpecialDays:function(t){this.specialHoursSliders.splice(t,1)},addSpecialDayAvailability:function(){var t=this,a=new Date(t.specialDate).getTime();if(a<(new Date).getTime()&&t.$tools.formatYYMMDD(a)!==t.$tools.formatYYMMDD((new Date).getTime()))t.$notify({message:"The past date is invalid, try another one",type:"error"});else{var e=!1;t.specialHoursSliders.some((function(t){t.timestamp===a&&(e=!0)})),e?t.$notify({message:"You've already set the date, try another one",type:"error"}):(t.specialHoursSliders.push({disable:!1,timestamp:a,hours:t.formatHoursInDay(a)}),t.specialHoursSliders=t.specialHoursSliders.sort((function(t,a){return t.timestamp-a.timestamp})),t.specialIsEdit=!0)}},formatHoursInDay:function(t){var a=this.$tools.formatWeekday(t),e=[0,0];return this.makeupHourSliders.some((function(t){t.day==a&&(e=t.hours)})),e},formatMMDDYYWD:function(t){return this.$tools.formatMMDDYY(t)+" "+this.$tools.formatWeekday(t)},getMonths:function(t){return parseInt(t/30)},getInt:function(t){return parseInt(t)},getHoursStr:function(t){return t+" hr(s)"},initList:function(t){var a=this;switch(t){case 0:a.showCancelationTimes=!1,a.showCancelationMonths=!1,a.showMakeupHours=!1,a.showMakeupTimes=!1,a.showMakeupMonths=!1,a.showMakeupPeriodMonths=!1;break;case 1:a.showCancelationHours=!1,a.showCancelationMonths=!1,a.showMakeupHours=!1,a.showMakeupTimes=!1,a.showMakeupMonths=!1,a.showMakeupPeriodMonths=!1;break;case 2:a.showCancelationHours=!1,a.showCancelationTimes=!1,a.showMakeupHours=!1,a.showMakeupTimes=!1,a.showMakeupMonths=!1,a.showMakeupPeriodMonths=!1;break;case 3:a.showCancelationHours=!1,a.showCancelationTimes=!1,a.showCancelationMonths=!1,a.showMakeupTimes=!1,a.showMakeupMonths=!1,a.showMakeupPeriodMonths=!1;break;case 4:a.showCancelationHours=!1,a.showCancelationTimes=!1,a.showCancelationMonths=!1,a.showMakeupHours=!1,a.showMakeupMonths=!1,a.showMakeupPeriodMonths=!1;break;case 5:a.showCancelationHours=!1,a.showCancelationTimes=!1,a.showCancelationMonths=!1,a.showMakeupHours=!1,a.showMakeupTimes=!1,a.showMakeupPeriodMonths=!1;break;case 6:a.showCancelationHours=!1,a.showCancelationTimes=!1,a.showCancelationMonths=!1,a.showMakeupHours=!1,a.showMakeupTimes=!1,a.showMakeupMonths=!1;break}},select:function(t){var a=this;a.showCancelationHours&&(a.policy.refundNoticeRequired=t.value),a.showCancelationTimes&&(a.policy.refundLimitTimesAmount=t.value),a.showCancelationMonths&&(a.cancelationMonths=t.value),a.showMakeupHours&&(a.policy.makeupNoticeRequired=t.value),a.showMakeupTimes&&(a.policy.makeupLimitTimesAmount=t.value),a.showMakeupMonths&&(a.makeupMonths=t.value),a.showMakeupPeriodMonths&&(a.makeupPeriodMonths=t,console.log(a.makeupPeriodMonths))}}},b=k,f=(e("9bd5"),e("5d22")),v=Object(f["a"])(b,s,o,!1,null,"26b34e60",null);a["default"]=v.exports},"8d55":function(t,a,e){t.exports=e.p+"img/img-1.cd71ec39.png"},"9bd5":function(t,a,e){"use strict";e("c31d")},c31d:function(t,a,e){}}]);
//# sourceMappingURL=chunk-31ce5016.36395053.js.map