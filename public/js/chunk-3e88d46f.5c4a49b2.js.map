{"version":3,"sources":["webpack:///./src/services/collections.js","webpack:///./src/tkViews/Pages/Login.vue?50e4","webpack:///src/tkViews/Pages/Login.vue","webpack:///./src/tkViews/Pages/Login.vue?6a1c","webpack:///./src/tkViews/Pages/Login.vue","webpack:///./node_modules/_core-js@3.9.0@core-js/modules/es.object.get-own-property-names.js","webpack:///./node_modules/_@babel_runtime@7.12.18@@babel/runtime/helpers/esm/typeof.js","webpack:///./src/util/commons.js"],"names":["collection","name","firebase","firestore","user","userOnline","userUnreadCount","instrument","teacher","teacherStudentList","policies","lessonType","studio","cache","makeupPolicy","cancellationPolicy","lessonSchedule","lessonReschedule","lessonSchedulePlan","lessonScheduleMaterial","lessonScheduleAssignment","practice","achievement","material","materialHash","materialAccessControl","student","lessonScheduleConfigure","eventConfig","block","userNotificationConfig","insightsCount","rescheduleMakeupRefund","lessonCancellation","allowSwapStatistics","calendarLinkSetting","googleCalendarEvents","googleCalendarEventsWatch","userNotifications","bugReports","teacherReschedules","errors","couponHistory","userReceipt","accessTokenGoogle","appSessions","appSessionActions","appEvents","config","googleEmail","googleAccessTokenCalendar","googleAccessTokenDrive","googleAccessTokenPhotos","googleCalendarEventsSyncToken","teacherPermissions","salesMan","salesManParams","salesManRecords","salesManLinks","signUpViaLinkCount","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","step","model","userId","studioId","fullName","directives","rawName","value","expression","_v","_s","failedMsg","failed","ref","required","email","callback","$$v","$set","invalidEmail","isButtonLoadingComplete","on","next","$event","preventDefault","loginWithFacebook","loginWithGoogle","loginWithApple","_e","min","max","forgotPwd","invalidPwd","login","notMe","passwordNotSame","invalidPwd2","signup","alert","title","content","buttons","left","right","action","staticRenderFns","components","avatar","buttonWithLoading","FadeTransition","data","password","password2","rememberMe","loading","isShow","marketerAccount","isMarketer","account","created","getMarketer","mounted","console","log","watch","newVal","setTimeout","handler","$tools","isEmail","i","length","deep","methods","collections","getUserInfo","Promise","getTeacherInfo","self","isNull","$firebase","provider","auth","FacebookAuthProvider","signIn","addScope","component","$","fails","nativeGetOwnPropertyNames","f","FAILS_ON_PRIMITIVES","Object","getOwnPropertyNames","target","stat","forced","_typeof","obj","Symbol","iterator","constructor","prototype","stringToBoolean","str","toLowerCase","Boolean","emailValidVerify","resolve","reject","whiteList","forEach","item","indexOf","url","axios","get","then","res","status","JSON","stringify","smtpCheck","catch","err","error","userString","localStorage","getItem","parse","uid","objEquals","props1","props2","propName","commons"],"mappings":"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","file":"js/chunk-3e88d46f.5c4a49b2.js","sourcesContent":["import firebase from '../firebaseConfig'\n\nfunction collection(name) {\n    return firebase.firestore().collection(name)\n}\n\nexport default {\n    user: collection('user'),\n    userOnline: collection(\"user_online\"),\n    userUnreadCount: collection(\"user_unread_count\"),\n    instrument: collection('instrument'),\n    teacher: collection('teacher_info'),\n    teacherStudentList: collection('students_list'),\n    policies: collection('policy'),\n    lessonType: collection('lesson_type'),\n    studio: collection('studio_info'),\n    cache: collection('cache'),\n    makeupPolicy: collection('makeup_policy'),\n    cancellationPolicy: collection('cancellation_policy'),\n    lessonSchedule: collection('lesson_schedule'),\n    lessonReschedule: collection('lesson_reschedule'),\n    lessonSchedulePlan: collection('lesson_schedule_plan'),\n    lessonScheduleMaterial: collection('lesson_schedule_material'),\n    lessonScheduleAssignment: collection('lesson_schedule_assignment'),\n    practice: collection('practice'),\n    achievement: collection('achievement'),\n    material: collection('material'),\n    materialHash: collection('material_hash'),\n    materialAccessControl: collection('material_access_control'),\n    student: collection('student_info'),\n    lessonScheduleConfigure: collection('lesson_schedule_config'),\n    eventConfig: collection('event_config'),\n    block: collection('block'),\n    userNotificationConfig: collection('user_notification_config'),\n    insightsCount: collection('insights_count'),\n    rescheduleMakeupRefund: collection('student_reschedule_makeup_refund_history'),\n    lessonCancellation: collection('lesson_cancellation'),\n    allowSwapStatistics: collection('allow_swap_statistics'),\n    calendarLinkSetting: collection('calendar_link_setting'),\n    googleCalendarEvents: collection('google_calendar_events'),\n    googleCalendarEventsWatch: collection('google_calendar_events_watch'),\n    userNotifications: collection('user_notifications'),\n    bugReports: collection('bug_reports'),\n    teacherReschedules: collection('teacher_reschedules'),\n    errors: collection('tk_errors'),\n    couponHistory: collection('promo_codes_history'),\n    userReceipt: collection('user_receipt'),\n    accessTokenGoogle: collection('access_token_google'),\n    appSessions: collection('app_sessions'),\n    appSessionActions: collection('app_sessions_actions'),\n    appEvents: collection('app_events'),\n    config: collection('config'),\n    googleEmail: collection('google_email'),\n    googleAccessTokenCalendar: collection('google_access_token_calendar'),\n    googleAccessTokenDrive: collection('google_access_token_drive'),\n    googleAccessTokenPhotos: collection('google_access_token_photos'),\n    googleCalendarEventsSyncToken: collection('google_calendar_events_sync_token'),\n    teacherPermissions: collection('teacher_permissions'),\n    salesMan: collection('sales_man'),\n    salesManParams: collection('sales_man_params'),\n    salesManRecords: collection('sales_man_records'),\n    salesManLinks: collection('sales_man_links'),\n    signUpViaLinkCount: collection('signup_via_link_count'),\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('notifications'),_c('img',{staticStyle:{\"width\":\"50%\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\"},attrs:{\"src\":\"/img/brand/tk_login_pic.png\"}}),_c('div',{staticClass:\"container\",staticStyle:{\"position\":\"relative\",\"z-index\":\"1\"}},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"tk-bg-color-white tk-px-margin-top-px100 tk-text-center\"},[(_vm.step !== 2)?_c('img',{staticClass:\"tk-px-width-px90\",attrs:{\"src\":\"/img/brand/tk_logo_icon.png\"}}):_c('avatar',{attrs:{\"uId\":_vm.model.userId,\"studioId\":_vm.model.studioId,\"name\":_vm.model.fullName}}),_c('fade-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.failed),expression:\"failed\"}],staticClass:\"tk-font-color-orange tk-px-margin-top-px30 text-lg\"},[_c('span',{staticClass:\"tk-opacity-0\"},[_vm._v(\"0\")]),_c('span',{staticClass:\"text-sm\"},[_vm._v(_vm._s(_vm.failedMsg))]),_c('span',{staticClass:\"tk-opacity-0\"},[_vm._v(\"0\")])])]),_c('fade-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.failed),expression:\"!failed\"}],staticClass:\"tk-font-color-lightGray tk-px-margin-top-px30 text-lg\"},[(_vm.step !== 2)?_c('span',[_vm._v(\"Get started\")]):_c('span',[_vm._v(_vm._s(_vm.model.fullName))])])])],1)]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-lg-5 col-md-7 tk-px-margin-top-px30\"},[_c('validation-observer',{ref:\"formValidator\"},[_c('form',{staticStyle:{\"width\":\"335px\",\"margin\":\"0 auto\"},attrs:{\"role\":\"form\"}},[(_vm.step === 1)?[_c('base-input',{attrs:{\"alternative\":\"\",\"name\":\"Email\",\"rules\":{ required: false, email: true },\"prepend-icon\":\"ni ni-email-83\",\"placeholder\":\"Your email\",\"inputClasses\":\"tk-px-height-px64\",\"inputGroupClasses\":\"tk-border-color-gray-200\",\"id\":\"loginAccount\"},model:{value:(_vm.model.email),callback:function ($$v) {_vm.$set(_vm.model, \"email\", $$v)},expression:\"model.email\"}}),_c('div',{staticClass:\"text-center\"},[_c('button-with-loading',{staticStyle:{\"margin\":\"10px auto 1rem\"},attrs:{\"text\":\"NEXT\",\"width\":\"180\",\"type\":_vm.invalidEmail ? 'disable' : 'main',\"complete\":_vm.isButtonLoadingComplete},on:{\"start\":_vm.next}})],1),_c('div',{staticClass:\"text-center text-muted mb-4 tk-px-margin-top-px0\"},[_c('small',[_vm._v(\"or\")]),_c('div',{staticClass:\"btn-wrapper text-center\"},[_c('div',{staticClass:\"btn btn-neutral btn-icon tk-border-color-gray-200\",staticStyle:{\"display\":\"block\",\"width\":\"300px\",\"height\":\"50px\",\"margin\":\"20px auto\",\"padding\":\"0\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loginWithFacebook($event)}}},[_c('span',{staticClass:\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\",staticStyle:{\"background-color\":\"#3b5998\",\"line-height\":\"50px\",\"width\":\"50px\",\"height\":\"50px\"}},[_c('i',{staticClass:\"fab fa-facebook-f\"})]),_c('span',{staticClass:\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\",staticStyle:{\"width\":\"calc(100% - 50px)\",\"margin-left\":\"0\"}},[_vm._v(\"Log In with Facebook\")])]),_c('div',{staticClass:\"btn btn-neutral btn-icon tk-border-color-gray-200\",staticStyle:{\"display\":\"block\",\"width\":\"300px\",\"height\":\"50px\",\"margin\":\"14px auto\",\"padding\":\"0\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loginWithGoogle($event)}}},[_c('span',{staticClass:\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\",staticStyle:{\"background-color\":\"#dc4e41\",\"line-height\":\"50px\",\"width\":\"50px\",\"height\":\"50px\"}},[_c('i',{staticClass:\"fab fa-google\"})]),_c('span',{staticClass:\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\",staticStyle:{\"width\":\"calc(100% - 50px)\",\"margin-left\":\"0\"}},[_vm._v(\"Log In with Google\")])]),_c('div',{staticClass:\"btn btn-neutral btn-icon tk-border-color-gray-200\",staticStyle:{\"display\":\"block\",\"width\":\"300px\",\"height\":\"50px\",\"margin\":\"14px auto\",\"padding\":\"0\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loginWithApple($event)}}},[_c('span',{staticClass:\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\",staticStyle:{\"background-color\":\"#222\",\"line-height\":\"50px\",\"width\":\"50px\",\"height\":\"50px\"}},[_c('i',{staticClass:\"fab fa-apple\"})]),_c('span',{staticClass:\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\",staticStyle:{\"width\":\"calc(100% - 50px)\",\"margin-left\":\"0\"}},[_vm._v(\"Log In with Apple\")])])])])]:_vm._e(),(_vm.step === 2)?[_c('base-input',{staticClass:\"tk-form-input-pwd\",attrs:{\"alternative\":\"\",\"name\":\"Password\",\"rules\":{ required: false, min: 6, max: 6 },\"prepend-icon\":\"ni ni-lock-circle-open\",\"type\":\"password\",\"placeholder\":\"Password\",\"inputClasses\":\"tk-px-height-px64\",\"inputGroupClasses\":\"tk-border-color-gray-200\"},model:{value:(_vm.model.password),callback:function ($$v) {_vm.$set(_vm.model, \"password\", $$v)},expression:\"model.password\"}}),_c('div',{staticClass:\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light tk-text-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.forgotPwd($event)}}},[_vm._v(\" Forgot password? \")]),_c('div',{staticClass:\"text-center\"},[_c('button-with-loading',{staticStyle:{\"margin\":\"30px auto 10px\"},attrs:{\"text\":\"LOGIN\",\"width\":\"180\",\"type\":_vm.invalidPwd ? 'disable' : 'main',\"complete\":_vm.isButtonLoadingComplete},on:{\"click\":_vm.login}}),_c('div',{staticClass:\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light\",on:{\"click\":function($event){$event.preventDefault();return _vm.notMe($event)}}},[_vm._v(\" Not me? \")])],1)]:_vm._e(),(_vm.step === 3)?[_c('base-input',{attrs:{\"alternative\":\"\",\"name\":\"Name\",\"prepend-icon\":\"ni ni-single-02\",\"placeholder\":\"Full name\",\"inputClasses\":\"tk-px-height-px64\",\"inputGroupClasses\":\"tk-border-color-gray-200\"},model:{value:(_vm.model.fullName),callback:function ($$v) {_vm.$set(_vm.model, \"fullName\", $$v)},expression:\"model.fullName\"}}),_c('base-input',{attrs:{\"alternative\":\"\",\"name\":\"Password\",\"prepend-icon\":\"ni ni-lock-circle-open\",\"rules\":{ required: false, min: 6, max: 6 },\"type\":\"password\",\"placeholder\":\"Password\",\"inputClasses\":\"tk-px-height-px64\",\"inputGroupClasses\":\"tk-border-color-gray-200\"},model:{value:(_vm.model.password),callback:function ($$v) {_vm.$set(_vm.model, \"password\", $$v)},expression:\"model.password\"}}),_c('base-input',{staticClass:\"tk-form-input-pwd\",attrs:{\"alternative\":\"\",\"name\":\"Password\",\"prepend-icon\":\"ni ni-lock-circle-open\",\"rules\":{ required: false, min: 6, max: 6 },\"type\":\"password\",\"placeholder\":\"Confirm password\",\"inputClasses\":\"tk-px-height-px64\",\"inputGroupClasses\":\"tk-border-color-gray-200\"},model:{value:(_vm.model.password2),callback:function ($$v) {_vm.$set(_vm.model, \"password2\", $$v)},expression:\"model.password2\"}}),(_vm.passwordNotSame && !_vm.invalidPwd2)?_c('div',{staticClass:\"invalid-feedback\",staticStyle:{\"display\":\"block\"}},[_vm._v(\" The two passwords are not the same \")]):_vm._e(),_c('div',{staticClass:\"text-center\"},[_c('button-with-loading',{staticStyle:{\"margin\":\"24px auto 1rem\"},attrs:{\"text\":\"SIGN UP\",\"width\":\"180\",\"type\":_vm.invalidPwd || _vm.invalidPwd2 || _vm.model.fullName === ''\n                      ? 'disable'\n                      : 'main',\"complete\":_vm.isButtonLoadingComplete},on:{\"click\":_vm.signup}}),_c('div',{staticClass:\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light\",on:{\"click\":function($event){$event.preventDefault();return _vm.notMe($event)}}},[_vm._v(\" Already have an account? \")])],1)]:_vm._e()],2)])],1)])]),(_vm.alert.isShow)?_c('alert',{attrs:{\"title\":this.alert.title,\"content\":this.alert.content,\"left\":this.alert.buttons.left.title,\"right\":this.alert.buttons.right.title},on:{\"onLeftTapped\":this.alert.buttons.left.action,\"onRightTapped\":this.alert.buttons.right.action}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Header -->\n    <notifications></notifications>\n    <img\n      style=\"width: 50%; position: absolute; top: 0; left: 0\"\n      src=\"/img/brand/tk_login_pic.png\"\n    />\n    <!-- Page content -->\n    <div class=\"container\" style=\"position: relative; z-index: 1\">\n      <div class=\"row justify-content-center\">\n        <div class=\"tk-bg-color-white tk-px-margin-top-px100 tk-text-center\">\n          <img\n            src=\"/img/brand/tk_logo_icon.png\"\n            class=\"tk-px-width-px90\"\n            v-if=\"step !== 2\"\n          />\n          <avatar\n            :uId=\"model.userId\"\n            :studioId=\"model.studioId\"\n            :name=\"model.fullName\"\n            v-else\n          ></avatar>\n          <fade-transition>\n            <div\n              class=\"tk-font-color-orange tk-px-margin-top-px30 text-lg\"\n              v-show=\"failed\"\n            >\n              <span class=\"tk-opacity-0\">0</span>\n              <span class=\"text-sm\">{{ failedMsg }}</span>\n              <span class=\"tk-opacity-0\">0</span>\n            </div>\n          </fade-transition>\n          <fade-transition>\n            <div\n              class=\"tk-font-color-lightGray tk-px-margin-top-px30 text-lg\"\n              v-show=\"!failed\"\n            >\n              <span v-if=\"step !== 2\">Get started</span>\n              <span v-else>{{ model.fullName }}</span>\n            </div>\n          </fade-transition>\n        </div>\n      </div>\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-5 col-md-7 tk-px-margin-top-px30\">\n          <validation-observer ref=\"formValidator\">\n            <form role=\"form\" style=\"width: 335px; margin: 0 auto\">\n              <!-- account -->\n              <template v-if=\"step === 1\">\n                <base-input\n                  alternative\n                  name=\"Email\"\n                  :rules=\"{ required: false, email: true }\"\n                  prepend-icon=\"ni ni-email-83\"\n                  placeholder=\"Your email\"\n                  v-model=\"model.email\"\n                  inputClasses=\"tk-px-height-px64\"\n                  inputGroupClasses=\"tk-border-color-gray-200\"\n                  id=\"loginAccount\"\n                ></base-input>\n\n                <div class=\"text-center\">\n                  <!-- <base-button\n                    class=\"my-4 tk-border-none\"\n                    style=\"\n                      width: 180px;\n                      height: 50px;\n                      margin-top: 10px !important;\n                    \"\n                    :class=\"{\n                      'tk-bg-color-disableBtn tk-font-color-gray': invalidEmail,\n                      'tk-bg-color-main tk-font-color-white': !invalidEmail,\n                    }\"\n                    @click.prevent=\"next\"\n                    :loading=\"loading\"\n                    >\n                      <span v-if=\"!loading\">NEXT</span>\n                    </base-button> -->\n                  <button-with-loading\n                    style=\"margin: 10px auto 1rem\"\n                    text=\"NEXT\"\n                    @start=\"next\"\n                    width=\"180\"\n                    :type=\"invalidEmail ? 'disable' : 'main'\"\n                    :complete=\"isButtonLoadingComplete\"\n                  ></button-with-loading>\n                </div>\n\n                <div class=\"text-center text-muted mb-4 tk-px-margin-top-px0\">\n                  <small>or</small>\n                  <div class=\"btn-wrapper text-center\">\n                    <div\n                      class=\"btn btn-neutral btn-icon tk-border-color-gray-200\"\n                      style=\"\n                        display: block;\n                        width: 300px;\n                        height: 50px;\n                        margin: 20px auto;\n                        padding: 0;\n                      \"\n                      @click.prevent=\"loginWithFacebook\"\n                    >\n                      <span\n                        class=\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\"\n                        style=\"\n                          background-color: #3b5998;\n                          line-height: 50px;\n                          width: 50px;\n                          height: 50px;\n                        \"\n                      >\n                        <i class=\"fab fa-facebook-f\"></i>\n                      </span>\n                      <span\n                        class=\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\"\n                        style=\"width: calc(100% - 50px); margin-left: 0\"\n                        >Log In with Facebook</span\n                      >\n                    </div>\n                    <div\n                      class=\"btn btn-neutral btn-icon tk-border-color-gray-200\"\n                      style=\"\n                        display: block;\n                        width: 300px;\n                        height: 50px;\n                        margin: 14px auto;\n                        padding: 0;\n                      \"\n                      @click.prevent=\"loginWithGoogle\"\n                    >\n                      <span\n                        class=\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\"\n                        style=\"\n                          background-color: #dc4e41;\n                          line-height: 50px;\n                          width: 50px;\n                          height: 50px;\n                        \"\n                      >\n                        <i class=\"fab fa-google\"></i>\n                      </span>\n                      <span\n                        class=\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\"\n                        style=\"width: calc(100% - 50px); margin-left: 0\"\n                        >Log In with Google</span\n                      >\n                    </div>\n                    <div\n                      class=\"btn btn-neutral btn-icon tk-border-color-gray-200\"\n                      style=\"\n                        display: block;\n                        width: 300px;\n                        height: 50px;\n                        margin: 14px auto;\n                        padding: 0;\n                      \"\n                      @click.prevent=\"loginWithApple\"\n                    >\n                      <span\n                        class=\"btn-inner--icon tk-layout-inline-block tk-font-color-white tk-px-radius-px5\"\n                        style=\"\n                          background-color: #222;\n                          line-height: 50px;\n                          width: 50px;\n                          height: 50px;\n                        \"\n                      >\n                        <i class=\"fab fa-apple\"></i>\n                      </span>\n                      <span\n                        class=\"btn-inner--text tk-layout-inline-block tk-font-color-lightGray\"\n                        style=\"width: calc(100% - 50px); margin-left: 0\"\n                        >Log In with Apple</span\n                      >\n                    </div>\n                  </div>\n                </div>\n              </template>\n\n              <!-- login -->\n              <template v-if=\"step === 2\">\n                <!-- :rules=\"{ required: true, min: 6, max: 6 }\"  -->\n                <base-input\n                  alternative\n                  name=\"Password\"\n                  :rules=\"{ required: false, min: 6, max: 6 }\"\n                  prepend-icon=\"ni ni-lock-circle-open\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  v-model=\"model.password\"\n                  inputClasses=\"tk-px-height-px64\"\n                  inputGroupClasses=\"tk-border-color-gray-200\"\n                  class=\"tk-form-input-pwd\"\n                >\n                </base-input>\n\n                <div\n                  class=\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light tk-text-right\"\n                  @click.prevent=\"forgotPwd\"\n                >\n                  Forgot password?\n                </div>\n\n                <div class=\"text-center\">\n                  <!-- <base-button\n                    native-type=\"submit\"\n                    class=\"my-4 tk-border-none\"\n                    style=\"\n                      width: 180px;\n                      height: 50px;\n                      margin-top: 30px !important;\n                      margin-bottom: 8px !important;\n                    \"\n                    :class=\"{\n                      'tk-bg-color-disableBtn tk-font-color-gray': invalidPwd,\n                      'tk-bg-color-main tk-font-color-white': !invalidPwd,\n                    }\"\n                    id=\"loginBtn\"\n                    @click.prevent=\"login\"\n                    :loading=\"loading\"\n                  >\n                    <span v-if=\"!loading\">LOGIN</span>\n                  </base-button> -->\n                  <button-with-loading\n                    style=\"margin: 30px auto 10px\"\n                    text=\"LOGIN\"\n                    @click=\"login\"\n                    width=\"180\"\n                    :type=\"invalidPwd ? 'disable' : 'main'\"\n                    :complete=\"isButtonLoadingComplete\"\n                  ></button-with-loading>\n                  <div\n                    class=\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light\"\n                    @click.prevent=\"notMe\"\n                  >\n                    Not me?\n                  </div>\n                </div>\n              </template>\n\n              <!-- sign up -->\n              <template v-if=\"step === 3\">\n                <base-input\n                  alternative\n                  name=\"Name\"\n                  prepend-icon=\"ni ni-single-02\"\n                  placeholder=\"Full name\"\n                  v-model=\"model.fullName\"\n                  inputClasses=\"tk-px-height-px64\"\n                  inputGroupClasses=\"tk-border-color-gray-200\"\n                ></base-input>\n\n                <base-input\n                  alternative\n                  name=\"Password\"\n                  prepend-icon=\"ni ni-lock-circle-open\"\n                  :rules=\"{ required: false, min: 6, max: 6 }\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  v-model=\"model.password\"\n                  inputClasses=\"tk-px-height-px64\"\n                  inputGroupClasses=\"tk-border-color-gray-200\"\n                ></base-input>\n\n                <base-input\n                  alternative\n                  name=\"Password\"\n                  prepend-icon=\"ni ni-lock-circle-open\"\n                  :rules=\"{ required: false, min: 6, max: 6 }\"\n                  type=\"password\"\n                  placeholder=\"Confirm password\"\n                  v-model=\"model.password2\"\n                  class=\"tk-form-input-pwd\"\n                  inputClasses=\"tk-px-height-px64\"\n                  inputGroupClasses=\"tk-border-color-gray-200\"\n                ></base-input>\n\n                <div\n                  class=\"invalid-feedback\"\n                  v-if=\"passwordNotSame && !invalidPwd2\"\n                  style=\"display: block\"\n                >\n                  The two passwords are not the same\n                </div>\n\n                <div class=\"text-center\">\n                  <!-- <base-button\n                    native-type=\"submit\"\n                    class=\"my-4 tk-border-none\"\n                    style=\"\n                      width: 180px;\n                      height: 50px;\n                      margin-top: 30px !important;\n                      margin-bottom: 8px !important;\n                    \"\n                    :class=\"{\n                      'tk-bg-color-disableBtn tk-font-color-gray':\n                        invalidPwd || invalidPwd2 || model.fullName === '',\n                      'tk-bg-color-main tk-font-color-white':\n                        !invalidPwd && !invalidPwd2 && model.fullName !== '',\n                    }\"\n                    :loading=\"loading\"\n                    @click.prevent=\"signup\"\n                  >\n                    <span v-if=\"!loading\">SIGN UP</span>\n                  </base-button> -->\n                  <button-with-loading\n                    style=\"margin: 24px auto 1rem\"\n                    text=\"SIGN UP\"\n                    @click=\"signup\"\n                    width=\"180\"\n                    :type=\"\n                      invalidPwd || invalidPwd2 || model.fullName === ''\n                        ? 'disable'\n                        : 'main'\n                    \"\n                    :complete=\"isButtonLoadingComplete\"\n                  ></button-with-loading>\n                  <div\n                    class=\"tk-text-center tk-font-color-main tk-cursor-pointer tk-font-weight-light\"\n                    @click.prevent=\"notMe\"\n                  >\n                    Already have an account?\n                  </div>\n                </div>\n              </template>\n            </form>\n          </validation-observer>\n        </div>\n      </div>\n    </div>\n\n    <alert\n      :title=\"this.alert.title\"\n      :content=\"this.alert.content\"\n      :left=\"this.alert.buttons.left.title\"\n      :right=\"this.alert.buttons.right.title\"\n      v-if=\"alert.isShow\"\n      @onLeftTapped=\"this.alert.buttons.left.action\"\n      @onRightTapped=\"this.alert.buttons.right.action\"\n    >\n    </alert>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport commons from \"../../util/commons\";\nimport $ from \"jquery\";\nimport bus from \"@/bus.js\";\nimport { FadeTransition } from \"vue2-transitions\";\nimport collections from \"@/services/collections\";\n\nexport default {\n  components: {\n    avatar: () => import(\"@/tkViews/components/layout/Avatar\"),\n    buttonWithLoading: () => import(\"../components/layout/ButtonWithLoading\"),\n    FadeTransition,\n    alert: () => import(\"../components/Modal/Alert\"),\n  },\n  data() {\n    return {\n      model: {\n        fullName: \"\",\n        email: \"\",\n        password: \"\",\n        password2: \"\",\n        rememberMe: false,\n        userId: \"\",\n        studioId: \"\",\n      },\n      invalidEmail: true,\n      invalidPwd: true,\n      invalidPwd2: true,\n      email: \"zw@gmail.com\",\n      step: 1,\n      passwordNotSame: false,\n      loading: false,\n      isButtonLoadingComplete: false,\n      failed: false,\n      failedMsg: \"\",\n      alert: {\n        isShow: false,\n        title: \"\",\n        content: \"\",\n        buttons: {\n          left: {\n            title: \"\",\n            action: () => {},\n          },\n          right: {\n            title: \"\",\n            action: () => {},\n          },\n        },\n      },\n\n      marketerAccount: [],\n      isMarketer: false,\n      account: \"\"\n    };\n  },\n  created() {\n    this.getMarketer();\n  },\n  mounted() {\n    console.log(\"进入login页面\");\n  },\n  watch: {\n    failed(newVal) {\n      if (newVal) {\n        setTimeout(() => {\n          this.failed = false;\n          this.failedMsg = \"\";\n        }, 1000);\n      }\n    },\n    model: {\n      handler(newVal, oldVal) {\n        if (!this.loading) {\n          if (this.$tools.isEmail(newVal.email)) {\n            console.log(\"输入的是email\");\n            this.invalidEmail = false;\n          } else {\n            this.invalidEmail = true;\n            if ($(\"#loginAccount\").find(\".invalid-feedback\").length === 0) {\n              this.invalidEmail = false;\n            }\n          }\n\n          for (let i = 0; i < this.marketerAccount.length; i++) {\n            if (this.marketerAccount[i].account === newVal.email) {\n              this.invalidEmail = false;\n              this.isMarketer = true;\n              this.account = newVal.email;\n              setTimeout(() => {\n                $(\"#loginAccount\").find(\".invalid-feedback\").hide();\n              }, 10);\n              break;\n            } else {\n              if (i == this.marketerAccount.length - 1) {\n                this.isMarketer = false;\n                this.account = \"\";\n              }\n            }\n          }\n\n          // console.log(this.invalidEmail, newVal.email, $(\"#loginAccount\").find(\".invalid-feedback\"));\n\n          if (newVal.password.length === 6) {\n            this.invalidPwd = false;\n          } else {\n            this.invalidPwd = true;\n          }\n\n          if (newVal.password2.length === 6) {\n            this.invalidPwd2 = false;\n            if (newVal.password2 === newVal.password) {\n              this.passwordNotSame = false;\n            } else {\n              this.passwordNotSame = true;\n            }\n          } else {\n            this.invalidPwd2 = true;\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    getMarketer() {\n      console.log(\"获取 market 账号信息\");\n      let self = this;\n      collections.config\n        .doc(\"salesAccount\")\n        .get()\n        .then((doc) => {\n          if (doc.exists) {\n            self.marketerAccount.push(doc.data());\n          }\n        });\n    },\n    getUserInfo() {\n      return new Promise(async (resolve, reject) => {\n        try {\n          let userDocs = await this.$firebase\n            .firestore()\n            .collection(\"user\")\n            .where(\"loginMethod\", \"array-contains-any\", [\n              {\n                method: 1,\n                account: this.model.email,\n              },\n              {\n                method: 2,\n                account: this.model.email,\n              },\n              {\n                method: 3,\n                account: this.model.email,\n              },\n              {\n                method: 4,\n                account: this.model.email,\n              },\n            ])\n            .get();\n          let data = [];\n          userDocs.forEach((doc) => {\n            data.push(doc.data());\n          });\n          console.log(\"获取到的用户列表：\", data);\n          if (data.length > 0) {\n            console.log(\"返回第一个用户信息：\", data[0]);\n            resolve(data[0]);\n          } else {\n            console.log(\"用户信息为空\");\n            resolve(null);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      });\n    },\n    getTeacherInfo(userId) {\n      return new Promise(async (resolve, reject) => {\n        try {\n          let teacherDoc = await this.$firebase\n            .firestore()\n            .collection(\"teacher_info\")\n            .doc(userId)\n            .get();\n          console.log(\"获取到的教师信息: \", teacherDoc);\n          resolve(teacherDoc.data());\n        } catch (error) {\n          reject(error);\n        }\n      });\n    },\n    async next() {\n      let self = this;\n      if (!self.invalidEmail && !self.loading) {\n        if (!self.isMarketer) {\n          self.loading = true;\n          let userInfo = await self.getUserInfo();\n          console.log(\"获取到的用户信息：\", userInfo);\n          //判断用户是否具有相应权限\n\n          if (userInfo !== null) {\n            if (self.$tools.isTeacher(userInfo.roleIds)) {\n              let teacherInfo = await self.getTeacherInfo(userInfo.userId);\n              console.log(\"获取到的教师信息: \", teacherInfo);\n              self.isButtonLoadingComplete = true;\n              self.step = 2;\n              self.model.fullName = userInfo.name;\n              self.model.userId = userInfo.userId;\n              self.model.studioId = teacherInfo.studioId;\n            } else {\n              self.isButtonLoadingComplete = true;\n              console.log(\"当前身份是学生,退出登录\");\n            }\n          } else {\n            console.log(\"校验email是否正确\");\n            let isValid = await commons.emailValidVerify(self.model.email);\n\n            console.log(\"当前email合法性: \", isValid);\n            console.log(\"当前校验结果类型: \", typeof isValid);\n            if (isValid) {\n              console.log(\"当前email合法\");\n              self.isButtonLoadingComplete = true;\n              self.step = 3;\n              self.model.fullName = \"\";\n            } else {\n              console.log(\"Email 不合法: \", self.model.email);\n              self.alert.title = \"Wrong email\";\n              self.alert.content =\n                \"This email address \\n(\" +\n                self.model.email +\n                \") \\ndoesn't exist or temporatily couldn't receive message.\";\n              self.alert.buttons.left.title = \"Go Back\";\n              self.alert.buttons.left.action = () => {\n                self.alert.isShow = false;\n                self.isButtonLoadingComplete = true;\n              };\n              self.alert.buttons.right.title = \"Continue\";\n              self.alert.buttons.right.action = () => {\n                self.alert.title = \"Continue?\";\n                self.alert.content =\n                  \"Are you sure to continue with this wrong email address \\n(\" +\n                  self.model.email +\n                  \")?\";\n                self.alert.buttons.left.title = \"Go Back\";\n                self.alert.buttons.right.title = \"Continue\";\n                self.alert.buttons.right.action = () => {\n                  self.isButtonLoadingComplete = true;\n                  self.step = 3;\n                  self.model.fullName = \"\";\n                  self.alert.isShow = false;\n                };\n                self.alert.isShow = true;\n              };\n              self.alert.isShow = true;\n            }\n          }\n\n          self.isButtonLoadingComplete = false;\n        } else {\n          self.$router.push({ name: \"AdministrationLogin\", query: {account: self.account} })\n        }\n      }\n    },\n    notMe() {\n      let self = this;\n      // self.model.email = \"\";\n      self.model.fullName = \"\";\n      self.model.password = \"\";\n      self.model.password2 = \"\";\n      // self.invalidEmail = true;\n      self.invalidPwd = true;\n      self.invalidPwd2 = true;\n      self.step = 1;\n    },\n    forgotPwd() {\n      let self = this;\n    },\n    login() {\n      let self = this;\n      if (!self.$tools.isNull(self.model.email)) {\n        self.loading = true;\n        // self.$router.push({ name: \"Dashboard\" })\n        self.$firebase\n          .auth()\n          .signInWithEmailAndPassword(self.model.email, self.model.password)\n          .then((user) => {\n            console.log(\"登陆成功：\", user);\n            self.loading = false;\n            self.isButtonLoadingComplete = true;\n          })\n          .catch((error) => {\n            console.error(\"登陆失败：\", error);\n            self.isButtonLoadingComplete = false;\n          });\n      }\n      self.isButtonLoadingComplete = false;\n      // self.isButtonLoading = false;\n    },\n    loginWithFacebook() {\n      console.log(\"ready to sign in with Facebook\");\n      let self = this;\n      if (!self.loading) {\n        let firebase = self.$firebase;\n        var provider = new firebase.auth.FacebookAuthProvider();\n        self.signIn(provider);\n      }\n    },\n    loginWithGoogle() {\n      console.log(\"ready to sign in with Google\");\n      let self = this;\n      if (!self.loading) {\n        let firebase = self.$firebase;\n        let provider = new firebase.auth.GoogleAuthProvider();\n        self.signIn(provider);\n      }\n    },\n    loginWithApple() {\n      console.log(\"ready to sign in with Apple\");\n      let self = this;\n      if (!self.loading) {\n        let firebase = self.$firebase;\n        let provider = new firebase.auth.OAuthProvider(\"apple.com\");\n        provider.addScope(\"email\");\n        provider.addScope(\"name\");\n        self.signIn(provider);\n      }\n    },\n    signIn(provider) {\n      let self = this;\n      let firebase = self.$firebase;\n      firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n          console.log(\"login success\");\n          let token = result.credential.accessToken;\n          localStorage.setItem(\"auth_token\", token);\n          let user = result.user;\n          localStorage.setItem(\"auth_user\", user);\n        })\n        .catch((error) => {\n          console.error(\"login failed:\", error);\n        });\n    },\n    async signup() {\n      let self = this;\n      if (\n        !self.$tools.isNull(self.model.fullName) &&\n        !self.$tools.isNull(self.model.password) &&\n        !self.$tools.isNull(self.model.password2) &&\n        !self.loading\n      ) {\n        console.log(\"点击注册\");\n        let isValid = await commons.emailValidVerify(this.model.email);\n        if (!isValid) {\n          this.$notify({\n            message: \"The email is wrong\",\n            type: \"warning\",\n          });\n        }\n        console.log(\"校验结果: \", isValid);\n        self.loading = true;\n        let firebase = self.$firebase;\n        let teacherSignup = firebase.functions().httpsCallable(\"teacherSignup\");\n        let result = await teacherSignup({\n          email: self.model.email,\n          password: self.model.password,\n          fullName: self.model.fullName,\n        });\n        console.log(\"获取到的注册结果: \", result);\n        if (result.data) {\n          if (result.data.code === 0) {\n            this.login();\n          } else {\n            console.log(\"sign up failed: \", result);\n          }\n        } else {\n          console.error(\"sign up failed: \", result);\n        }\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=657ae6e6&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import axios from 'axios'\nimport firebase from 'firebase/app'\n\nfunction stringToBoolean(str) {\n    switch (str.toLowerCase()) {\n        case \"true\": case \"yes\": case \"1\": return true;\n        case \"false\": case \"no\": case \"0\": case null: return false;\n        default: return Boolean(str);\n    }\n}\n\nfunction emailValidVerify(email) {\n    return new Promise((resolve, reject) => {\n        let whiteList = [\"test-\", \"@tunekey.test\", \".test\", \"@tk.com\", \"@tunekey.com\", \"@tunkey.com\"]\n        whiteList.forEach(item => {\n            if (email.indexOf(item) >= 0) {\n                resolve(true)\n                return\n            }\n        })\n        let url = \"https://emailverification.whoisxmlapi.com/api/v1?apiKey=at_wU22I8A8DpX6v2sXO1XT3hlEBdFtG&emailAddress=\" + email\n        axios.get(url)\n            .then(res => {\n                if (res.status) {\n                    if (res.status === 200) {\n                        let data = res.data\n                        if (data) {\n                            console.log('[Email校验] => 校验结果: ', JSON.stringify(data));\n                            resolve(stringToBoolean(data.smtpCheck))\n                            return\n                        }\n                    }\n                }\n                resolve(false)\n            })\n            .catch(err => {\n                console.error(err);\n                reject(err)\n            })\n    })\n}\n\nfunction userId() {\n    const userString = localStorage.getItem('auth_user')\n    if (userString !== '') {\n        let user = JSON.parse(userString)\n        if (user) {\n            return user.uid\n        }\n    }\n    return ''\n}\n\nfunction objEquals(obj, target) {\n    var props1 = Object.getOwnPropertyNames(obj);\n    var props2 = Object.getOwnPropertyNames(target);\n    if (props1.length != props2.length) {\n        return false;\n    }\n    for (var i = 0, max = props1.length; i < max; i++) {\n        var propName = props1[i];\n        if (this[propName] !== obj[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nlet commons = {\n    emailValidVerify,\n    userId,\n    objEquals\n}\n\nexport default commons"],"sourceRoot":""}